var tE=Object.defineProperty;var eE=(a,t,n)=>t in a?tE(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n;var o0=(a,t,n)=>eE(a,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();var sf={exports:{}},hr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function nE(){if(u0)return hr;u0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,u){var c=null;if(u!==void 0&&(c=""+u),r.key!==void 0&&(c=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:u}}return hr.Fragment=t,hr.jsx=n,hr.jsxs=n,hr}var c0;function iE(){return c0||(c0=1,sf.exports=nE()),sf.exports}var sn=iE(),lf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function sE(){if(h0)return vt;h0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function T(C,Y,F){this.props=C,this.context=Y,this.refs=b,this.updater=F||S}T.prototype.isReactComponent={},T.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=T.prototype;function w(C,Y,F){this.props=C,this.context=Y,this.refs=b,this.updater=F||S}var N=w.prototype=new A;N.constructor=w,x(N,T.prototype),N.isPureReactComponent=!0;var L=Array.isArray,O={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(C,Y,F,tt,J,lt){return F=lt.ref,{$$typeof:a,type:C,key:Y,ref:F!==void 0?F:null,props:lt}}function Z(C,Y){return V(C.type,Y,void 0,void 0,void 0,C.props)}function U(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function K(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return Y[F]})}var it=/\/+/g;function st(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?K(""+C.key):Y.toString(36)}function rt(){}function $(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(rt,rt):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function dt(C,Y,F,tt,J){var lt=typeof C;(lt==="undefined"||lt==="boolean")&&(C=null);var ut=!1;if(C===null)ut=!0;else switch(lt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(C.$$typeof){case a:case t:ut=!0;break;case m:return ut=C._init,dt(ut(C._payload),Y,F,tt,J)}}if(ut)return J=J(C),ut=tt===""?"."+st(C,0):tt,L(J)?(F="",ut!=null&&(F=ut.replace(it,"$&/")+"/"),dt(J,Y,F,"",function(Ft){return Ft})):J!=null&&(U(J)&&(J=Z(J,F+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(it,"$&/")+"/")+ut)),Y.push(J)),1;ut=0;var Nt=tt===""?".":tt+":";if(L(C))for(var _t=0;_t<C.length;_t++)tt=C[_t],lt=Nt+st(tt,_t),ut+=dt(tt,Y,F,lt,J);else if(_t=v(C),typeof _t=="function")for(C=_t.call(C),_t=0;!(tt=C.next()).done;)tt=tt.value,lt=Nt+st(tt,_t++),ut+=dt(tt,Y,F,lt,J);else if(lt==="object"){if(typeof C.then=="function")return dt($(C),Y,F,tt,J);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ut}function X(C,Y,F){if(C==null)return C;var tt=[],J=0;return dt(C,tt,"","",function(lt){return Y.call(F,lt,J++)}),tt}function Q(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function et(){}return vt.Children={map:X,forEach:function(C,Y,F){X(C,function(){Y.apply(this,arguments)},F)},count:function(C){var Y=0;return X(C,function(){Y++}),Y},toArray:function(C){return X(C,function(Y){return Y})||[]},only:function(C){if(!U(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},vt.Component=T,vt.Fragment=n,vt.Profiler=r,vt.PureComponent=w,vt.StrictMode=s,vt.Suspense=d,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(C){return function(){return C.apply(null,arguments)}},vt.cloneElement=function(C,Y,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=x({},C.props),J=C.key,lt=void 0;if(Y!=null)for(ut in Y.ref!==void 0&&(lt=void 0),Y.key!==void 0&&(J=""+Y.key),Y)!j.call(Y,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&Y.ref===void 0||(tt[ut]=Y[ut]);var ut=arguments.length-2;if(ut===1)tt.children=F;else if(1<ut){for(var Nt=Array(ut),_t=0;_t<ut;_t++)Nt[_t]=arguments[_t+2];tt.children=Nt}return V(C.type,J,void 0,void 0,lt,tt)},vt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},vt.createElement=function(C,Y,F){var tt,J={},lt=null;if(Y!=null)for(tt in Y.key!==void 0&&(lt=""+Y.key),Y)j.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(J[tt]=Y[tt]);var ut=arguments.length-2;if(ut===1)J.children=F;else if(1<ut){for(var Nt=Array(ut),_t=0;_t<ut;_t++)Nt[_t]=arguments[_t+2];J.children=Nt}if(C&&C.defaultProps)for(tt in ut=C.defaultProps,ut)J[tt]===void 0&&(J[tt]=ut[tt]);return V(C,lt,void 0,void 0,null,J)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(C){return{$$typeof:h,render:C}},vt.isValidElement=U,vt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:Q}},vt.memo=function(C,Y){return{$$typeof:_,type:C,compare:Y===void 0?null:Y}},vt.startTransition=function(C){var Y=O.T,F={};O.T=F;try{var tt=C(),J=O.S;J!==null&&J(F,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(et,W)}catch(lt){W(lt)}finally{O.T=Y}},vt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},vt.use=function(C){return O.H.use(C)},vt.useActionState=function(C,Y,F){return O.H.useActionState(C,Y,F)},vt.useCallback=function(C,Y){return O.H.useCallback(C,Y)},vt.useContext=function(C){return O.H.useContext(C)},vt.useDebugValue=function(){},vt.useDeferredValue=function(C,Y){return O.H.useDeferredValue(C,Y)},vt.useEffect=function(C,Y){return O.H.useEffect(C,Y)},vt.useId=function(){return O.H.useId()},vt.useImperativeHandle=function(C,Y,F){return O.H.useImperativeHandle(C,Y,F)},vt.useInsertionEffect=function(C,Y){return O.H.useInsertionEffect(C,Y)},vt.useLayoutEffect=function(C,Y){return O.H.useLayoutEffect(C,Y)},vt.useMemo=function(C,Y){return O.H.useMemo(C,Y)},vt.useOptimistic=function(C,Y){return O.H.useOptimistic(C,Y)},vt.useReducer=function(C,Y,F){return O.H.useReducer(C,Y,F)},vt.useRef=function(C){return O.H.useRef(C)},vt.useState=function(C){return O.H.useState(C)},vt.useSyncExternalStore=function(C,Y,F){return O.H.useSyncExternalStore(C,Y,F)},vt.useTransition=function(){return O.H.useTransition()},vt.version="19.0.0",vt}var f0;function Kf(){return f0||(f0=1,lf.exports=sE()),lf.exports}var In=Kf(),af={exports:{}},fr={},rf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function lE(){return d0||(d0=1,function(a){function t(X,Q){var W=X.length;X.push(Q);t:for(;0<W;){var et=W-1>>>1,C=X[et];if(0<r(C,Q))X[et]=Q,X[W]=C,W=et;else break t}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var Q=X[0],W=X.pop();if(W!==Q){X[0]=W;t:for(var et=0,C=X.length,Y=C>>>1;et<Y;){var F=2*(et+1)-1,tt=X[F],J=F+1,lt=X[J];if(0>r(tt,W))J<C&&0>r(lt,tt)?(X[et]=lt,X[J]=W,et=J):(X[et]=tt,X[F]=W,et=F);else if(J<C&&0>r(lt,W))X[et]=lt,X[J]=W,et=J;else break t}}return Q}function r(X,Q){var W=X.sortIndex-Q.sortIndex;return W!==0?W:X.id-Q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var d=[],_=[],m=1,y=null,v=3,S=!1,x=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function N(X){for(var Q=n(_);Q!==null;){if(Q.callback===null)s(_);else if(Q.startTime<=X)s(_),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(_)}}function L(X){if(b=!1,N(X),!x)if(n(d)!==null)x=!0,$();else{var Q=n(_);Q!==null&&dt(L,Q.startTime-X)}}var O=!1,j=-1,V=5,Z=-1;function U(){return!(a.unstable_now()-Z<V)}function K(){if(O){var X=a.unstable_now();Z=X;var Q=!0;try{t:{x=!1,b&&(b=!1,A(j),j=-1),S=!0;var W=v;try{e:{for(N(X),y=n(d);y!==null&&!(y.expirationTime>X&&U());){var et=y.callback;if(typeof et=="function"){y.callback=null,v=y.priorityLevel;var C=et(y.expirationTime<=X);if(X=a.unstable_now(),typeof C=="function"){y.callback=C,N(X),Q=!0;break e}y===n(d)&&s(d),N(X)}else s(d);y=n(d)}if(y!==null)Q=!0;else{var Y=n(_);Y!==null&&dt(L,Y.startTime-X),Q=!1}}break t}finally{y=null,v=W,S=!1}Q=void 0}}finally{Q?it():O=!1}}}var it;if(typeof w=="function")it=function(){w(K)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,rt=st.port2;st.port1.onmessage=K,it=function(){rt.postMessage(null)}}else it=function(){T(K,0)};function $(){O||(O=!0,it())}function dt(X,Q){j=T(function(){X(a.unstable_now())},Q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_continueExecution=function(){x||S||(x=!0,$())},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_getFirstCallbackNode=function(){return n(d)},a.unstable_next=function(X){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var W=v;v=Q;try{return X()}finally{v=W}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var W=v;v=X;try{return Q()}finally{v=W}},a.unstable_scheduleCallback=function(X,Q,W){var et=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?et+W:et):W=et,X){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,X={id:m++,callback:Q,priorityLevel:X,startTime:W,expirationTime:C,sortIndex:-1},W>et?(X.sortIndex=W,t(_,X),n(d)===null&&X===n(_)&&(b?(A(j),j=-1):b=!0,dt(L,W-et))):(X.sortIndex=C,t(d,X),x||S||(x=!0,$())),X},a.unstable_shouldYield=U,a.unstable_wrapCallback=function(X){var Q=v;return function(){var W=v;v=Q;try{return X.apply(this,arguments)}finally{v=W}}}}(of)),of}var g0;function aE(){return g0||(g0=1,rf.exports=lE()),rf.exports}var uf={exports:{}},be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function rE(){if(_0)return be;_0=1;var a=Kf();function t(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)_+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(d,_,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:_,implementation:m}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,be.createPortal=function(d,_){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(d,_,null,m)},be.flushSync=function(d){var _=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=_,s.p=m,s.d.f()}},be.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(d,_))},be.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},be.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin),v=typeof _.integrity=="string"?_.integrity:void 0,S=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;m==="style"?s.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):m==="script"&&s.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},be.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var m=h(_.as,_.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(d)},be.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin);s.d.L(d,m,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},be.preloadModule=function(d,_){if(typeof d=="string")if(_){var m=h(_.as,_.crossOrigin);s.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(d)},be.requestFormReset=function(d){s.d.r(d)},be.unstable_batchedUpdates=function(d,_){return d(_)},be.useFormState=function(d,_,m){return c.H.useFormState(d,_,m)},be.useFormStatus=function(){return c.H.useHostTransitionStatus()},be.version="19.0.0",be}var m0;function oE(){if(m0)return uf.exports;m0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),uf.exports=rE(),uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function uE(){if(y0)return fr;y0=1;var a=aE(),t=Kf(),n=oE();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case h:return"Portal";case m:return"Profiler";case _:return"StrictMode";case b:return"Suspense";case T:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case x:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return i=e.displayName||null,i!==null?i:Z(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Z(e(i))}catch{}}return null}var U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=Object.assign,it,st;function rt(e){if(it===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);it=i&&i[1]||"",st=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+e+st}var $=!1;function dt(e,i){if(!e||$)return"";$=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(k){var G=k}Reflect.construct(e,[],q)}else{try{q.call()}catch(k){G=k}e.call(q.prototype)}}else{try{throw Error()}catch(k){G=k}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(k){if(k&&G&&typeof k.stack=="string")return[k.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),p=g[0],E=g[1];if(p&&E){var R=p.split(`
`),D=E.split(`
`);for(f=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(o===R.length||f===D.length)for(o=R.length-1,f=D.length-1;1<=o&&0<=f&&R[o]!==D[f];)f--;for(;1<=o&&0<=f;o--,f--)if(R[o]!==D[f]){if(o!==1||f!==1)do if(o--,f--,0>f||R[o]!==D[f]){var B=`
`+R[o].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=o&&0<=f);break}}}finally{$=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?rt(l):""}function X(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return e=dt(e.type,!1),e;case 11:return e=dt(e.type.render,!1),e;case 1:return e=dt(e.type,!0),e;default:return""}}function Q(e){try{var i="";do i+=X(e),e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function W(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function et(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function C(e){if(W(e)!==e)throw Error(s(188))}function Y(e){var i=e.alternate;if(!i){if(i=W(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,o=i;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){l=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return C(f),e;if(g===o)return C(f),i;g=g.sibling}throw Error(s(188))}if(l.return!==o.return)l=f,o=g;else{for(var p=!1,E=f.child;E;){if(E===l){p=!0,l=f,o=g;break}if(E===o){p=!0,o=f,l=g;break}E=E.sibling}if(!p){for(E=g.child;E;){if(E===l){p=!0,l=g,o=f;break}if(E===o){p=!0,o=g,l=f;break}E=E.sibling}if(!p)throw Error(s(189))}}if(l.alternate!==o)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function F(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=F(e),i!==null)return i;e=e.sibling}return null}var tt=Array.isArray,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},ut=[],Nt=-1;function _t(e){return{current:e}}function Ft(e){0>Nt||(e.current=ut[Nt],ut[Nt]=null,Nt--)}function pt(e,i){Nt++,ut[Nt]=e.current,e.current=i}var De=_t(null),Yn=_t(null),Ve=_t(null),We=_t(null);function kn(e,i){switch(pt(Ve,i),pt(Yn,e),pt(De,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Um(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Um(e),i=Fm(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ft(De),pt(De,i)}function me(){Ft(De),Ft(Yn),Ft(Ve)}function Fe(e){e.memoizedState!==null&&pt(We,e);var i=De.current,l=Fm(i,e.type);i!==l&&(pt(Yn,e),pt(De,l))}function Cn(e){Yn.current===e&&(Ft(De),Ft(Yn)),We.current===e&&(Ft(We),ar._currentValue=lt)}var bn=Object.prototype.hasOwnProperty,Bn=a.unstable_scheduleCallback,ni=a.unstable_cancelCallback,An=a.unstable_shouldYield,ii=a.unstable_requestPaint,kt=a.unstable_now,ga=a.unstable_getCurrentPriorityLevel,ms=a.unstable_ImmediatePriority,ys=a.unstable_UserBlockingPriority,nl=a.unstable_NormalPriority,jr=a.unstable_LowPriority,_a=a.unstable_IdlePriority,ma=a.log,Qu=a.unstable_setDisableYieldValue,ps=null,Se=null;function qr(e){if(Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(ps,e,void 0,(e.current.flags&128)===128)}catch{}}function an(e){if(typeof ma=="function"&&Qu(e),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(ps,e)}catch{}}var xe=Math.clz32?Math.clz32:vs,Ju=Math.log,ya=Math.LN2;function vs(e){return e>>>=0,e===0?32:31-(Ju(e)/ya|0)|0}var Hn=128,Zn=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Es(e,i){var l=e.pendingLanes;if(l===0)return 0;var o=0,f=e.suspendedLanes,g=e.pingedLanes,p=e.warmLanes;e=e.finishedLanes!==0;var E=l&134217727;return E!==0?(l=E&~f,l!==0?o=Pn(l):(g&=E,g!==0?o=Pn(g):e||(p=E&~p,p!==0&&(o=Pn(p))))):(E=l&~f,E!==0?o=Pn(E):g!==0?o=Pn(g):e||(p=l&~p,p!==0&&(o=Pn(p)))),o===0?0:i!==0&&i!==o&&!(i&f)&&(f=o&-o,p=i&-i,f>=p||f===32&&(p&4194176)!==0)?i:o}function re(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function si(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var e=Hn;return Hn<<=1,!(Hn&4194176)&&(Hn=128),e}function Qe(){var e=Zn;return Zn<<=1,!(Zn&62914560)&&(Zn=4194304),e}function Te(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function ze(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wn(e,i,l,o,f,g){var p=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,D=e.hiddenUpdates;for(l=p&~l;0<l;){var B=31-xe(l),q=1<<B;E[B]=0,R[B]=-1;var G=D[B];if(G!==null)for(D[B]=null,B=0;B<G.length;B++){var k=G[B];k!==null&&(k.lane&=-536870913)}l&=~q}o!==0&&Pt(e,o,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(p&~i))}function Pt(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-xe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194218}function oe(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var o=31-xe(l),f=1<<o;f&i|e[o]&i&&(e[o]|=i),l&=~f}}function rn(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Kr(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:n0(e.type))}function Zp(e,i){var l=J.p;try{return J.p=e,i()}finally{J.p=l}}var Ii=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ii,Xe="__reactProps$"+Ii,il="__reactContainer$"+Ii,$u="__reactEvents$"+Ii,Pp="__reactListeners$"+Ii,jp="__reactHandles$"+Ii,Nd="__reactResources$"+Ii,pa="__reactMarker$"+Ii;function tc(e){delete e[Re],delete e[Xe],delete e[$u],delete e[Pp],delete e[jp]}function Ss(e){var i=e[Re];if(i)return i;for(var l=e.parentNode;l;){if(i=l[il]||l[Re]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=km(e);e!==null;){if(l=e[Re])return l;e=km(e)}return i}e=l,l=e.parentNode}return null}function sl(e){if(e=e[Re]||e[il]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function va(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ll(e){var i=e[Nd];return i||(i=e[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[pa]=!0}var Gd=new Set,Ud={};function xs(e,i){al(e,i),al(e+"Capture",i)}function al(e,i){for(Ud[e]=i,e=0;e<i.length;e++)Gd.add(i[e])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fd={},Xd={};function Kp(e){return bn.call(Xd,e)?!0:bn.call(Fd,e)?!1:qp.test(e)?Xd[e]=!0:(Fd[e]=!0,!1)}function Vr(e,i,l){if(Kp(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function Wr(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function ai(e,i,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+o)}}function on(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vp(e){var i=Yd(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(p){o=""+p,g.call(this,p)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qr(e){e._valueTracker||(e._valueTracker=Vp(e))}function kd(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),o="";return e&&(o=Yd(e)?e.checked?"true":"false":e.value),e=o,e!==l?(i.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wp=/[\n"\\]/g;function un(e){return e.replace(Wp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ec(e,i,l,o,f,g,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+on(i)):e.value!==""+on(i)&&(e.value=""+on(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?nc(e,p,on(i)):l!=null?nc(e,p,on(l)):o!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+on(E):e.removeAttribute("name")}function Bd(e,i,l,o,f,g,p,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;l=l!=null?""+on(l):"",i=i!=null?""+on(i):l,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function nc(e,i,l){i==="number"&&Jr(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function rl(e,i,l,o){if(e=e.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=i.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&o&&(e[l].defaultSelected=!0)}else{for(l=""+on(l),i=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Hd(e,i,l){if(i!=null&&(i=""+on(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+on(l):""}function Zd(e,i,l,o){if(i==null){if(o!=null){if(l!=null)throw Error(s(92));if(tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}l=o}l==null&&(l=""),i=l}l=on(i),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function ol(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var Qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pd(e,i,l){var o=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,l):typeof l!="number"||l===0||Qp.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function jd(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&l[f]!==o&&Pd(e,f,o)}else for(var g in i)i.hasOwnProperty(g)&&Pd(e,g,i[g])}function ic(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$p=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(e){return $p.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,cl=null;function qd(e){var i=sl(e);if(i&&(e=i.stateNode)){var l=e[Xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ec(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var o=l[i];if(o!==e&&o.form===e.form){var f=o[Xe]||null;if(!f)throw Error(s(90));ec(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)o=l[i],o.form===e.form&&kd(o)}break t;case"textarea":Hd(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&rl(e,!!l.multiple,i,!1)}}}var ac=!1;function Kd(e,i,l){if(ac)return e(i,l);ac=!0;try{var o=e(i);return o}finally{if(ac=!1,(ul!==null||cl!==null)&&(Uo(),ul&&(i=ul,e=cl,cl=ul=null,qd(i),e)))for(i=0;i<e.length;i++)qd(e[i])}}function Ea(e,i){var l=e.stateNode;if(l===null)return null;var o=l[Xe]||null;if(o===null)return null;l=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var rc=!1;if(li)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){rc=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{rc=!1}var Ni=null,oc=null,to=null;function Vd(){if(to)return to;var e,i=oc,l=i.length,o,f="value"in Ni?Ni.value:Ni.textContent,g=f.length;for(e=0;e<l&&i[e]===f[e];e++);var p=l-e;for(o=1;o<=p&&i[l-o]===f[g-o];o++);return to=f.slice(e,1<o?1-o:void 0)}function eo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function no(){return!0}function Wd(){return!1}function Ye(e){function i(l,o,f,g,p){this._reactName=l,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?no:Wd,this.isPropagationStopped=Wd,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),i}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Ye(Ts),xa=K({},Ts,{view:0,detail:0}),t1=Ye(xa),uc,cc,Ta,so=K({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ta&&(Ta&&e.type==="mousemove"?(uc=e.screenX-Ta.screenX,cc=e.screenY-Ta.screenY):cc=uc=0,Ta=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:cc}}),Qd=Ye(so),e1=K({},so,{dataTransfer:0}),n1=Ye(e1),i1=K({},xa,{relatedTarget:0}),hc=Ye(i1),s1=K({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=Ye(s1),a1=K({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r1=Ye(a1),o1=K({},Ts,{data:0}),Jd=Ye(o1),u1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f1(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=h1[e])?!!i[e]:!1}function fc(){return f1}var d1=K({},xa,{key:function(e){if(e.key){var i=u1[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g1=Ye(d1),_1=K({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=Ye(_1),m1=K({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),y1=Ye(m1),p1=K({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),v1=Ye(p1),E1=K({},so,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=Ye(E1),x1=K({},Ts,{newState:0,oldState:0}),T1=Ye(x1),R1=[9,13,27,32],dc=li&&"CompositionEvent"in window,Ra=null;li&&"documentMode"in document&&(Ra=document.documentMode);var C1=li&&"TextEvent"in window&&!Ra,tg=li&&(!dc||Ra&&8<Ra&&11>=Ra),eg=" ",ng=!1;function ig(e,i){switch(e){case"keyup":return R1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hl=!1;function b1(e,i){switch(e){case"compositionend":return sg(i);case"keypress":return i.which!==32?null:(ng=!0,eg);case"textInput":return e=i.data,e===eg&&ng?null:e;default:return null}}function A1(e,i){if(hl)return e==="compositionend"||!dc&&ig(e,i)?(e=Vd(),to=oc=Ni=null,hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return tg&&i.locale!=="ko"?null:i.data;default:return null}}var w1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!w1[e.type]:i==="textarea"}function ag(e,i,l,o){ul?cl?cl.push(o):cl=[o]:ul=o,i=Bo(i,"onChange"),0<i.length&&(l=new io("onChange","change",null,l,o),e.push({event:l,listeners:i}))}var Ca=null,ba=null;function M1(e){Lm(e,0)}function lo(e){var i=va(e);if(kd(i))return e}function rg(e,i){if(e==="change")return i}var og=!1;if(li){var gc;if(li){var _c="oninput"in document;if(!_c){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),_c=typeof ug.oninput=="function"}gc=_c}else gc=!1;og=gc&&(!document.documentMode||9<document.documentMode)}function cg(){Ca&&(Ca.detachEvent("onpropertychange",hg),ba=Ca=null)}function hg(e){if(e.propertyName==="value"&&lo(ba)){var i=[];ag(i,ba,e,lc(e)),Kd(M1,i)}}function O1(e,i,l){e==="focusin"?(cg(),Ca=i,ba=l,Ca.attachEvent("onpropertychange",hg)):e==="focusout"&&cg()}function D1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lo(ba)}function L1(e,i){if(e==="click")return lo(i)}function z1(e,i){if(e==="input"||e==="change")return lo(i)}function I1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Je=typeof Object.is=="function"?Object.is:I1;function Aa(e,i){if(Je(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),o=Object.keys(i);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var f=l[o];if(!bn.call(i,f)||!Je(e[f],i[f]))return!1}return!0}function fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,i){var l=fg(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=i&&o>=i)return{node:l,offset:i-e};e=o}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=fg(l)}}function gg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?gg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function _g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Jr(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=Jr(e.document)}return i}function mc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function N1(e,i){var l=_g(i);i=e.focusedElem;var o=e.selectionRange;if(l!==i&&i&&i.ownerDocument&&gg(i.ownerDocument.documentElement,i)){if(o!==null&&mc(i)){if(e=o.start,l=o.end,l===void 0&&(l=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(l,i.value.length);else if(l=(e=i.ownerDocument||document)&&e.defaultView||window,l.getSelection){l=l.getSelection();var f=i.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!l.extend&&g>o&&(f=o,o=g,g=f),f=dg(i,g);var p=dg(i,o);f&&p&&(l.rangeCount!==1||l.anchorNode!==f.node||l.anchorOffset!==f.offset||l.focusNode!==p.node||l.focusOffset!==p.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),l.removeAllRanges(),g>o?(l.addRange(e),l.extend(p.node,p.offset)):(e.setEnd(p.node,p.offset),l.addRange(e)))}}for(e=[],l=i;l=l.parentNode;)l.nodeType===1&&e.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)l=e[i],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var G1=li&&"documentMode"in document&&11>=document.documentMode,fl=null,yc=null,wa=null,pc=!1;function mg(e,i,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pc||fl==null||fl!==Jr(o)||(o=fl,"selectionStart"in o&&mc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wa&&Aa(wa,o)||(wa=o,o=Bo(yc,"onSelect"),0<o.length&&(i=new io("onSelect","select",null,i,l),e.push({event:i,listeners:o}),i.target=fl)))}function Rs(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var dl={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},vc={},yg={};li&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Cs(e){if(vc[e])return vc[e];if(!dl[e])return e;var i=dl[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in yg)return vc[e]=i[l];return e}var pg=Cs("animationend"),vg=Cs("animationiteration"),Eg=Cs("animationstart"),U1=Cs("transitionrun"),F1=Cs("transitionstart"),X1=Cs("transitioncancel"),Sg=Cs("transitionend"),xg=new Map,Tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(e,i){xg.set(e,i),xs(i,[e])}var cn=[],gl=0,Ec=0;function ao(){for(var e=gl,i=Ec=gl=0;i<e;){var l=cn[i];cn[i++]=null;var o=cn[i];cn[i++]=null;var f=cn[i];cn[i++]=null;var g=cn[i];if(cn[i++]=null,o!==null&&f!==null){var p=o.pending;p===null?f.next=f:(f.next=p.next,p.next=f),o.pending=f}g!==0&&Rg(l,f,g)}}function ro(e,i,l,o){cn[gl++]=e,cn[gl++]=i,cn[gl++]=l,cn[gl++]=o,Ec|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Sc(e,i,l,o){return ro(e,i,l,o),oo(e)}function Gi(e,i){return ro(e,null,null,i),oo(e)}function Rg(e,i,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var f=!1,g=e.return;g!==null;)g.childLanes|=l,o=g.alternate,o!==null&&(o.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;f&&i!==null&&e.tag===3&&(g=e.stateNode,f=31-xe(l),g=g.hiddenUpdates,e=g[f],e===null?g[f]=[i]:e.push(i),i.lane=l|536870912)}function oo(e){if(50<$a)throw $a=0,Ah=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _l={},Cg=new WeakMap;function hn(e,i){if(typeof e=="object"&&e!==null){var l=Cg.get(e);return l!==void 0?l:(i={value:e,source:i,stack:Q(i)},Cg.set(e,i),i)}return{value:e,source:i,stack:Q(i)}}var ml=[],yl=0,uo=null,co=0,fn=[],dn=0,bs=null,ri=1,oi="";function As(e,i){ml[yl++]=co,ml[yl++]=uo,uo=e,co=i}function bg(e,i,l){fn[dn++]=ri,fn[dn++]=oi,fn[dn++]=bs,bs=e;var o=ri;e=oi;var f=32-xe(o)-1;o&=~(1<<f),l+=1;var g=32-xe(i)+f;if(30<g){var p=f-f%5;g=(o&(1<<p)-1).toString(32),o>>=p,f-=p,ri=1<<32-xe(i)+f|l<<f|o,oi=g+e}else ri=1<<g|l<<f|o,oi=e}function xc(e){e.return!==null&&(As(e,1),bg(e,1,0))}function Tc(e){for(;e===uo;)uo=ml[--yl],ml[yl]=null,co=ml[--yl],ml[yl]=null;for(;e===bs;)bs=fn[--dn],fn[dn]=null,oi=fn[--dn],fn[dn]=null,ri=fn[--dn],fn[dn]=null}var Ie=null,ye=null,Mt=!1,On=null,jn=!1,Rc=Error(s(519));function ws(e){var i=Error(s(418,""));throw Da(hn(i,e)),Rc}function Ag(e){var i=e.stateNode,l=e.type,o=e.memoizedProps;switch(i[Re]=e,i[Xe]=o,l){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(l=0;l<er.length;l++)Ct(er[l],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),Bd(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Qr(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),Zd(i,o.value,o.defaultValue,o.children),Qr(i)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||o.suppressHydrationWarning===!0||Gm(i.textContent,l)?(o.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),o.onScroll!=null&&Ct("scroll",i),o.onScrollEnd!=null&&Ct("scrollend",i),o.onClick!=null&&(i.onclick=Ho),i=!0):i=!1,i||ws(e)}function wg(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 3:case 27:jn=!0;return;case 5:case 13:jn=!1;return;default:Ie=Ie.return}}function Ma(e){if(e!==Ie)return!1;if(!Mt)return wg(e),Mt=!0,!1;var i=!1,l;if((l=e.tag!==3&&e.tag!==27)&&((l=e.tag===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Zh(e.type,e.memoizedProps)),l=!l),l&&(i=!0),i&&ye&&ws(e),wg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(i===0){ye=Ln(e.nextSibling);break t}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;e=e.nextSibling}ye=null}}else ye=Ie?Ln(e.stateNode.nextSibling):null;return!0}function Oa(){ye=Ie=null,Mt=!1}function Da(e){On===null?On=[e]:On.push(e)}var La=Error(s(460)),Mg=Error(s(474)),Cc={then:function(){}};function Og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ho(){}function Dg(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(ho,ho),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===La?Error(s(483)):e;default:if(typeof i.status=="string")i.then(ho,ho);else{if(e=Ht,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===La?Error(s(483)):e}throw za=i,La}}var za=null;function Lg(){if(za===null)throw Error(s(459));var e=za;return za=null,e}var pl=null,Ia=0;function fo(e){var i=Ia;return Ia+=1,pl===null&&(pl=[]),Dg(pl,e,i)}function Na(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function go(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function zg(e){var i=e._init;return i(e._payload)}function Ig(e){function i(z,M){if(e){var I=z.deletions;I===null?(z.deletions=[M],z.flags|=16):I.push(M)}}function l(z,M){if(!e)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function o(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function f(z,M){return z=Ki(z,M),z.index=0,z.sibling=null,z}function g(z,M,I){return z.index=I,e?(I=z.alternate,I!==null?(I=I.index,I<M?(z.flags|=33554434,M):I):(z.flags|=33554434,M)):(z.flags|=1048576,M)}function p(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function E(z,M,I,P){return M===null||M.tag!==6?(M=vh(I,z.mode,P),M.return=z,M):(M=f(M,I),M.return=z,M)}function R(z,M,I,P){var nt=I.type;return nt===d?B(z,M,I.props.children,P,I.key):M!==null&&(M.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===w&&zg(nt)===M.type)?(M=f(M,I.props),Na(M,I),M.return=z,M):(M=Lo(I.type,I.key,I.props,null,z.mode,P),Na(M,I),M.return=z,M)}function D(z,M,I,P){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=Eh(I,z.mode,P),M.return=z,M):(M=f(M,I.children||[]),M.return=z,M)}function B(z,M,I,P,nt){return M===null||M.tag!==7?(M=Fs(I,z.mode,P,nt),M.return=z,M):(M=f(M,I),M.return=z,M)}function q(z,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=vh(""+M,z.mode,I),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case c:return I=Lo(M.type,M.key,M.props,null,z.mode,I),Na(I,M),I.return=z,I;case h:return M=Eh(M,z.mode,I),M.return=z,M;case w:var P=M._init;return M=P(M._payload),q(z,M,I)}if(tt(M)||j(M))return M=Fs(M,z.mode,I,null),M.return=z,M;if(typeof M.then=="function")return q(z,fo(M),I);if(M.$$typeof===S)return q(z,Mo(z,M),I);go(z,M)}return null}function G(z,M,I,P){var nt=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return nt!==null?null:E(z,M,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case c:return I.key===nt?R(z,M,I,P):null;case h:return I.key===nt?D(z,M,I,P):null;case w:return nt=I._init,I=nt(I._payload),G(z,M,I,P)}if(tt(I)||j(I))return nt!==null?null:B(z,M,I,P,null);if(typeof I.then=="function")return G(z,M,fo(I),P);if(I.$$typeof===S)return G(z,M,Mo(z,I),P);go(z,I)}return null}function k(z,M,I,P,nt){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return z=z.get(I)||null,E(M,z,""+P,nt);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case c:return z=z.get(P.key===null?I:P.key)||null,R(M,z,P,nt);case h:return z=z.get(P.key===null?I:P.key)||null,D(M,z,P,nt);case w:var Tt=P._init;return P=Tt(P._payload),k(z,M,I,P,nt)}if(tt(P)||j(P))return z=z.get(I)||null,B(M,z,P,nt,null);if(typeof P.then=="function")return k(z,M,I,fo(P),nt);if(P.$$typeof===S)return k(z,M,I,Mo(M,P),nt);go(M,P)}return null}function at(z,M,I,P){for(var nt=null,Tt=null,ot=M,ft=M=0,fe=null;ot!==null&&ft<I.length;ft++){ot.index>ft?(fe=ot,ot=null):fe=ot.sibling;var Ot=G(z,ot,I[ft],P);if(Ot===null){ot===null&&(ot=fe);break}e&&ot&&Ot.alternate===null&&i(z,ot),M=g(Ot,M,ft),Tt===null?nt=Ot:Tt.sibling=Ot,Tt=Ot,ot=fe}if(ft===I.length)return l(z,ot),Mt&&As(z,ft),nt;if(ot===null){for(;ft<I.length;ft++)ot=q(z,I[ft],P),ot!==null&&(M=g(ot,M,ft),Tt===null?nt=ot:Tt.sibling=ot,Tt=ot);return Mt&&As(z,ft),nt}for(ot=o(ot);ft<I.length;ft++)fe=k(ot,z,ft,I[ft],P),fe!==null&&(e&&fe.alternate!==null&&ot.delete(fe.key===null?ft:fe.key),M=g(fe,M,ft),Tt===null?nt=fe:Tt.sibling=fe,Tt=fe);return e&&ot.forEach(function(es){return i(z,es)}),Mt&&As(z,ft),nt}function mt(z,M,I,P){if(I==null)throw Error(s(151));for(var nt=null,Tt=null,ot=M,ft=M=0,fe=null,Ot=I.next();ot!==null&&!Ot.done;ft++,Ot=I.next()){ot.index>ft?(fe=ot,ot=null):fe=ot.sibling;var es=G(z,ot,Ot.value,P);if(es===null){ot===null&&(ot=fe);break}e&&ot&&es.alternate===null&&i(z,ot),M=g(es,M,ft),Tt===null?nt=es:Tt.sibling=es,Tt=es,ot=fe}if(Ot.done)return l(z,ot),Mt&&As(z,ft),nt;if(ot===null){for(;!Ot.done;ft++,Ot=I.next())Ot=q(z,Ot.value,P),Ot!==null&&(M=g(Ot,M,ft),Tt===null?nt=Ot:Tt.sibling=Ot,Tt=Ot);return Mt&&As(z,ft),nt}for(ot=o(ot);!Ot.done;ft++,Ot=I.next())Ot=k(ot,z,ft,Ot.value,P),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?ft:Ot.key),M=g(Ot,M,ft),Tt===null?nt=Ot:Tt.sibling=Ot,Tt=Ot);return e&&ot.forEach(function($v){return i(z,$v)}),Mt&&As(z,ft),nt}function Qt(z,M,I,P){if(typeof I=="object"&&I!==null&&I.type===d&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case c:t:{for(var nt=I.key;M!==null;){if(M.key===nt){if(nt=I.type,nt===d){if(M.tag===7){l(z,M.sibling),P=f(M,I.props.children),P.return=z,z=P;break t}}else if(M.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===w&&zg(nt)===M.type){l(z,M.sibling),P=f(M,I.props),Na(P,I),P.return=z,z=P;break t}l(z,M);break}else i(z,M);M=M.sibling}I.type===d?(P=Fs(I.props.children,z.mode,P,I.key),P.return=z,z=P):(P=Lo(I.type,I.key,I.props,null,z.mode,P),Na(P,I),P.return=z,z=P)}return p(z);case h:t:{for(nt=I.key;M!==null;){if(M.key===nt)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){l(z,M.sibling),P=f(M,I.children||[]),P.return=z,z=P;break t}else{l(z,M);break}else i(z,M);M=M.sibling}P=Eh(I,z.mode,P),P.return=z,z=P}return p(z);case w:return nt=I._init,I=nt(I._payload),Qt(z,M,I,P)}if(tt(I))return at(z,M,I,P);if(j(I)){if(nt=j(I),typeof nt!="function")throw Error(s(150));return I=nt.call(I),mt(z,M,I,P)}if(typeof I.then=="function")return Qt(z,M,fo(I),P);if(I.$$typeof===S)return Qt(z,M,Mo(z,I),P);go(z,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(l(z,M.sibling),P=f(M,I),P.return=z,z=P):(l(z,M),P=vh(I,z.mode,P),P.return=z,z=P),p(z)):l(z,M)}return function(z,M,I,P){try{Ia=0;var nt=Qt(z,M,I,P);return pl=null,nt}catch(ot){if(ot===La)throw ot;var Tt=yn(29,ot,null,z.mode);return Tt.lanes=P,Tt.return=z,Tt}finally{}}}var Ms=Ig(!0),Ng=Ig(!1),vl=_t(null),_o=_t(0);function Gg(e,i){e=vi,pt(_o,e),pt(vl,i),vi=e|i.baseLanes}function bc(){pt(_o,vi),pt(vl,vl.current)}function Ac(){vi=_o.current,Ft(vl),Ft(_o)}var gn=_t(null),qn=null;function Ui(e){var i=e.alternate;pt(se,se.current&1),pt(gn,e),qn===null&&(i===null||vl.current!==null||i.memoizedState!==null)&&(qn=e)}function Ug(e){if(e.tag===22){if(pt(se,se.current),pt(gn,e),qn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(qn=e)}}else Fi()}function Fi(){pt(se,se.current),pt(gn,gn.current)}function ui(e){Ft(gn),qn===e&&(qn=null),Ft(se)}var se=_t(0);function mo(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Y1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},k1=a.unstable_scheduleCallback,B1=a.unstable_NormalPriority,le={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wc(){return{controller:new Y1,data:new Map,refCount:0}}function Ga(e){e.refCount--,e.refCount===0&&k1(B1,function(){e.controller.abort()})}var Ua=null,Mc=0,El=0,Sl=null;function H1(e,i){if(Ua===null){var l=Ua=[];Mc=0,El=Nh(),Sl={status:"pending",value:void 0,then:function(o){l.push(o)}}}return Mc++,i.then(Fg,Fg),i}function Fg(){if(--Mc===0&&Ua!==null){Sl!==null&&(Sl.status="fulfilled");var e=Ua;Ua=null,El=0,Sl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Z1(e,i){var l=[],o={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),o}var Xg=U.S;U.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&H1(e,i),Xg!==null&&Xg(e,i)};var Os=_t(null);function Oc(){var e=Os.current;return e!==null?e:Ht.pooledCache}function yo(e,i){i===null?pt(Os,Os.current):pt(Os,i.pool)}function Yg(){var e=Oc();return e===null?null:{parent:le._currentValue,pool:e}}var Xi=0,xt=null,Xt=null,te=null,po=!1,xl=!1,Ds=!1,vo=0,Fa=0,Tl=null,P1=0;function $t(){throw Error(s(321))}function Dc(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!Je(e[l],i[l]))return!1;return!0}function Lc(e,i,l,o,f,g){return Xi=g,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=e===null||e.memoizedState===null?Ls:Yi,Ds=!1,g=l(o,f),Ds=!1,xl&&(g=Bg(i,l,o,f)),kg(e),g}function kg(e){U.H=Kn;var i=Xt!==null&&Xt.next!==null;if(Xi=0,te=Xt=xt=null,po=!1,Fa=0,Tl=null,i)throw Error(s(300));e===null||ce||(e=e.dependencies,e!==null&&wo(e)&&(ce=!0))}function Bg(e,i,l,o){xt=e;var f=0;do{if(xl&&(Tl=null),Fa=0,xl=!1,25<=f)throw Error(s(301));if(f+=1,te=Xt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=zs,g=i(l,o)}while(xl);return g}function j1(){var e=U.H,i=e.useState()[0];return i=typeof i.then=="function"?Xa(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(xt.flags|=1024),i}function zc(){var e=vo!==0;return vo=0,e}function Ic(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function Nc(e){if(po){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}po=!1}Xi=0,te=Xt=xt=null,xl=!1,Fa=vo=0,Tl=null}function ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?xt.memoizedState=te=e:te=te.next=e,te}function ee(){if(Xt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=te===null?xt.memoizedState:te.next;if(i!==null)te=i,Xt=e;else{if(e===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},te===null?xt.memoizedState=te=e:te=te.next=e}return te}var Eo;Eo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xa(e){var i=Fa;return Fa+=1,Tl===null&&(Tl=[]),e=Dg(Tl,e,i),i=xt,(te===null?i.memoizedState:te.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Ls:Yi),e}function So(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xa(e);if(e.$$typeof===S)return Ce(e)}throw Error(s(438,String(e)))}function Gc(e){var i=null,l=xt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Eo(),xt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),o=0;o<e;o++)l[o]=L;return i.index++,l}function ci(e,i){return typeof i=="function"?i(e):i}function xo(e){var i=ee();return Uc(i,Xt,e)}function Uc(e,i,l){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=l;var f=e.baseQueue,g=o.pending;if(g!==null){if(f!==null){var p=f.next;f.next=g.next,g.next=p}i.baseQueue=f=g,o.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{i=f.next;var E=p=null,R=null,D=i,B=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(At&q)===q:(Xi&q)===q){var G=D.revertLane;if(G===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===El&&(B=!0);else if((Xi&G)===G){D=D.next,G===El&&(B=!0);continue}else q={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},R===null?(E=R=q,p=g):R=R.next=q,xt.lanes|=G,Vi|=G;q=D.action,Ds&&l(g,q),g=D.hasEagerState?D.eagerState:l(g,q)}else G={lane:q,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},R===null?(E=R=G,p=g):R=R.next=G,xt.lanes|=q,Vi|=q;D=D.next}while(D!==null&&D!==i);if(R===null?p=g:R.next=E,!Je(g,e.memoizedState)&&(ce=!0,B&&(l=Sl,l!==null)))throw l;e.memoizedState=g,e.baseState=p,e.baseQueue=R,o.lastRenderedState=g}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Fc(e){var i=ee(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var o=l.dispatch,f=l.pending,g=i.memoizedState;if(f!==null){l.pending=null;var p=f=f.next;do g=e(g,p.action),p=p.next;while(p!==f);Je(g,i.memoizedState)||(ce=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,o]}function Hg(e,i,l){var o=xt,f=ee(),g=Mt;if(g){if(l===void 0)throw Error(s(407));l=l()}else l=i();var p=!Je((Xt||f).memoizedState,l);if(p&&(f.memoizedState=l,ce=!0),f=f.queue,kc(jg.bind(null,o,f,e),[e]),f.getSnapshot!==i||p||te!==null&&te.memoizedState.tag&1){if(o.flags|=2048,Rl(9,Pg.bind(null,o,f,l,i),{destroy:void 0},null),Ht===null)throw Error(s(349));g||Xi&60||Zg(o,i,l)}return l}function Zg(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=xt.updateQueue,i===null?(i=Eo(),xt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function Pg(e,i,l,o){i.value=l,i.getSnapshot=o,qg(i)&&Kg(e)}function jg(e,i,l){return l(function(){qg(i)&&Kg(e)})}function qg(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!Je(e,l)}catch{return!0}}function Kg(e){var i=Gi(e,2);i!==null&&Ne(i,e,2)}function Xc(e){var i=ke();if(typeof e=="function"){var l=e;if(e=l(),Ds){an(!0);try{l()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},i}function Vg(e,i,l,o){return e.baseState=l,Uc(e,Xt,typeof o=="function"?o:ci)}function q1(e,i,l,o,f){if(Co(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){g.listeners.push(p)}};U.T!==null?l(!0):g.isTransition=!1,o(g),l=i.pending,l===null?(g.next=i.pending=g,Wg(i,g)):(g.next=l.next,i.pending=l.next=g)}}function Wg(e,i){var l=i.action,o=i.payload,f=e.state;if(i.isTransition){var g=U.T,p={};U.T=p;try{var E=l(f,o),R=U.S;R!==null&&R(p,E),Qg(e,i,E)}catch(D){Yc(e,i,D)}finally{U.T=g}}else try{g=l(f,o),Qg(e,i,g)}catch(D){Yc(e,i,D)}}function Qg(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){Jg(e,i,o)},function(o){return Yc(e,i,o)}):Jg(e,i,l)}function Jg(e,i,l){i.status="fulfilled",i.value=l,$g(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,Wg(e,l)))}function Yc(e,i,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=l,$g(i),i=i.next;while(i!==o)}e.action=null}function $g(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function t_(e,i){return i}function e_(e,i){if(Mt){var l=Ht.formState;if(l!==null){t:{var o=xt;if(Mt){if(ye){e:{for(var f=ye,g=jn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Ln(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ye=Ln(f.nextSibling),o=f.data==="F!";break t}}ws(o)}o=!1}o&&(i=l[0])}}return l=ke(),l.memoizedState=l.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:i},l.queue=o,l=v_.bind(null,xt,o),o.dispatch=l,o=Xc(!1),g=jc.bind(null,xt,!1,o.queue),o=ke(),f={state:i,dispatch:null,action:e,pending:null},o.queue=f,l=q1.bind(null,xt,f,g,l),f.dispatch=l,o.memoizedState=e,[i,l,!1]}function n_(e){var i=ee();return i_(i,Xt,e)}function i_(e,i,l){i=Uc(e,i,t_)[0],e=xo(ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Xa(i):i;var o=ee(),f=o.queue,g=f.dispatch;return l!==o.memoizedState&&(xt.flags|=2048,Rl(9,K1.bind(null,f,l),{destroy:void 0},null)),[i,g,e]}function K1(e,i){e.action=i}function s_(e){var i=ee(),l=Xt;if(l!==null)return i_(i,l,e);ee(),i=i.memoizedState,l=ee();var o=l.queue.dispatch;return l.memoizedState=e,[i,o,!1]}function Rl(e,i,l,o){return e={tag:e,create:i,inst:l,deps:o,next:null},i=xt.updateQueue,i===null&&(i=Eo(),xt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,i.lastEffect=e),e}function l_(){return ee().memoizedState}function To(e,i,l,o){var f=ke();xt.flags|=e,f.memoizedState=Rl(1|i,l,{destroy:void 0},o===void 0?null:o)}function Ro(e,i,l,o){var f=ee();o=o===void 0?null:o;var g=f.memoizedState.inst;Xt!==null&&o!==null&&Dc(o,Xt.memoizedState.deps)?f.memoizedState=Rl(i,l,g,o):(xt.flags|=e,f.memoizedState=Rl(1|i,l,g,o))}function a_(e,i){To(8390656,8,e,i)}function kc(e,i){Ro(2048,8,e,i)}function r_(e,i){return Ro(4,2,e,i)}function o_(e,i){return Ro(4,4,e,i)}function u_(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function c_(e,i,l){l=l!=null?l.concat([e]):null,Ro(4,4,u_.bind(null,i,e),l)}function Bc(){}function h_(e,i){var l=ee();i=i===void 0?null:i;var o=l.memoizedState;return i!==null&&Dc(i,o[1])?o[0]:(l.memoizedState=[e,i],e)}function f_(e,i){var l=ee();i=i===void 0?null:i;var o=l.memoizedState;if(i!==null&&Dc(i,o[1]))return o[0];if(o=e(),Ds){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[o,i],o}function Hc(e,i,l){return l===void 0||Xi&1073741824?e.memoizedState=i:(e.memoizedState=l,e=gm(),xt.lanes|=e,Vi|=e,l)}function d_(e,i,l,o){return Je(l,i)?l:vl.current!==null?(e=Hc(e,l,o),Je(e,i)||(ce=!0),e):Xi&42?(e=gm(),xt.lanes|=e,Vi|=e,i):(ce=!0,e.memoizedState=l)}function g_(e,i,l,o,f){var g=J.p;J.p=g!==0&&8>g?g:8;var p=U.T,E={};U.T=E,jc(e,!1,i,l);try{var R=f(),D=U.S;if(D!==null&&D(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=Z1(R,o);Ya(e,i,B,nn(e))}else Ya(e,i,o,nn(e))}catch(q){Ya(e,i,{then:function(){},status:"rejected",reason:q},nn())}finally{J.p=g,U.T=p}}function V1(){}function Zc(e,i,l,o){if(e.tag!==5)throw Error(s(476));var f=__(e).queue;g_(e,f,i,lt,l===null?V1:function(){return m_(e),l(o)})}function __(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:lt},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function m_(e){var i=__(e).next.queue;Ya(e,i,{},nn())}function Pc(){return Ce(ar)}function y_(){return ee().memoizedState}function p_(){return ee().memoizedState}function W1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=nn();e=Hi(l);var o=Zi(i,e,l);o!==null&&(Ne(o,i,l),Ha(o,i,l)),i={cache:wc()},e.payload=i;return}i=i.return}}function Q1(e,i,l){var o=nn();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Co(e)?E_(i,l):(l=Sc(e,i,l,o),l!==null&&(Ne(l,e,o),S_(l,i,o)))}function v_(e,i,l){var o=nn();Ya(e,i,l,o)}function Ya(e,i,l,o){var f={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Co(e))E_(i,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var p=i.lastRenderedState,E=g(p,l);if(f.hasEagerState=!0,f.eagerState=E,Je(E,p))return ro(e,i,f,0),Ht===null&&ao(),!1}catch{}finally{}if(l=Sc(e,i,f,o),l!==null)return Ne(l,e,o),S_(l,i,o),!0}return!1}function jc(e,i,l,o){if(o={lane:2,revertLane:Nh(),action:o,hasEagerState:!1,eagerState:null,next:null},Co(e)){if(i)throw Error(s(479))}else i=Sc(e,l,o,2),i!==null&&Ne(i,e,2)}function Co(e){var i=e.alternate;return e===xt||i!==null&&i===xt}function E_(e,i){xl=po=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function S_(e,i,l){if(l&4194176){var o=i.lanes;o&=e.pendingLanes,l|=o,i.lanes=l,oe(e,l)}}var Kn={readContext:Ce,use:So,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t};Kn.useCacheRefresh=$t,Kn.useMemoCache=$t,Kn.useHostTransitionStatus=$t,Kn.useFormState=$t,Kn.useActionState=$t,Kn.useOptimistic=$t;var Ls={readContext:Ce,use:So,useCallback:function(e,i){return ke().memoizedState=[e,i===void 0?null:i],e},useContext:Ce,useEffect:a_,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,To(4194308,4,u_.bind(null,i,e),l)},useLayoutEffect:function(e,i){return To(4194308,4,e,i)},useInsertionEffect:function(e,i){To(4,2,e,i)},useMemo:function(e,i){var l=ke();i=i===void 0?null:i;var o=e();if(Ds){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[o,i],o},useReducer:function(e,i,l){var o=ke();if(l!==void 0){var f=l(i);if(Ds){an(!0);try{l(i)}finally{an(!1)}}}else f=i;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Q1.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var i=ke();return e={current:e},i.memoizedState=e},useState:function(e){e=Xc(e);var i=e.queue,l=v_.bind(null,xt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:Bc,useDeferredValue:function(e,i){var l=ke();return Hc(l,e,i)},useTransition:function(){var e=Xc(!1);return e=g_.bind(null,xt,e.queue,!0,!1),ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var o=xt,f=ke();if(Mt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Ht===null)throw Error(s(349));At&60||Zg(o,i,l)}f.memoizedState=l;var g={value:l,getSnapshot:i};return f.queue=g,a_(jg.bind(null,o,g,e),[e]),o.flags|=2048,Rl(9,Pg.bind(null,o,g,l,i),{destroy:void 0},null),l},useId:function(){var e=ke(),i=Ht.identifierPrefix;if(Mt){var l=oi,o=ri;l=(o&~(1<<32-xe(o)-1)).toString(32)+l,i=":"+i+"R"+l,l=vo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=P1++,i=":"+i+"r"+l.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return ke().memoizedState=W1.bind(null,xt)}};Ls.useMemoCache=Gc,Ls.useHostTransitionStatus=Pc,Ls.useFormState=e_,Ls.useActionState=e_,Ls.useOptimistic=function(e){var i=ke();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=jc.bind(null,xt,!0,l),l.dispatch=i,[e,i]};var Yi={readContext:Ce,use:So,useCallback:h_,useContext:Ce,useEffect:kc,useImperativeHandle:c_,useInsertionEffect:r_,useLayoutEffect:o_,useMemo:f_,useReducer:xo,useRef:l_,useState:function(){return xo(ci)},useDebugValue:Bc,useDeferredValue:function(e,i){var l=ee();return d_(l,Xt.memoizedState,e,i)},useTransition:function(){var e=xo(ci)[0],i=ee().memoizedState;return[typeof e=="boolean"?e:Xa(e),i]},useSyncExternalStore:Hg,useId:y_};Yi.useCacheRefresh=p_,Yi.useMemoCache=Gc,Yi.useHostTransitionStatus=Pc,Yi.useFormState=n_,Yi.useActionState=n_,Yi.useOptimistic=function(e,i){var l=ee();return Vg(l,Xt,e,i)};var zs={readContext:Ce,use:So,useCallback:h_,useContext:Ce,useEffect:kc,useImperativeHandle:c_,useInsertionEffect:r_,useLayoutEffect:o_,useMemo:f_,useReducer:Fc,useRef:l_,useState:function(){return Fc(ci)},useDebugValue:Bc,useDeferredValue:function(e,i){var l=ee();return Xt===null?Hc(l,e,i):d_(l,Xt.memoizedState,e,i)},useTransition:function(){var e=Fc(ci)[0],i=ee().memoizedState;return[typeof e=="boolean"?e:Xa(e),i]},useSyncExternalStore:Hg,useId:y_};zs.useCacheRefresh=p_,zs.useMemoCache=Gc,zs.useHostTransitionStatus=Pc,zs.useFormState=s_,zs.useActionState=s_,zs.useOptimistic=function(e,i){var l=ee();return Xt!==null?Vg(l,Xt,e,i):(l.baseState=e,[e,l.queue.dispatch])};function qc(e,i,l,o){i=e.memoizedState,l=l(o,i),l=l==null?i:K({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Kc={isMounted:function(e){return(e=e._reactInternals)?W(e)===e:!1},enqueueSetState:function(e,i,l){e=e._reactInternals;var o=nn(),f=Hi(o);f.payload=i,l!=null&&(f.callback=l),i=Zi(e,f,o),i!==null&&(Ne(i,e,o),Ha(i,e,o))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var o=nn(),f=Hi(o);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Zi(e,f,o),i!==null&&(Ne(i,e,o),Ha(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=nn(),o=Hi(l);o.tag=2,i!=null&&(o.callback=i),i=Zi(e,o,l),i!==null&&(Ne(i,e,l),Ha(i,e,l))}};function x_(e,i,l,o,f,g,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,p):i.prototype&&i.prototype.isPureReactComponent?!Aa(l,o)||!Aa(f,g):!0}function T_(e,i,l,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,o),i.state!==e&&Kc.enqueueReplaceState(i,i.state,null)}function Is(e,i){var l=i;if("ref"in i){l={};for(var o in i)o!=="ref"&&(l[o]=i[o])}if(e=e.defaultProps){l===i&&(l=K({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var bo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function R_(e){bo(e)}function C_(e){console.error(e)}function b_(e){bo(e)}function Ao(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function A_(e,i,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vc(e,i,l){return l=Hi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ao(e,i)},l}function w_(e){return e=Hi(e),e.tag=3,e}function M_(e,i,l,o){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;e.payload=function(){return f(g)},e.callback=function(){A_(i,l,o)}}var p=l.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){A_(i,l,o),typeof f!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function J1(e,i,l,o,f){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=l.alternate,i!==null&&Ba(i,l,f,!0),l=gn.current,l!==null){switch(l.tag){case 13:return qn===null?Oh():l.alternate===null&&Wt===0&&(Wt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,o===Cc?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([o]):i.add(o),Lh(e,o,f)),!1;case 22:return l.flags|=65536,o===Cc?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([o]):l.add(o)),Lh(e,o,f)),!1}throw Error(s(435,l.tag))}return Lh(e,o,f),Oh(),!1}if(Mt)return i=gn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Rc&&(e=Error(s(422),{cause:o}),Da(hn(e,l)))):(o!==Rc&&(i=Error(s(423),{cause:o}),Da(hn(i,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=hn(o,l),f=Vc(e.stateNode,o,f),ch(e,f),Wt!==4&&(Wt=2)),!1;var g=Error(s(520),{cause:o});if(g=hn(g,l),Qa===null?Qa=[g]:Qa.push(g),Wt!==4&&(Wt=2),i===null)return!0;o=hn(o,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Vc(l.stateNode,o,e),ch(l,e),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wi===null||!Wi.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=w_(f),M_(f,e,l,o),ch(l,f),!1}l=l.return}while(l!==null);return!1}var O_=Error(s(461)),ce=!1;function pe(e,i,l,o){i.child=e===null?Ng(i,null,l,o):Ms(i,e.child,l,o)}function D_(e,i,l,o,f){l=l.render;var g=i.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Gs(i),o=Lc(e,i,l,p,g,f),E=zc(),e!==null&&!ce?(Ic(e,i,f),hi(e,i,f)):(Mt&&E&&xc(i),i.flags|=1,pe(e,i,o,f),i.child)}function L_(e,i,l,o,f){if(e===null){var g=l.type;return typeof g=="function"&&!ph(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,z_(e,i,g,o,f)):(e=Lo(l.type,null,o,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!sh(e,f)){var p=g.memoizedProps;if(l=l.compare,l=l!==null?l:Aa,l(p,o)&&e.ref===i.ref)return hi(e,i,f)}return i.flags|=1,e=Ki(g,o),e.ref=i.ref,e.return=i,i.child=e}function z_(e,i,l,o,f){if(e!==null){var g=e.memoizedProps;if(Aa(g,o)&&e.ref===i.ref)if(ce=!1,i.pendingProps=o=g,sh(e,f))e.flags&131072&&(ce=!0);else return i.lanes=e.lanes,hi(e,i,f)}return Wc(e,i,l,o,f)}function I_(e,i,l){var o=i.pendingProps,f=o.children,g=(i.stateNode._pendingVisibility&2)!==0,p=e!==null?e.memoizedState:null;if(ka(e,i),o.mode==="hidden"||g){if(i.flags&128){if(o=p!==null?p.baseLanes|l:l,e!==null){for(f=i.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~o}else i.childLanes=0,i.child=null;return N_(e,i,o,l)}if(l&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&yo(i,p!==null?p.cachePool:null),p!==null?Gg(i,p):bc(),Ug(i);else return i.lanes=i.childLanes=536870912,N_(e,i,p!==null?p.baseLanes|l:l,l)}else p!==null?(yo(i,p.cachePool),Gg(i,p),Fi(),i.memoizedState=null):(e!==null&&yo(i,null),bc(),Fi());return pe(e,i,f,l),i.child}function N_(e,i,l,o){var f=Oc();return f=f===null?null:{parent:le._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},e!==null&&yo(i,null),bc(),Ug(i),e!==null&&Ba(e,i,o,!0),null}function ka(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=2097664)}}function Wc(e,i,l,o,f){return Gs(i),l=Lc(e,i,l,o,void 0,f),o=zc(),e!==null&&!ce?(Ic(e,i,f),hi(e,i,f)):(Mt&&o&&xc(i),i.flags|=1,pe(e,i,l,f),i.child)}function G_(e,i,l,o,f,g){return Gs(i),i.updateQueue=null,l=Bg(i,o,l,f),kg(e),o=zc(),e!==null&&!ce?(Ic(e,i,g),hi(e,i,g)):(Mt&&o&&xc(i),i.flags|=1,pe(e,i,l,g),i.child)}function U_(e,i,l,o,f){if(Gs(i),i.stateNode===null){var g=_l,p=l.contextType;typeof p=="object"&&p!==null&&(g=Ce(p)),g=new l(o,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Kc,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=o,g.state=i.memoizedState,g.refs={},oh(i),p=l.contextType,g.context=typeof p=="object"&&p!==null?Ce(p):_l,g.state=i.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(qc(i,l,p,o),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(p=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),p!==g.state&&Kc.enqueueReplaceState(g,g.state,null),Pa(i,o,g,f),Za(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){g=i.stateNode;var E=i.memoizedProps,R=Is(l,E);g.props=R;var D=g.context,B=l.contextType;p=_l,typeof B=="object"&&B!==null&&(p=Ce(B));var q=l.getDerivedStateFromProps;B=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||D!==p)&&T_(i,g,o,p),Bi=!1;var G=i.memoizedState;g.state=G,Pa(i,o,g,f),Za(),D=i.memoizedState,E||G!==D||Bi?(typeof q=="function"&&(qc(i,l,q,o),D=i.memoizedState),(R=Bi||x_(i,l,R,o,G,D,p))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=D),g.props=o,g.state=D,g.context=p,o=R):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{g=i.stateNode,uh(e,i),p=i.memoizedProps,B=Is(l,p),g.props=B,q=i.pendingProps,G=g.context,D=l.contextType,R=_l,typeof D=="object"&&D!==null&&(R=Ce(D)),E=l.getDerivedStateFromProps,(D=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(p!==q||G!==R)&&T_(i,g,o,R),Bi=!1,G=i.memoizedState,g.state=G,Pa(i,o,g,f),Za();var k=i.memoizedState;p!==q||G!==k||Bi||e!==null&&e.dependencies!==null&&wo(e.dependencies)?(typeof E=="function"&&(qc(i,l,E,o),k=i.memoizedState),(B=Bi||x_(i,l,B,o,G,k,R)||e!==null&&e.dependencies!==null&&wo(e.dependencies))?(D||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,k,R),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,k,R)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=k),g.props=o,g.state=k,g.context=R,o=B):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),o=!1)}return g=o,ka(e,i),o=(i.flags&128)!==0,g||o?(g=i.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&o?(i.child=Ms(i,e.child,null,f),i.child=Ms(i,null,l,f)):pe(e,i,l,f),i.memoizedState=g.state,e=i.child):e=hi(e,i,f),e}function F_(e,i,l,o){return Oa(),i.flags|=256,pe(e,i,l,o),i.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Jc(e){return{baseLanes:e,cachePool:Yg()}}function $c(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=pn),e}function X_(e,i,l){var o=i.pendingProps,f=!1,g=(i.flags&128)!==0,p;if((p=g)||(p=e!==null&&e.memoizedState===null?!1:(se.current&2)!==0),p&&(f=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(Mt){if(f?Ui(i):Fi(),Mt){var E=ye,R;if(R=E){t:{for(R=E,E=jn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Ln(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:bs!==null?{id:ri,overflow:oi}:null,retryLane:536870912},R=yn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,Ie=i,ye=null,R=!0):R=!1}R||ws(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;ui(i)}return E=o.children,o=o.fallback,f?(Fi(),f=i.mode,E=eh({mode:"hidden",children:E},f),o=Fs(o,f,l,null),E.return=i,o.return=i,E.sibling=o,i.child=E,f=i.child,f.memoizedState=Jc(l),f.childLanes=$c(e,p,l),i.memoizedState=Qc,o):(Ui(i),th(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(g)i.flags&256?(Ui(i),i.flags&=-257,i=nh(e,i,l)):i.memoizedState!==null?(Fi(),i.child=e.child,i.flags|=128,i=null):(Fi(),f=o.fallback,E=i.mode,o=eh({mode:"visible",children:o.children},E),f=Fs(f,E,l,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,Ms(i,e.child,null,l),o=i.child,o.memoizedState=Jc(l),o.childLanes=$c(e,p,l),i.memoizedState=Qc,i=f);else if(Ui(i),E.data==="$!"){if(p=E.nextSibling&&E.nextSibling.dataset,p)var D=p.dgst;p=D,o=Error(s(419)),o.stack="",o.digest=p,Da({value:o,source:null,stack:null}),i=nh(e,i,l)}else if(ce||Ba(e,i,l,!1),p=(l&e.childLanes)!==0,ce||p){if(p=Ht,p!==null){if(o=l&-l,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(p.suspendedLanes|l)?0:o,o!==0&&o!==R.retryLane)throw R.retryLane=o,Gi(e,o),Ne(p,e,o),O_}E.data==="$?"||Oh(),i=nh(e,i,l)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=dv.bind(null,e),E._reactRetry=i,i=null):(e=R.treeContext,ye=Ln(E.nextSibling),Ie=i,Mt=!0,On=null,jn=!1,e!==null&&(fn[dn++]=ri,fn[dn++]=oi,fn[dn++]=bs,ri=e.id,oi=e.overflow,bs=i),i=th(i,o.children),i.flags|=4096);return i}return f?(Fi(),f=o.fallback,E=i.mode,R=e.child,D=R.sibling,o=Ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&31457280,D!==null?f=Ki(D,f):(f=Fs(f,E,l,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,E=e.child.memoizedState,E===null?E=Jc(l):(R=E.cachePool,R!==null?(D=le._currentValue,R=R.parent!==D?{parent:D,pool:D}:R):R=Yg(),E={baseLanes:E.baseLanes|l,cachePool:R}),f.memoizedState=E,f.childLanes=$c(e,p,l),i.memoizedState=Qc,o):(Ui(i),l=e.child,e=l.sibling,l=Ki(l,{mode:"visible",children:o.children}),l.return=i,l.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=l,i.memoizedState=null,l)}function th(e,i){return i=eh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function eh(e,i){return hm(e,i,0,null)}function nh(e,i,l){return Ms(i,e.child,null,l),e=th(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Y_(e,i,l){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),ah(e.return,i,l)}function ih(e,i,l,o,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=l,g.tailMode=f)}function k_(e,i,l){var o=i.pendingProps,f=o.revealOrder,g=o.tail;if(pe(e,i,o.children,l),o=se.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y_(e,l,i);else if(e.tag===19)Y_(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(pt(se,o),f){case"forwards":for(l=i.child,f=null;l!==null;)e=l.alternate,e!==null&&mo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),ih(i,!1,f,l,g);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&mo(e)===null){i.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}ih(i,!0,l,null,g);break;case"together":ih(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function hi(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),Vi|=i.lanes,!(l&i.childLanes))if(e!==null){if(Ba(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=Ki(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=Ki(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function sh(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&wo(e)))}function $1(e,i,l){switch(i.tag){case 3:kn(i,i.stateNode.containerInfo),ki(i,le,e.memoizedState.cache),Oa();break;case 27:case 5:Fe(i);break;case 4:kn(i,i.stateNode.containerInfo);break;case 10:ki(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ui(i),i.flags|=128,null):l&i.child.childLanes?X_(e,i,l):(Ui(i),e=hi(e,i,l),e!==null?e.sibling:null);Ui(i);break;case 19:var f=(e.flags&128)!==0;if(o=(l&i.childLanes)!==0,o||(Ba(e,i,l,!1),o=(l&i.childLanes)!==0),f){if(o)return k_(e,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pt(se,se.current),o)break;return null;case 22:case 23:return i.lanes=0,I_(e,i,l);case 24:ki(i,le,e.memoizedState.cache)}return hi(e,i,l)}function B_(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)ce=!0;else{if(!sh(e,l)&&!(i.flags&128))return ce=!1,$1(e,i,l);ce=!!(e.flags&131072)}else ce=!1,Mt&&i.flags&1048576&&bg(i,co,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")ph(o)?(e=Is(o,e),i.tag=1,i=U_(null,i,o,e,l)):(i.tag=0,i=Wc(null,i,o,e,l));else{if(o!=null){if(f=o.$$typeof,f===x){i.tag=11,i=D_(null,i,o,e,l);break t}else if(f===A){i.tag=14,i=L_(null,i,o,e,l);break t}}throw i=Z(o)||o,Error(s(306,i,""))}}return i;case 0:return Wc(e,i,i.type,i.pendingProps,l);case 1:return o=i.type,f=Is(o,i.pendingProps),U_(e,i,o,f,l);case 3:t:{if(kn(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var g=i.pendingProps;f=i.memoizedState,o=f.element,uh(e,i),Pa(i,g,null,l);var p=i.memoizedState;if(g=p.cache,ki(i,le,g),g!==f.cache&&rh(i,[le],l,!0),Za(),g=p.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=F_(e,i,g,l);break t}else if(g!==o){o=hn(Error(s(424)),i),Da(o),i=F_(e,i,g,l);break t}else for(ye=Ln(i.stateNode.containerInfo.firstChild),Ie=i,Mt=!0,On=null,jn=!0,l=Ng(i,null,g,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oa(),g===o){i=hi(e,i,l);break t}pe(e,i,g,l)}i=i.child}return i;case 26:return ka(e,i),e===null?(l=Pm(i.type,null,i.pendingProps,null))?i.memoizedState=l:Mt||(l=i.type,e=i.pendingProps,o=Zo(Ve.current).createElement(l),o[Re]=i,o[Xe]=e,ve(o,l,e),ue(o),i.stateNode=o):i.memoizedState=Pm(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Fe(i),e===null&&Mt&&(o=i.stateNode=Bm(i.type,i.pendingProps,Ve.current),Ie=i,jn=!0,ye=Ln(o.firstChild)),o=i.pendingProps.children,e!==null||Mt?pe(e,i,o,l):i.child=Ms(i,null,o,l),ka(e,i),i.child;case 5:return e===null&&Mt&&((f=o=ye)&&(o=Mv(o,i.type,i.pendingProps,jn),o!==null?(i.stateNode=o,Ie=i,ye=Ln(o.firstChild),jn=!1,f=!0):f=!1),f||ws(i)),Fe(i),f=i.type,g=i.pendingProps,p=e!==null?e.memoizedProps:null,o=g.children,Zh(f,g)?o=null:p!==null&&Zh(f,p)&&(i.flags|=32),i.memoizedState!==null&&(f=Lc(e,i,j1,null,null,l),ar._currentValue=f),ka(e,i),pe(e,i,o,l),i.child;case 6:return e===null&&Mt&&((e=l=ye)&&(l=Ov(l,i.pendingProps,jn),l!==null?(i.stateNode=l,Ie=i,ye=null,e=!0):e=!1),e||ws(i)),null;case 13:return X_(e,i,l);case 4:return kn(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ms(i,null,o,l):pe(e,i,o,l),i.child;case 11:return D_(e,i,i.type,i.pendingProps,l);case 7:return pe(e,i,i.pendingProps,l),i.child;case 8:return pe(e,i,i.pendingProps.children,l),i.child;case 12:return pe(e,i,i.pendingProps.children,l),i.child;case 10:return o=i.pendingProps,ki(i,i.type,o.value),pe(e,i,o.children,l),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Gs(i),f=Ce(f),o=o(f),i.flags|=1,pe(e,i,o,l),i.child;case 14:return L_(e,i,i.type,i.pendingProps,l);case 15:return z_(e,i,i.type,i.pendingProps,l);case 19:return k_(e,i,l);case 22:return I_(e,i,l);case 24:return Gs(i),o=Ce(le),e===null?(f=Oc(),f===null&&(f=Ht,g=wc(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),i.memoizedState={parent:o,cache:f},oh(i),ki(i,le,f)):(e.lanes&l&&(uh(e,i),Pa(i,null,null,l),Za()),f=e.memoizedState,g=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ki(i,le,o)):(o=g.cache,ki(i,le,o),o!==f.cache&&rh(i,[le],l,!0))),pe(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var lh=_t(null),Ns=null,fi=null;function ki(e,i,l){pt(lh,i._currentValue),i._currentValue=l}function di(e){e._currentValue=lh.current,Ft(lh)}function ah(e,i,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===l)break;e=e.return}}function rh(e,i,l,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var p=f.child;g=g.firstContext;t:for(;g!==null;){var E=g;g=f;for(var R=0;R<i.length;R++)if(E.context===i[R]){g.lanes|=l,E=g.alternate,E!==null&&(E.lanes|=l),ah(g.return,l,e),o||(p=null);break t}g=E.next}}else if(f.tag===18){if(p=f.return,p===null)throw Error(s(341));p.lanes|=l,g=p.alternate,g!==null&&(g.lanes|=l),ah(p,l,e),p=null}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===e){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}}function Ba(e,i,l,o){e=null;for(var f=i,g=!1;f!==null;){if(!g){if(f.flags&524288)g=!0;else if(f.flags&262144)break}if(f.tag===10){var p=f.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=f.type;Je(f.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(f===We.current){if(p=f.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ar):e=[ar])}f=f.return}e!==null&&rh(i,e,l,o),i.flags|=262144}function wo(e){for(e=e.firstContext;e!==null;){if(!Je(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gs(e){Ns=e,fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ce(e){return H_(Ns,e)}function Mo(e,i){return Ns===null&&Gs(e),H_(e,i)}function H_(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},fi===null){if(e===null)throw Error(s(308));fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else fi=fi.next=i;return l}var Bi=!1;function oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(e,i,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Kt&2){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=oo(e),Rg(e,null,l),i}return ro(e,o,i,l),oo(e)}function Ha(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,l|=o,i.lanes=l,oe(e,l)}}function ch(e,i){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var p={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=p:g=g.next=p,l=l.next}while(l!==null);g===null?f=g=i:g=g.next=i}else f=g=i;l={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var hh=!1;function Za(){if(hh){var e=Sl;if(e!==null)throw e}}function Pa(e,i,l,o){hh=!1;var f=e.updateQueue;Bi=!1;var g=f.firstBaseUpdate,p=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var R=E,D=R.next;R.next=null,p===null?g=D:p.next=D,p=R;var B=e.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==p&&(E===null?B.firstBaseUpdate=D:E.next=D,B.lastBaseUpdate=R))}if(g!==null){var q=f.baseState;p=0,B=D=R=null,E=g;do{var G=E.lane&-536870913,k=G!==E.lane;if(k?(At&G)===G:(o&G)===G){G!==0&&G===El&&(hh=!0),B!==null&&(B=B.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;G=i;var Qt=l;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){q=at.call(Qt,q,G);break t}q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,G=typeof at=="function"?at.call(Qt,q,G):at,G==null)break t;q=K({},q,G);break t;case 2:Bi=!0}}G=E.callback,G!==null&&(e.flags|=64,k&&(e.flags|=8192),k=f.callbacks,k===null?f.callbacks=[G]:k.push(G))}else k={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(D=B=k,R=q):B=B.next=k,p|=G;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);B===null&&(R=q),f.baseState=R,f.firstBaseUpdate=D,f.lastBaseUpdate=B,g===null&&(f.shared.lanes=0),Vi|=p,e.lanes=p,e.memoizedState=q}}function Z_(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function P_(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Z_(l[e],i)}function ja(e,i){try{var l=i.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&e)===e){o=void 0;var g=l.create,p=l.inst;o=g(),p.destroy=o}l=l.next}while(l!==f)}}catch(E){Bt(i,i.return,E)}}function Pi(e,i,l){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,f=i;var R=l;try{E()}catch(D){Bt(f,R,D)}}}o=o.next}while(o!==g)}}catch(D){Bt(i,i.return,D)}}function j_(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{P_(i,l)}catch(o){Bt(e,e.return,o)}}}function q_(e,i,l){l.props=Is(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){Bt(e,i,o)}}function Us(e,i){try{var l=e.ref;if(l!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof l=="function"?e.refCleanup=l(f):l.current=f}}catch(g){Bt(e,i,g)}}function $e(e,i){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(f){Bt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Bt(e,i,f)}else l.current=null}function K_(e){var i=e.type,l=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break t;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(f){Bt(e,e.return,f)}}function V_(e,i,l){try{var o=e.stateNode;Rv(o,e.type,l,i),o[Xe]=i}catch(f){Bt(e,e.return,f)}}function W_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function fh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||W_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,i,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(e,i):l.insertBefore(e,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(e,l)):(i=l,i.appendChild(e)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ho));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(dh(e,i,l),e=e.sibling;e!==null;)dh(e,i,l),e=e.sibling}function Oo(e,i,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Oo(e,i,l),e=e.sibling;e!==null;)Oo(e,i,l),e=e.sibling}var gi=!1,Vt=!1,gh=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,he=null,J_=!1;function tv(e,i){if(e=e.containerInfo,Bh=Wo,e=_g(e),mc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var p=0,E=-1,R=-1,D=0,B=0,q=e,G=null;e:for(;;){for(var k;q!==l||f!==0&&q.nodeType!==3||(E=p+f),q!==g||o!==0&&q.nodeType!==3||(R=p+o),q.nodeType===3&&(p+=q.nodeValue.length),(k=q.firstChild)!==null;)G=q,q=k;for(;;){if(q===e)break e;if(G===l&&++D===f&&(E=p),G===g&&++B===o&&(R=p),(k=q.nextSibling)!==null)break;q=G,G=q.parentNode}q=k}l=E===-1||R===-1?null:{start:E,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hh={focusedElem:e,selectionRange:l},Wo=!1,he=i;he!==null;)if(i=he,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,he=e;else for(;he!==null;){switch(i=he,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&g!==null){e=void 0,l=i,f=g.memoizedProps,g=g.memoizedState,o=l.stateNode;try{var at=Is(l.type,f,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(at,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Bt(l,l.return,mt)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)qh(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,he=e;break}he=i.return}return at=J_,J_=!1,at}function $_(e,i,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:mi(e,l),o&4&&ja(5,l);break;case 1:if(mi(e,l),o&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(E){Bt(l,l.return,E)}else{var f=Is(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Bt(l,l.return,E)}}o&64&&j_(l),o&512&&Us(l,l.return);break;case 3:if(mi(e,l),o&64&&(o=l.updateQueue,o!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{P_(o,e)}catch(E){Bt(l,l.return,E)}}break;case 26:mi(e,l),o&512&&Us(l,l.return);break;case 27:case 5:mi(e,l),i===null&&o&4&&K_(l),o&512&&Us(l,l.return);break;case 12:mi(e,l);break;case 13:mi(e,l),o&4&&nm(e,l);break;case 22:if(f=l.memoizedState!==null||gi,!f){i=i!==null&&i.memoizedState!==null||Vt;var g=gi,p=Vt;gi=f,(Vt=i)&&!p?ji(e,l,(l.subtreeFlags&8772)!==0):mi(e,l),gi=g,Vt=p}o&512&&(l.memoizedProps.mode==="manual"?Us(l,l.return):$e(l,l.return));break;default:mi(e,l)}}function tm(e){var i=e.alternate;i!==null&&(e.alternate=null,tm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&tc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,tn=!1;function _i(e,i,l){for(l=l.child;l!==null;)em(e,i,l),l=l.sibling}function em(e,i,l){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 26:Vt||$e(l,i),_i(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Vt||$e(l,i);var o=ne,f=tn;for(ne=l.stateNode,_i(e,i,l),l=l.stateNode,i=l.attributes;i.length;)l.removeAttributeNode(i[0]);tc(l),ne=o,tn=f;break;case 5:Vt||$e(l,i);case 6:f=ne;var g=tn;if(ne=null,_i(e,i,l),ne=f,tn=g,ne!==null)if(tn)try{e=ne,o=l.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(p){Bt(l,i,p)}else try{ne.removeChild(l.stateNode)}catch(p){Bt(l,i,p)}break;case 18:ne!==null&&(tn?(i=ne,l=l.stateNode,i.nodeType===8?jh(i.parentNode,l):i.nodeType===1&&jh(i,l),cr(i)):jh(ne,l.stateNode));break;case 4:o=ne,f=tn,ne=l.stateNode.containerInfo,tn=!0,_i(e,i,l),ne=o,tn=f;break;case 0:case 11:case 14:case 15:Vt||Pi(2,l,i),Vt||Pi(4,l,i),_i(e,i,l);break;case 1:Vt||($e(l,i),o=l.stateNode,typeof o.componentWillUnmount=="function"&&q_(l,i,o)),_i(e,i,l);break;case 21:_i(e,i,l);break;case 22:Vt||$e(l,i),Vt=(o=Vt)||l.memoizedState!==null,_i(e,i,l),Vt=o;break;default:_i(e,i,l)}}function nm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cr(e)}catch(l){Bt(i,i.return,l)}}function ev(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Q_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Q_),i;default:throw Error(s(435,e.tag))}}function _h(e,i){var l=ev(e);i.forEach(function(o){var f=gv.bind(null,e,o);l.has(o)||(l.add(o),o.then(f,f))})}function _n(e,i){var l=i.deletions;if(l!==null)for(var o=0;o<l.length;o++){var f=l[o],g=e,p=i,E=p;t:for(;E!==null;){switch(E.tag){case 27:case 5:ne=E.stateNode,tn=!1;break t;case 3:ne=E.stateNode.containerInfo,tn=!0;break t;case 4:ne=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ne===null)throw Error(s(160));em(g,p,f),ne=null,tn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)im(i,e),i=i.sibling}var Dn=null;function im(e,i){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(i,e),mn(e),o&4&&(Pi(3,e,e.return),ja(3,e),Pi(5,e,e.return));break;case 1:_n(i,e),mn(e),o&512&&(Vt||l===null||$e(l,l.return)),o&64&&gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var f=Dn;if(_n(i,e),mn(e),o&512&&(Vt||l===null||$e(l,l.return)),o&4){var g=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){t:{o=e.type,l=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[pa]||g[Re]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),ve(g,o,l),g[Re]=e,ue(g),o=g;break t;case"link":var p=Km("link","href",f).get(o+(l.href||""));if(p){for(var E=0;E<p.length;E++)if(g=p[E],g.getAttribute("href")===(l.href==null?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){p.splice(E,1);break e}}g=f.createElement(o),ve(g,o,l),f.head.appendChild(g);break;case"meta":if(p=Km("meta","content",f).get(o+(l.content||""))){for(E=0;E<p.length;E++)if(g=p[E],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){p.splice(E,1);break e}}g=f.createElement(o),ve(g,o,l),f.head.appendChild(g);break;default:throw Error(s(468,o))}g[Re]=e,ue(g),o=g}e.stateNode=o}else Vm(f,e.type,e.stateNode);else e.stateNode=qm(f,o,e.memoizedProps);else g!==o?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,o===null?Vm(f,e.type,e.stateNode):qm(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&V_(e,e.memoizedProps,l.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){f=e.stateNode,g=e.memoizedProps;try{for(var R=f.firstChild;R;){var D=R.nextSibling,B=R.nodeName;R[pa]||B==="HEAD"||B==="BODY"||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&R.rel.toLowerCase()==="stylesheet"||f.removeChild(R),R=D}for(var q=e.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);ve(f,q,g),f[Re]=e,f[Xe]=g}catch(at){Bt(e,e.return,at)}}case 5:if(_n(i,e),mn(e),o&512&&(Vt||l===null||$e(l,l.return)),e.flags&32){f=e.stateNode;try{ol(f,"")}catch(at){Bt(e,e.return,at)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,V_(e,f,l!==null?l.memoizedProps:f)),o&1024&&(gh=!0);break;case 6:if(_n(i,e),mn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(at){Bt(e,e.return,at)}}break;case 3:if(qo=null,f=Dn,Dn=Po(i.containerInfo),_n(i,e),Dn=f,mn(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{cr(i.containerInfo)}catch(at){Bt(e,e.return,at)}gh&&(gh=!1,sm(e));break;case 4:o=Dn,Dn=Po(e.stateNode.containerInfo),_n(i,e),mn(e),Dn=o;break;case 12:_n(i,e),mn(e);break;case 13:_n(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rh=kt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_h(e,o)));break;case 22:if(o&512&&(Vt||l===null||$e(l,l.return)),R=e.memoizedState!==null,D=l!==null&&l.memoizedState!==null,B=gi,q=Vt,gi=B||R,Vt=q||D,_n(i,e),Vt=q,gi=B,mn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=gi||Vt,l===null||D||i||Cl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(l=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(l===null){D=l=i;try{if(f=D.stateNode,R)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=D.stateNode,E=D.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;p.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(at){Bt(D,D.return,at)}}}else if(i.tag===6){if(l===null){D=i;try{D.stateNode.nodeValue=R?"":D.memoizedProps}catch(at){Bt(D,D.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,_h(e,l))));break;case 19:_n(i,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_h(e,o)));break;case 21:break;default:_n(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var l=e.return;l!==null;){if(W_(l)){var o=l;break t}l=l.return}throw Error(s(160))}switch(o.tag){case 27:var f=o.stateNode,g=fh(e);Oo(e,g,f);break;case 5:var p=o.stateNode;o.flags&32&&(ol(p,""),o.flags&=-33);var E=fh(e);Oo(e,E,p);break;case 3:case 4:var R=o.stateNode.containerInfo,D=fh(e);dh(e,D,R);break;default:throw Error(s(161))}}}catch(B){Bt(e,e.return,B)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function sm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;sm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function mi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$_(e,i.alternate,i),i=i.sibling}function Cl(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Pi(4,i,i.return),Cl(i);break;case 1:$e(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&q_(i,i.return,l),Cl(i);break;case 26:case 27:case 5:$e(i,i.return),Cl(i);break;case 22:$e(i,i.return),i.memoizedState===null&&Cl(i);break;default:Cl(i)}e=e.sibling}}function ji(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=e,g=i,p=g.flags;switch(g.tag){case 0:case 11:case 15:ji(f,g,l),ja(4,g);break;case 1:if(ji(f,g,l),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Bt(o,o.return,D)}if(o=g,f=o.updateQueue,f!==null){var E=o.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Z_(R[f],E)}catch(D){Bt(o,o.return,D)}}l&&p&64&&j_(g),Us(g,g.return);break;case 26:case 27:case 5:ji(f,g,l),l&&o===null&&p&4&&K_(g),Us(g,g.return);break;case 12:ji(f,g,l);break;case 13:ji(f,g,l),l&&p&4&&nm(f,g);break;case 22:g.memoizedState===null&&ji(f,g,l),Us(g,g.return);break;default:ji(f,g,l)}i=i.sibling}}function mh(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ga(l))}function yh(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ga(e))}function qi(e,i,l,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lm(e,i,l,o),i=i.sibling}function lm(e,i,l,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:qi(e,i,l,o),f&2048&&ja(9,i);break;case 3:qi(e,i,l,o),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ga(e)));break;case 12:if(f&2048){qi(e,i,l,o),e=i.stateNode;try{var g=i.memoizedProps,p=g.id,E=g.onPostCommit;typeof E=="function"&&E(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Bt(i,i.return,R)}}else qi(e,i,l,o);break;case 23:break;case 22:g=i.stateNode,i.memoizedState!==null?g._visibility&4?qi(e,i,l,o):qa(e,i):g._visibility&4?qi(e,i,l,o):(g._visibility|=4,bl(e,i,l,o,(i.subtreeFlags&10256)!==0)),f&2048&&mh(i.alternate,i);break;case 24:qi(e,i,l,o),f&2048&&yh(i.alternate,i);break;default:qi(e,i,l,o)}}function bl(e,i,l,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,p=i,E=l,R=o,D=p.flags;switch(p.tag){case 0:case 11:case 15:bl(g,p,E,R,f),ja(8,p);break;case 23:break;case 22:var B=p.stateNode;p.memoizedState!==null?B._visibility&4?bl(g,p,E,R,f):qa(g,p):(B._visibility|=4,bl(g,p,E,R,f)),f&&D&2048&&mh(p.alternate,p);break;case 24:bl(g,p,E,R,f),f&&D&2048&&yh(p.alternate,p);break;default:bl(g,p,E,R,f)}i=i.sibling}}function qa(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,o=i,f=o.flags;switch(o.tag){case 22:qa(l,o),f&2048&&mh(o.alternate,o);break;case 24:qa(l,o),f&2048&&yh(o.alternate,o);break;default:qa(l,o)}i=i.sibling}}var Ka=8192;function Al(e){if(e.subtreeFlags&Ka)for(e=e.child;e!==null;)am(e),e=e.sibling}function am(e){switch(e.tag){case 26:Al(e),e.flags&Ka&&e.memoizedState!==null&&Hv(Dn,e.memoizedState,e.memoizedProps);break;case 5:Al(e);break;case 3:case 4:var i=Dn;Dn=Po(e.stateNode.containerInfo),Al(e),Dn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ka,Ka=16777216,Al(e),Ka=i):Al(e));break;default:Al(e)}}function rm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Va(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];he=o,um(o,e)}rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)om(e),e=e.sibling}function om(e){switch(e.tag){case 0:case 11:case 15:Va(e),e.flags&2048&&Pi(9,e,e.return);break;case 3:Va(e);break;case 12:Va(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Do(e)):Va(e);break;default:Va(e)}}function Do(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];he=o,um(o,e)}rm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Pi(8,i,i.return),Do(i);break;case 22:l=i.stateNode,l._visibility&4&&(l._visibility&=-5,Do(i));break;default:Do(i)}e=e.sibling}}function um(e,i){for(;he!==null;){var l=he;switch(l.tag){case 0:case 11:case 15:Pi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ga(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,he=o;else t:for(l=e;he!==null;){o=he;var f=o.sibling,g=o.return;if(tm(o),o===l){he=null;break t}if(f!==null){f.return=g,he=f;break t}he=g}}}function nv(e,i,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,l,o){return new nv(e,i,l,o)}function ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,i){var l=e.alternate;return l===null?(l=yn(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&31457280,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function cm(e,i){e.flags&=31457282;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Lo(e,i,l,o,f,g){var p=0;if(o=e,typeof e=="function")ph(e)&&(p=1);else if(typeof e=="string")p=kv(e,l,De.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case d:return Fs(l.children,f,g,i);case _:p=8,f|=24;break;case m:return e=yn(12,l,i,f|2),e.elementType=m,e.lanes=g,e;case b:return e=yn(13,l,i,f),e.elementType=b,e.lanes=g,e;case T:return e=yn(19,l,i,f),e.elementType=T,e.lanes=g,e;case N:return hm(l,f,g,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:case S:p=10;break t;case v:p=9;break t;case x:p=11;break t;case A:p=14;break t;case w:p=16,o=null;break t}p=29,l=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=yn(p,l,i,f),i.elementType=e,i.type=o,i.lanes=g,i}function Fs(e,i,l,o){return e=yn(7,e,o,i),e.lanes=l,e}function hm(e,i,l,o){e=yn(22,e,o,i),e.elementType=N,e.lanes=l;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var p=Gi(g,2);p!==null&&(f._pendingVisibility|=2,Ne(p,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(s(456));if(f._pendingVisibility&2){var p=Gi(g,2);p!==null&&(f._pendingVisibility&=-3,Ne(p,g,2))}}};return e.stateNode=f,e}function vh(e,i,l){return e=yn(6,e,null,i),e.lanes=l,e}function Eh(e,i,l){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function yi(e){e.flags|=4}function fm(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wm(i)){if(i=gn.current,i!==null&&((At&4194176)===At?qn!==null:(At&62914560)!==At&&!(At&536870912)||i!==qn))throw za=Cc,Mg;e.flags|=8192}}function zo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Qe():536870912,e.lanes|=i,Ml|=i)}function Wa(e,i){if(!Mt)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function qt(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(i)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=l,i}function iv(e,i,l){var o=i.pendingProps;switch(Tc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return qt(i),null;case 3:return l=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),di(le),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ma(i)?yi(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,On!==null&&(wh(On),On=null))),qt(i),null;case 26:return l=i.memoizedState,e===null?(yi(i),l!==null?(qt(i),fm(i,l)):(qt(i),i.flags&=-16777217)):l?l!==e.memoizedState?(yi(i),qt(i),fm(i,l)):(qt(i),i.flags&=-16777217):(e.memoizedProps!==o&&yi(i),qt(i),i.flags&=-16777217),null;case 27:Cn(i),l=Ve.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return qt(i),null}e=De.current,Ma(i)?Ag(i):(e=Bm(f,o,l),i.stateNode=e,yi(i))}return qt(i),null;case 5:if(Cn(i),l=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return qt(i),null}if(e=De.current,Ma(i))Ag(i);else{switch(f=Zo(Ve.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(l,{is:o.is}):f.createElement(l)}}e[Re]=i,e[Xe]=o;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(ve(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&yi(i)}}return qt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&yi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Ve.current,Ma(i)){if(e=i.stateNode,l=i.memoizedProps,o=null,f=Ie,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Re]=i,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||Gm(e.nodeValue,l)),e||ws(i)}else e=Zo(e).createTextNode(o),e[Re]=i,i.stateNode=e}return qt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ma(i),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Re]=i}else Oa(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;qt(i),f=!1}else On!==null&&(wh(On),On=null),f=!0;if(!f)return i.flags&256?(ui(i),i):(ui(i),null)}if(ui(i),i.flags&128)return i.lanes=l,i;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return l!==e&&l&&(i.child.flags|=8192),zo(i,i.updateQueue),qt(i),null;case 4:return me(),e===null&&Xh(i.stateNode.containerInfo),qt(i),null;case 10:return di(i.type),qt(i),null;case 19:if(Ft(se),f=i.memoizedState,f===null)return qt(i),null;if(o=(i.flags&128)!==0,g=f.rendering,g===null)if(o)Wa(f,!1);else{if(Wt!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(g=mo(e),g!==null){for(i.flags|=128,Wa(f,!1),e=g.updateQueue,i.updateQueue=e,zo(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)cm(l,e),l=l.sibling;return pt(se,se.current&1|2),i.child}e=e.sibling}f.tail!==null&&kt()>Io&&(i.flags|=128,o=!0,Wa(f,!1),i.lanes=4194304)}else{if(!o)if(e=mo(g),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,zo(i,e),Wa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Mt)return qt(i),null}else 2*kt()-f.renderingStartTime>Io&&l!==536870912&&(i.flags|=128,o=!0,Wa(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(e=f.last,e!==null?e.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=kt(),i.sibling=null,e=se.current,pt(se,o?e&1|2:e&1),i):(qt(i),null);case 22:case 23:return ui(i),Ac(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?l&536870912&&!(i.flags&128)&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),l=i.updateQueue,l!==null&&zo(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048),e!==null&&Ft(Os),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),di(le),qt(i),null;case 25:return null}throw Error(s(156,i.tag))}function sv(e,i){switch(Tc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return di(le),me(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Cn(i),null;case 13:if(ui(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Oa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Ft(se),null;case 4:return me(),null;case 10:return di(i.type),null;case 22:case 23:return ui(i),Ac(),e!==null&&Ft(Os),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return di(le),null;case 25:return null;default:return null}}function dm(e,i){switch(Tc(i),i.tag){case 3:di(le),me();break;case 26:case 27:case 5:Cn(i);break;case 4:me();break;case 13:ui(i);break;case 19:Ft(se);break;case 10:di(i.type);break;case 22:case 23:ui(i),Ac(),e!==null&&Ft(Os);break;case 24:di(le)}}var lv={getCacheForType:function(e){var i=Ce(le),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l}},av=typeof WeakMap=="function"?WeakMap:Map,Kt=0,Ht=null,Rt=null,At=0,Zt=0,en=null,pi=!1,wl=!1,Sh=!1,vi=0,Wt=0,Vi=0,Xs=0,xh=0,pn=0,Ml=0,Qa=null,Vn=null,Th=!1,Rh=0,Io=1/0,No=null,Wi=null,Go=!1,Ys=null,Ja=0,Ch=0,bh=null,$a=0,Ah=null;function nn(){if(Kt&2&&At!==0)return At&-At;if(U.T!==null){var e=El;return e!==0?e:Nh()}return Kr()}function gm(){pn===0&&(pn=!(At&536870912)||Mt?Le():536870912);var e=gn.current;return e!==null&&(e.flags|=32),pn}function Ne(e,i,l){(e===Ht&&Zt===2||e.cancelPendingCommit!==null)&&(Ol(e,0),Ei(e,At,pn,!1)),ze(e,l),(!(Kt&2)||e!==Ht)&&(e===Ht&&(!(Kt&2)&&(Xs|=l),Wt===4&&Ei(e,At,pn,!1)),Wn(e))}function _m(e,i,l){if(Kt&6)throw Error(s(327));var o=!l&&(i&60)===0&&(i&e.expiredLanes)===0||re(e,i),f=o?uv(e,i):Dh(e,i,!0),g=o;do{if(f===0){wl&&!o&&Ei(e,i,0,!1);break}else if(f===6)Ei(e,i,0,!pi);else{if(l=e.current.alternate,g&&!rv(l)){f=Dh(e,i,!1),g=!1;continue}if(f===2){if(g=i,e.errorRecoveryDisabledLanes&g)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var E=e;f=Qa;var R=E.current.memoizedState.isDehydrated;if(R&&(Ol(E,p).flags|=256),p=Dh(E,p,!1),p!==2){if(Sh&&!R){E.errorRecoveryDisabledLanes|=g,Xs|=g,f=4;break t}g=Vn,Vn=f,g!==null&&wh(g)}f=p}if(g=!1,f!==2)continue}}if(f===1){Ol(e,0),Ei(e,i,0,!0);break}t:{switch(o=e,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Ei(o,i,pn,!pi);break t}break;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=l,o.finishedLanes=i,(i&62914560)===i&&(g=Rh+300-kt(),10<g)){if(Ei(o,i,pn,!pi),Es(o,0)!==0)break t;o.timeoutHandle=Xm(mm.bind(null,o,l,Vn,No,Th,i,pn,Xs,Ml,pi,2,-0,0),g);break t}mm(o,l,Vn,No,Th,i,pn,Xs,Ml,pi,0,-0,0)}}break}while(!0);Wn(e)}function wh(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function mm(e,i,l,o,f,g,p,E,R,D,B,q,G){var k=i.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(lr={stylesheets:null,count:0,unsuspend:Bv},am(i),i=Zv(),i!==null)){e.cancelPendingCommit=i(Tm.bind(null,e,l,o,f,p,E,R,1,q,G)),Ei(e,g,p,!D);return}Tm(e,l,o,f,p,E,R,B,q,G)}function rv(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var f=l[o],g=f.getSnapshot;f=f.value;try{if(!Je(g(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ei(e,i,l,o){i&=~xh,i&=~Xs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var f=i;0<f;){var g=31-xe(f),p=1<<g;o[g]=-1,f&=~p}l!==0&&Pt(e,l,i)}function Uo(){return Kt&6?!0:(tr(0),!1)}function Mh(){if(Rt!==null){if(Zt===0)var e=Rt.return;else e=Rt,fi=Ns=null,Nc(e),pl=null,Ia=0,e=Rt;for(;e!==null;)dm(e.alternate,e),e=e.return;Rt=null}}function Ol(e,i){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,bv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Mh(),Ht=e,Rt=l=Ki(e.current,null),At=i,Zt=0,en=null,pi=!1,wl=re(e,i),Sh=!1,Ml=pn=xh=Xs=Vi=Wt=0,Vn=Qa=null,Th=!1,i&8&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var f=31-xe(o),g=1<<f;i|=e[f],o&=~g}return vi=i,ao(),l}function ym(e,i){xt=null,U.H=Kn,i===La?(i=Lg(),Zt=3):i===Mg?(i=Lg(),Zt=4):Zt=i===O_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,en=i,Rt===null&&(Wt=1,Ao(e,hn(i,e.current)))}function pm(){var e=U.H;return U.H=Kn,e===null?Kn:e}function vm(){var e=U.A;return U.A=lv,e}function Oh(){Wt=4,pi||(At&4194176)!==At&&gn.current!==null||(wl=!0),!(Vi&134217727)&&!(Xs&134217727)||Ht===null||Ei(Ht,At,pn,!1)}function Dh(e,i,l){var o=Kt;Kt|=2;var f=pm(),g=vm();(Ht!==e||At!==i)&&(No=null,Ol(e,i)),i=!1;var p=Wt;t:do try{if(Zt!==0&&Rt!==null){var E=Rt,R=en;switch(Zt){case 8:Mh(),p=6;break t;case 3:case 2:case 6:gn.current===null&&(i=!0);var D=Zt;if(Zt=0,en=null,Dl(e,E,R,D),l&&wl){p=0;break t}break;default:D=Zt,Zt=0,en=null,Dl(e,E,R,D)}}ov(),p=Wt;break}catch(B){ym(e,B)}while(!0);return i&&e.shellSuspendCounter++,fi=Ns=null,Kt=o,U.H=f,U.A=g,Rt===null&&(Ht=null,At=0,ao()),p}function ov(){for(;Rt!==null;)Em(Rt)}function uv(e,i){var l=Kt;Kt|=2;var o=pm(),f=vm();Ht!==e||At!==i?(No=null,Io=kt()+500,Ol(e,i)):wl=re(e,i);t:do try{if(Zt!==0&&Rt!==null){i=Rt;var g=en;e:switch(Zt){case 1:Zt=0,en=null,Dl(e,i,g,1);break;case 2:if(Og(g)){Zt=0,en=null,Sm(i);break}i=function(){Zt===2&&Ht===e&&(Zt=7),Wn(e)},g.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Og(g)?(Zt=0,en=null,Sm(i)):(Zt=0,en=null,Dl(e,i,g,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(!p||Wm(p)){Zt=0,en=null;var R=E.sibling;if(R!==null)Rt=R;else{var D=E.return;D!==null?(Rt=D,Fo(D)):Rt=null}break e}}Zt=0,en=null,Dl(e,i,g,5);break;case 6:Zt=0,en=null,Dl(e,i,g,6);break;case 8:Mh(),Wt=6;break t;default:throw Error(s(462))}}cv();break}catch(B){ym(e,B)}while(!0);return fi=Ns=null,U.H=o,U.A=f,Kt=l,Rt!==null?0:(Ht=null,At=0,ao(),Wt)}function cv(){for(;Rt!==null&&!An();)Em(Rt)}function Em(e){var i=B_(e.alternate,e,vi);e.memoizedProps=e.pendingProps,i===null?Fo(e):Rt=i}function Sm(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=G_(l,i,i.pendingProps,i.type,void 0,At);break;case 11:i=G_(l,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:Nc(i);default:dm(l,i),i=Rt=cm(i,vi),i=B_(l,i,vi)}e.memoizedProps=e.pendingProps,i===null?Fo(e):Rt=i}function Dl(e,i,l,o){fi=Ns=null,Nc(i),pl=null,Ia=0;var f=i.return;try{if(J1(e,f,i,l,At)){Wt=1,Ao(e,hn(l,e.current)),Rt=null;return}}catch(g){if(f!==null)throw Rt=f,g;Wt=1,Ao(e,hn(l,e.current)),Rt=null;return}i.flags&32768?(Mt||o===1?e=!0:wl||At&536870912?e=!1:(pi=e=!0,(o===2||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xm(i,e)):Fo(i)}function Fo(e){var i=e;do{if(i.flags&32768){xm(i,pi);return}e=i.return;var l=iv(i.alternate,i,vi);if(l!==null){Rt=l;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);Wt===0&&(Wt=5)}function xm(e,i){do{var l=sv(e.alternate,e);if(l!==null){l.flags&=32767,Rt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=l}while(e!==null);Wt=6,Rt=null}function Tm(e,i,l,o,f,g,p,E,R,D){var B=U.T,q=J.p;try{J.p=2,U.T=null,hv(e,i,l,o,q,f,g,p,E,R,D)}finally{U.T=B,J.p=q}}function hv(e,i,l,o,f,g,p,E){do Ll();while(Ys!==null);if(Kt&6)throw Error(s(327));var R=e.finishedWork;if(o=e.finishedLanes,R===null)return null;if(e.finishedWork=null,e.finishedLanes=0,R===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var D=R.lanes|R.childLanes;if(D|=Ec,wn(e,o,D,g,p,E),e===Ht&&(Rt=Ht=null,At=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Go||(Go=!0,Ch=D,bh=l,_v(nl,function(){return Ll(),null})),l=(R.flags&15990)!==0,R.subtreeFlags&15990||l?(l=U.T,U.T=null,g=J.p,J.p=2,p=Kt,Kt|=4,tv(e,R),im(R,e),N1(Hh,e.containerInfo),Wo=!!Bh,Hh=Bh=null,e.current=R,$_(e,R.alternate,R),ii(),Kt=p,J.p=g,U.T=l):e.current=R,Go?(Go=!1,Ys=e,Ja=o):Rm(e,D),D=e.pendingLanes,D===0&&(Wi=null),qr(R.stateNode),Wn(e),i!==null)for(f=e.onRecoverableError,R=0;R<i.length;R++)D=i[R],f(D.value,{componentStack:D.stack});return Ja&3&&Ll(),D=e.pendingLanes,o&4194218&&D&42?e===Ah?$a++:($a=0,Ah=e):$a=0,tr(0),null}function Rm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ga(i)))}function Ll(){if(Ys!==null){var e=Ys,i=Ch;Ch=0;var l=rn(Ja),o=U.T,f=J.p;try{if(J.p=32>l?32:l,U.T=null,Ys===null)var g=!1;else{l=bh,bh=null;var p=Ys,E=Ja;if(Ys=null,Ja=0,Kt&6)throw Error(s(331));var R=Kt;if(Kt|=4,om(p.current),lm(p,p.current,E,l),Kt=R,tr(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(ps,p)}catch{}g=!0}return g}finally{J.p=f,U.T=o,Rm(e,i)}}return!1}function Cm(e,i,l){i=hn(l,i),i=Vc(e.stateNode,i,2),e=Zi(e,i,2),e!==null&&(ze(e,2),Wn(e))}function Bt(e,i,l){if(e.tag===3)Cm(e,e,l);else for(;i!==null;){if(i.tag===3){Cm(i,e,l);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wi===null||!Wi.has(o))){e=hn(l,e),l=w_(2),o=Zi(i,l,2),o!==null&&(M_(l,o,i,e),ze(o,2),Wn(o));break}}i=i.return}}function Lh(e,i,l){var o=e.pingCache;if(o===null){o=e.pingCache=new av;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(l)||(Sh=!0,f.add(l),e=fv.bind(null,e,i,l),i.then(e,e))}function fv(e,i,l){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ht===e&&(At&l)===l&&(Wt===4||Wt===3&&(At&62914560)===At&&300>kt()-Rh?!(Kt&2)&&Ol(e,0):xh|=l,Ml===At&&(Ml=0)),Wn(e)}function bm(e,i){i===0&&(i=Qe()),e=Gi(e,i),e!==null&&(ze(e,i),Wn(e))}function dv(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),bm(e,l)}function gv(e,i){var l=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),bm(e,l)}function _v(e,i){return Bn(e,i)}var Xo=null,zl=null,zh=!1,Yo=!1,Ih=!1,ks=0;function Wn(e){e!==zl&&e.next===null&&(zl===null?Xo=zl=e:zl=zl.next=e),Yo=!0,zh||(zh=!0,yv(mv))}function tr(e,i){if(!Ih&&Yo){Ih=!0;do for(var l=!1,o=Xo;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var p=o.suspendedLanes,E=o.pingedLanes;g=(1<<31-xe(42|e)+1)-1,g&=f&~(p&~E),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(l=!0,Mm(o,g))}else g=At,g=Es(o,o===Ht?g:0),!(g&3)||re(o,g)||(l=!0,Mm(o,g));o=o.next}while(l);Ih=!1}}function mv(){Yo=zh=!1;var e=0;ks!==0&&(Cv()&&(e=ks),ks=0);for(var i=kt(),l=null,o=Xo;o!==null;){var f=o.next,g=Am(o,i);g===0?(o.next=null,l===null?Xo=f:l.next=f,f===null&&(zl=l)):(l=o,(e!==0||g&3)&&(Yo=!0)),o=f}tr(e)}function Am(e,i){for(var l=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var p=31-xe(g),E=1<<p,R=f[p];R===-1?(!(E&l)||E&o)&&(f[p]=si(E,i)):R<=i&&(e.expiredLanes|=E),g&=~E}if(i=Ht,l=At,l=Es(e,e===i?l:0),o=e.callbackNode,l===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ni(o),e.callbackNode=null,e.callbackPriority=0;if(!(l&3)||re(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(o!==null&&ni(o),rn(l)){case 2:case 8:l=ys;break;case 32:l=nl;break;case 268435456:l=_a;break;default:l=nl}return o=wm.bind(null,e),l=Bn(l,o),e.callbackPriority=i,e.callbackNode=l,i}return o!==null&&o!==null&&ni(o),e.callbackPriority=2,e.callbackNode=null,2}function wm(e,i){var l=e.callbackNode;if(Ll()&&e.callbackNode!==l)return null;var o=At;return o=Es(e,e===Ht?o:0),o===0?null:(_m(e,o,i),Am(e,kt()),e.callbackNode!=null&&e.callbackNode===l?wm.bind(null,e):null)}function Mm(e,i){if(Ll())return null;_m(e,i,!0)}function yv(e){Av(function(){Kt&6?Bn(ms,e):e()})}function Nh(){return ks===0&&(ks=Le()),ks}function Om(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$r(""+e)}function Dm(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function pv(e,i,l,o,f){if(i==="submit"&&l&&l.stateNode===f){var g=Om((f[Xe]||null).action),p=o.submitter;p&&(i=(i=p[Xe]||null)?Om(i.formAction):p.getAttribute("formAction"),i!==null&&(g=i,p=null));var E=new io("action","action",null,o,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var R=p?Dm(f,p):new FormData(f);Zc(l,{pending:!0,data:R,method:f.method,action:g},null,R)}}else typeof g=="function"&&(E.preventDefault(),R=p?Dm(f,p):new FormData(f),Zc(l,{pending:!0,data:R,method:f.method,action:g},g,R))},currentTarget:f}]})}}for(var Gh=0;Gh<Tg.length;Gh++){var Uh=Tg[Gh],vv=Uh.toLowerCase(),Ev=Uh[0].toUpperCase()+Uh.slice(1);Mn(vv,"on"+Ev)}Mn(pg,"onAnimationEnd"),Mn(vg,"onAnimationIteration"),Mn(Eg,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(U1,"onTransitionRun"),Mn(F1,"onTransitionStart"),Mn(X1,"onTransitionCancel"),Mn(Sg,"onTransitionEnd"),al("onMouseEnter",["mouseout","mouseover"]),al("onMouseLeave",["mouseout","mouseover"]),al("onPointerEnter",["pointerout","pointerover"]),al("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(er));function Lm(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],f=o.event;o=o.listeners;t:{var g=void 0;if(i)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,D=E.currentTarget;if(E=E.listener,R!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=D;try{g(f)}catch(B){bo(B)}f.currentTarget=null,g=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,D=E.currentTarget,E=E.listener,R!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=D;try{g(f)}catch(B){bo(B)}f.currentTarget=null,g=R}}}}function Ct(e,i){var l=i[$u];l===void 0&&(l=i[$u]=new Set);var o=e+"__bubble";l.has(o)||(zm(i,e,2,!1),l.add(o))}function Fh(e,i,l){var o=0;i&&(o|=4),zm(l,e,o,i)}var ko="_reactListening"+Math.random().toString(36).slice(2);function Xh(e){if(!e[ko]){e[ko]=!0,Gd.forEach(function(l){l!=="selectionchange"&&(Sv.has(l)||Fh(l,!1,e),Fh(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ko]||(i[ko]=!0,Fh("selectionchange",!1,i))}}function zm(e,i,l,o){switch(n0(i)){case 2:var f=qv;break;case 8:f=Kv;break;default:f=Jh}l=f.bind(null,i,l,e),f=void 0,!rc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(i,l,{capture:!0,passive:f}):e.addEventListener(i,l,!0):f!==void 0?e.addEventListener(i,l,{passive:f}):e.addEventListener(i,l,!1)}function Yh(e,i,l,o,f){var g=o;if(!(i&1)&&!(i&2)&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&(R=p.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;p=p.return}for(;E!==null;){if(p=Ss(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=g=p;continue t}E=E.parentNode}}o=o.return}Kd(function(){var D=g,B=lc(l),q=[];t:{var G=xg.get(e);if(G!==void 0){var k=io,at=e;switch(e){case"keypress":if(eo(l)===0)break t;case"keydown":case"keyup":k=g1;break;case"focusin":at="focus",k=hc;break;case"focusout":at="blur",k=hc;break;case"beforeblur":case"afterblur":k=hc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=n1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=y1;break;case pg:case vg:case Eg:k=l1;break;case Sg:k=v1;break;case"scroll":case"scrollend":k=t1;break;case"wheel":k=S1;break;case"copy":case"cut":case"paste":k=r1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$d;break;case"toggle":case"beforetoggle":k=T1}var mt=(i&4)!==0,Qt=!mt&&(e==="scroll"||e==="scrollend"),z=mt?G!==null?G+"Capture":null:G;mt=[];for(var M=D,I;M!==null;){var P=M;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||z===null||(P=Ea(M,z),P!=null&&mt.push(nr(M,P,I))),Qt)break;M=M.return}0<mt.length&&(G=new k(G,at,null,l,B),q.push({event:G,listeners:mt}))}}if(!(i&7)){t:{if(G=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",G&&l!==sc&&(at=l.relatedTarget||l.fromElement)&&(Ss(at)||at[il]))break t;if((k||G)&&(G=B.window===B?B:(G=B.ownerDocument)?G.defaultView||G.parentWindow:window,k?(at=l.relatedTarget||l.toElement,k=D,at=at?Ss(at):null,at!==null&&(Qt=W(at),mt=at.tag,at!==Qt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(k=null,at=D),k!==at)){if(mt=Qd,P="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(mt=$d,P="onPointerLeave",z="onPointerEnter",M="pointer"),Qt=k==null?G:va(k),I=at==null?G:va(at),G=new mt(P,M+"leave",k,l,B),G.target=Qt,G.relatedTarget=I,P=null,Ss(B)===D&&(mt=new mt(z,M+"enter",at,l,B),mt.target=I,mt.relatedTarget=Qt,P=mt),Qt=P,k&&at)e:{for(mt=k,z=at,M=0,I=mt;I;I=Il(I))M++;for(I=0,P=z;P;P=Il(P))I++;for(;0<M-I;)mt=Il(mt),M--;for(;0<I-M;)z=Il(z),I--;for(;M--;){if(mt===z||z!==null&&mt===z.alternate)break e;mt=Il(mt),z=Il(z)}mt=null}else mt=null;k!==null&&Im(q,G,k,mt,!1),at!==null&&Qt!==null&&Im(q,Qt,at,mt,!0)}}t:{if(G=D?va(D):window,k=G.nodeName&&G.nodeName.toLowerCase(),k==="select"||k==="input"&&G.type==="file")var nt=rg;else if(lg(G))if(og)nt=z1;else{nt=D1;var Tt=O1}else k=G.nodeName,!k||k.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?D&&ic(D.elementType)&&(nt=rg):nt=L1;if(nt&&(nt=nt(e,D))){ag(q,nt,l,B);break t}Tt&&Tt(e,G,D),e==="focusout"&&D&&G.type==="number"&&D.memoizedProps.value!=null&&nc(G,"number",G.value)}switch(Tt=D?va(D):window,e){case"focusin":(lg(Tt)||Tt.contentEditable==="true")&&(fl=Tt,yc=D,wa=null);break;case"focusout":wa=yc=fl=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,mg(q,l,B);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":mg(q,l,B)}var ot;if(dc)t:{switch(e){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else hl?ig(e,l)&&(ft="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ft="onCompositionStart");ft&&(tg&&l.locale!=="ko"&&(hl||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&hl&&(ot=Vd()):(Ni=B,oc="value"in Ni?Ni.value:Ni.textContent,hl=!0)),Tt=Bo(D,ft),0<Tt.length&&(ft=new Jd(ft,e,null,l,B),q.push({event:ft,listeners:Tt}),ot?ft.data=ot:(ot=sg(l),ot!==null&&(ft.data=ot)))),(ot=C1?b1(e,l):A1(e,l))&&(ft=Bo(D,"onBeforeInput"),0<ft.length&&(Tt=new Jd("onBeforeInput","beforeinput",null,l,B),q.push({event:Tt,listeners:ft}),Tt.data=ot)),pv(q,e,D,l,B)}Lm(q,i)})}function nr(e,i,l){return{instance:e,listener:i,currentTarget:l}}function Bo(e,i){for(var l=i+"Capture",o=[];e!==null;){var f=e,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ea(e,l),f!=null&&o.unshift(nr(e,f,g)),f=Ea(e,i),f!=null&&o.push(nr(e,f,g))),e=e.return}return o}function Il(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Im(e,i,l,o,f){for(var g=i._reactName,p=[];l!==null&&l!==o;){var E=l,R=E.alternate,D=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||D===null||(R=D,f?(D=Ea(l,g),D!=null&&p.unshift(nr(l,D,R))):f||(D=Ea(l,g),D!=null&&p.push(nr(l,D,R)))),l=l.return}p.length!==0&&e.push({event:i,listeners:p})}var xv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function Nm(e){return(typeof e=="string"?e:""+e).replace(xv,`
`).replace(Tv,"")}function Gm(e,i){return i=Nm(i),Nm(e)===i}function Ho(){}function Yt(e,i,l,o,f,g){switch(l){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ol(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ol(e,""+o);break;case"className":Wr(e,"class",o);break;case"tabIndex":Wr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(e,l,o);break;case"style":jd(e,o,g);break;case"data":if(i!=="object"){Wr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=$r(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&Yt(e,i,"name",f.name,f,null),Yt(e,i,"formEncType",f.formEncType,f,null),Yt(e,i,"formMethod",f.formMethod,f,null),Yt(e,i,"formTarget",f.formTarget,f,null)):(Yt(e,i,"encType",f.encType,f,null),Yt(e,i,"method",f.method,f,null),Yt(e,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=$r(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=Ho);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=$r(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Vr(e,"popover",o);break;case"xlinkActuate":ai(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ai(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ai(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ai(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ai(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ai(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ai(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ai(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ai(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Vr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Jp.get(l)||l,Vr(e,l,o))}}function kh(e,i,l,o,f,g){switch(l){case"style":jd(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof o=="string"?ol(e,o):(typeof o=="number"||typeof o=="bigint")&&ol(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ho);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ud.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),g=e[Xe]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(i,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,o,f);break t}l in e?e[l]=o:o===!0?e.setAttribute(l,""):Vr(e,l,o)}}}function ve(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var p=l[g];if(p!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,g,p,l,null)}}f&&Yt(e,i,"srcSet",l.srcSet,l,null),o&&Yt(e,i,"src",l.src,l,null);return;case"input":Ct("invalid",e);var E=g=p=f=null,R=null,D=null;for(o in l)if(l.hasOwnProperty(o)){var B=l[o];if(B!=null)switch(o){case"name":f=B;break;case"type":p=B;break;case"checked":R=B;break;case"defaultChecked":D=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Yt(e,i,o,B,l,null)}}Bd(e,g,E,R,D,p,f,!1),Qr(e);return;case"select":Ct("invalid",e),o=p=g=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":g=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Yt(e,i,f,E,l,null)}i=g,l=p,e.multiple=!!o,i!=null?rl(e,!!o,i,!1):l!=null&&rl(e,!!o,l,!0);return;case"textarea":Ct("invalid",e),g=f=o=null;for(p in l)if(l.hasOwnProperty(p)&&(E=l[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":f=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,p,E,l,null)}Zd(e,o,f,g),Qr(e);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(o=l[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,R,o,l,null)}return;case"dialog":Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<er.length;o++)Ct(er[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(o=l[D],o!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,D,o,l,null)}return;default:if(ic(i)){for(B in l)l.hasOwnProperty(B)&&(o=l[B],o!==void 0&&kh(e,i,B,o,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(o=l[E],o!=null&&Yt(e,i,E,o,l,null))}function Rv(e,i,l,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,p=null,E=null,R=null,D=null,B=null;for(k in l){var q=l[k];if(l.hasOwnProperty(k)&&q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=q;default:o.hasOwnProperty(k)||Yt(e,i,k,null,o,q)}}for(var G in o){var k=o[G];if(q=l[G],o.hasOwnProperty(G)&&(k!=null||q!=null))switch(G){case"type":g=k;break;case"name":f=k;break;case"checked":D=k;break;case"defaultChecked":B=k;break;case"value":p=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:k!==q&&Yt(e,i,G,k,o,q)}}ec(e,p,E,R,D,B,g,f);return;case"select":k=p=E=G=null;for(g in l)if(R=l[g],l.hasOwnProperty(g)&&R!=null)switch(g){case"value":break;case"multiple":k=R;default:o.hasOwnProperty(g)||Yt(e,i,g,null,o,R)}for(f in o)if(g=o[f],R=l[f],o.hasOwnProperty(f)&&(g!=null||R!=null))switch(f){case"value":G=g;break;case"defaultValue":E=g;break;case"multiple":p=g;default:g!==R&&Yt(e,i,f,g,o,R)}i=E,l=p,o=k,G!=null?rl(e,!!l,G,!1):!!o!=!!l&&(i!=null?rl(e,!!l,i,!0):rl(e,!!l,l?[]:"",!1));return;case"textarea":k=G=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,f)}for(p in o)if(f=o[p],g=l[p],o.hasOwnProperty(p)&&(f!=null||g!=null))switch(p){case"value":G=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Yt(e,i,p,f,o,g)}Hd(e,G,k);return;case"option":for(var at in l)if(G=l[at],l.hasOwnProperty(at)&&G!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Yt(e,i,at,null,o,G)}for(R in o)if(G=o[R],k=l[R],o.hasOwnProperty(R)&&G!==k&&(G!=null||k!=null))switch(R){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Yt(e,i,R,G,o,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in l)G=l[mt],l.hasOwnProperty(mt)&&G!=null&&!o.hasOwnProperty(mt)&&Yt(e,i,mt,null,o,G);for(D in o)if(G=o[D],k=l[D],o.hasOwnProperty(D)&&G!==k&&(G!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Yt(e,i,D,G,o,k)}return;default:if(ic(i)){for(var Qt in l)G=l[Qt],l.hasOwnProperty(Qt)&&G!==void 0&&!o.hasOwnProperty(Qt)&&kh(e,i,Qt,void 0,o,G);for(B in o)G=o[B],k=l[B],!o.hasOwnProperty(B)||G===k||G===void 0&&k===void 0||kh(e,i,B,G,o,k);return}}for(var z in l)G=l[z],l.hasOwnProperty(z)&&G!=null&&!o.hasOwnProperty(z)&&Yt(e,i,z,null,o,G);for(q in o)G=o[q],k=l[q],!o.hasOwnProperty(q)||G===k||G==null&&k==null||Yt(e,i,q,G,o,k)}var Bh=null,Hh=null;function Zo(e){return e.nodeType===9?e:e.ownerDocument}function Um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Zh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ph=null;function Cv(){var e=window.event;return e&&e.type==="popstate"?e===Ph?!1:(Ph=e,!0):(Ph=null,!1)}var Xm=typeof setTimeout=="function"?setTimeout:void 0,bv=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,Av=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(wv)}:Xm;function wv(e){setTimeout(function(){throw e})}function jh(e,i){var l=i,o=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(o===0){e.removeChild(f),cr(i);return}o--}else l!=="$"&&l!=="$?"&&l!=="$!"||o++;l=f}while(l);cr(i)}function qh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qh(l),tc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Mv(e,i,l,o){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pa])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function Ov(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ln(e.nextSibling),e===null))return null;return e}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function km(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return e;i--}else l==="/$"&&i++}e=e.previousSibling}return null}function Bm(e,i,l){switch(i=Zo(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var vn=new Map,Hm=new Set;function Po(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Si=J.d;J.d={f:Dv,r:Lv,D:zv,C:Iv,L:Nv,m:Gv,X:Fv,S:Uv,M:Xv};function Dv(){var e=Si.f(),i=Uo();return e||i}function Lv(e){var i=sl(e);i!==null&&i.tag===5&&i.type==="form"?m_(i):Si.r(e)}var Nl=typeof document>"u"?null:document;function Zm(e,i,l){var o=Nl;if(o&&typeof i=="string"&&i){var f=un(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Hm.has(f)||(Hm.add(f),e={rel:e,crossOrigin:l,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),ve(i,"link",e),ue(i),o.head.appendChild(i)))}}function zv(e){Si.D(e),Zm("dns-prefetch",e,null)}function Iv(e,i){Si.C(e,i),Zm("preconnect",e,i)}function Nv(e,i,l){Si.L(e,i,l);var o=Nl;if(o&&e&&i){var f='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+un(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+un(l.imageSizes)+'"]')):f+='[href="'+un(e)+'"]';var g=f;switch(i){case"style":g=Gl(e);break;case"script":g=Ul(e)}vn.has(g)||(e=K({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),vn.set(g,e),o.querySelector(f)!==null||i==="style"&&o.querySelector(ir(g))||i==="script"&&o.querySelector(sr(g))||(i=o.createElement("link"),ve(i,"link",e),ue(i),o.head.appendChild(i)))}}function Gv(e,i){Si.m(e,i);var l=Nl;if(l&&e){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ul(e)}if(!vn.has(g)&&(e=K({rel:"modulepreload",href:e},i),vn.set(g,e),l.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(sr(g)))return}o=l.createElement("link"),ve(o,"link",e),ue(o),l.head.appendChild(o)}}}function Uv(e,i,l){Si.S(e,i,l);var o=Nl;if(o&&e){var f=ll(o).hoistableStyles,g=Gl(e);i=i||"default";var p=f.get(g);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ir(g)))E.loading=5;else{e=K({rel:"stylesheet",href:e,"data-precedence":i},l),(l=vn.get(g))&&Kh(e,l);var R=p=o.createElement("link");ue(R),ve(R,"link",e),R._p=new Promise(function(D,B){R.onload=D,R.onerror=B}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,jo(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:E},f.set(g,p)}}}function Fv(e,i){Si.X(e,i);var l=Nl;if(l&&e){var o=ll(l).hoistableScripts,f=Ul(e),g=o.get(f);g||(g=l.querySelector(sr(f)),g||(e=K({src:e,async:!0},i),(i=vn.get(f))&&Vh(e,i),g=l.createElement("script"),ue(g),ve(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function Xv(e,i){Si.M(e,i);var l=Nl;if(l&&e){var o=ll(l).hoistableScripts,f=Ul(e),g=o.get(f);g||(g=l.querySelector(sr(f)),g||(e=K({src:e,async:!0,type:"module"},i),(i=vn.get(f))&&Vh(e,i),g=l.createElement("script"),ue(g),ve(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function Pm(e,i,l,o){var f=(f=Ve.current)?Po(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Gl(l.href),l=ll(f).hoistableStyles,o=l.get(i),o||(o={type:"style",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Gl(l.href);var g=ll(f).hoistableStyles,p=g.get(e);if(p||(f=f.ownerDocument||f,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,p),(g=f.querySelector(ir(e)))&&!g._p&&(p.instance=g,p.state.loading=5),vn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vn.set(e,l),g||Yv(f,e,l,p.state))),i&&o===null)throw Error(s(528,""));return p}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ul(l),l=ll(f).hoistableScripts,o=l.get(i),o||(o={type:"script",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gl(e){return'href="'+un(e)+'"'}function ir(e){return'link[rel="stylesheet"]['+e+"]"}function jm(e){return K({},e,{"data-precedence":e.precedence,precedence:null})}function Yv(e,i,l,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ve(i,"link",l),ue(i),e.head.appendChild(i))}function Ul(e){return'[src="'+un(e)+'"]'}function sr(e){return"script[async]"+e}function qm(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+un(l.href)+'"]');if(o)return i.instance=o,ue(o),o;var f=K({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),ve(o,"style",f),jo(o,l.precedence,e),i.instance=o;case"stylesheet":f=Gl(l.href);var g=e.querySelector(ir(f));if(g)return i.state.loading|=4,i.instance=g,ue(g),g;o=jm(l),(f=vn.get(f))&&Kh(o,f),g=(e.ownerDocument||e).createElement("link"),ue(g);var p=g;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),ve(g,"link",o),i.state.loading|=4,jo(g,l.precedence,e),i.instance=g;case"script":return g=Ul(l.src),(f=e.querySelector(sr(g)))?(i.instance=f,ue(f),f):(o=l,(f=vn.get(g))&&(o=K({},l),Vh(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),ue(f),ve(f,"link",o),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,jo(o,l.precedence,e));return i.instance}function jo(e,i,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===i)g=E;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function Kh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Vh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var qo=null;function Km(e,i,l){if(qo===null){var o=new Map,f=qo=new Map;f.set(l,o)}else f=qo,o=f.get(l),o||(o=new Map,f.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var g=l[f];if(!(g[pa]||g[Re]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var p=g.getAttribute(i)||"";p=e+p;var E=o.get(p);E?E.push(g):o.set(p,[g])}}return o}function Vm(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function kv(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wm(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var lr=null;function Bv(){}function Hv(e,i,l){if(lr===null)throw Error(s(475));var o=lr;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var f=Gl(l.href),g=e.querySelector(ir(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Ko.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=g,ue(g);return}g=e.ownerDocument||e,l=jm(l),(f=vn.get(f))&&Kh(l,f),g=g.createElement("link"),ue(g);var p=g;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),ve(g,"link",l),i.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=Ko.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function Zv(){if(lr===null)throw Error(s(475));var e=lr;return e.stylesheets&&e.count===0&&Wh(e,e.stylesheets),0<e.count?function(i){var l=setTimeout(function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Ko(){if(this.count--,this.count===0){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vo=null;function Wh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vo=new Map,i.forEach(Pv,e),Vo=null,Ko.call(e))}function Pv(e,i){if(!(i.state.loading&4)){var l=Vo.get(e);if(l)var o=l.get(null);else{l=new Map,Vo.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var p=f[g];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(l.set(p.dataset.precedence,p),o=p)}o&&l.set(null,o)}f=i.instance,p=f.getAttribute("data-precedence"),g=l.get(p)||o,g===o&&l.set(null,f),l.set(p,f),this.count++,o=Ko.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var ar={$$typeof:S,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function jv(e,i,l,o,f,g,p,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Qm(e,i,l,o,f,g,p,E,R,D,B,q){return e=new jv(e,i,l,p,E,R,D,q),i=1,g===!0&&(i|=24),g=yn(3,null,null,i),e.current=g,g.stateNode=e,i=wc(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:o,isDehydrated:l,cache:i},oh(g),e}function Jm(e){return e?(e=_l,e):_l}function $m(e,i,l,o,f,g){f=Jm(f),o.context===null?o.context=f:o.pendingContext=f,o=Hi(i),o.payload={element:l},g=g===void 0?null:g,g!==null&&(o.callback=g),l=Zi(e,o,i),l!==null&&(Ne(l,e,i),Ha(l,e,i))}function t0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function Qh(e,i){t0(e,i),(e=e.alternate)&&t0(e,i)}function e0(e){if(e.tag===13){var i=Gi(e,67108864);i!==null&&Ne(i,e,67108864),Qh(e,67108864)}}var Wo=!0;function qv(e,i,l,o){var f=U.T;U.T=null;var g=J.p;try{J.p=2,Jh(e,i,l,o)}finally{J.p=g,U.T=f}}function Kv(e,i,l,o){var f=U.T;U.T=null;var g=J.p;try{J.p=8,Jh(e,i,l,o)}finally{J.p=g,U.T=f}}function Jh(e,i,l,o){if(Wo){var f=$h(o);if(f===null)Yh(e,i,o,Qo,l),i0(e,o);else if(Wv(f,e,i,l,o))o.stopPropagation();else if(i0(e,o),i&4&&-1<Vv.indexOf(e)){for(;f!==null;){var g=sl(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var p=Pn(g.pendingLanes);if(p!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-xe(p);E.entanglements[1]|=R,p&=~R}Wn(g),!(Kt&6)&&(Io=kt()+500,tr(0))}}break;case 13:E=Gi(g,2),E!==null&&Ne(E,g,2),Uo(),Qh(g,2)}if(g=$h(o),g===null&&Yh(e,i,o,Qo,l),g===f)break;f=g}f!==null&&o.stopPropagation()}else Yh(e,i,o,null,l)}}function $h(e){return e=lc(e),tf(e)}var Qo=null;function tf(e){if(Qo=null,e=Ss(e),e!==null){var i=W(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=et(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Qo=e,null}function n0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case ms:return 2;case ys:return 8;case nl:case jr:return 32;case _a:return 268435456;default:return 32}default:return 32}}var ef=!1,Qi=null,Ji=null,$i=null,rr=new Map,or=new Map,ts=[],Vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(e,i){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":rr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(i.pointerId)}}function ur(e,i,l,o,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:l,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},i!==null&&(i=sl(i),i!==null&&e0(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function Wv(e,i,l,o,f){switch(i){case"focusin":return Qi=ur(Qi,e,i,l,o,f),!0;case"dragenter":return Ji=ur(Ji,e,i,l,o,f),!0;case"mouseover":return $i=ur($i,e,i,l,o,f),!0;case"pointerover":var g=f.pointerId;return rr.set(g,ur(rr.get(g)||null,e,i,l,o,f)),!0;case"gotpointercapture":return g=f.pointerId,or.set(g,ur(or.get(g)||null,e,i,l,o,f)),!0}return!1}function s0(e){var i=Ss(e.target);if(i!==null){var l=W(i);if(l!==null){if(i=l.tag,i===13){if(i=et(l),i!==null){e.blockedOn=i,Zp(e.priority,function(){if(l.tag===13){var o=nn(),f=Gi(l,o);f!==null&&Ne(f,l,o),Qh(l,o)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=$h(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);sc=o,l.target.dispatchEvent(o),sc=null}else return i=sl(l),i!==null&&e0(i),e.blockedOn=l,!1;i.shift()}return!0}function l0(e,i,l){Jo(e)&&l.delete(i)}function Qv(){ef=!1,Qi!==null&&Jo(Qi)&&(Qi=null),Ji!==null&&Jo(Ji)&&(Ji=null),$i!==null&&Jo($i)&&($i=null),rr.forEach(l0),or.forEach(l0)}function $o(e,i){e.blockedOn===i&&(e.blockedOn=null,ef||(ef=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Qv)))}var tu=null;function a0(e){tu!==e&&(tu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){tu===e&&(tu=null);for(var i=0;i<e.length;i+=3){var l=e[i],o=e[i+1],f=e[i+2];if(typeof o!="function"){if(tf(o||l)===null)continue;break}var g=sl(l);g!==null&&(e.splice(i,3),i-=3,Zc(g,{pending:!0,data:f,method:l.method,action:o},o,f))}}))}function cr(e){function i(R){return $o(R,e)}Qi!==null&&$o(Qi,e),Ji!==null&&$o(Ji,e),$i!==null&&$o($i,e),rr.forEach(i),or.forEach(i);for(var l=0;l<ts.length;l++){var o=ts[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ts.length&&(l=ts[0],l.blockedOn===null);)s0(l),l.blockedOn===null&&ts.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var f=l[o],g=l[o+1],p=f[Xe]||null;if(typeof g=="function")p||a0(l);else if(p){var E=null;if(g&&g.hasAttribute("formAction")){if(f=g,p=g[Xe]||null)E=p.formAction;else if(tf(f)!==null)continue}else E=p.action;typeof E=="function"?l[o+1]=E:(l.splice(o,3),o-=3),a0(l)}}}function nf(e){this._internalRoot=e}eu.prototype.render=nf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,o=nn();$m(l,o,e,i,null,null)},eu.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ll(),$m(e.current,2,null,e,null,null),Uo(),i[il]=null}};function eu(e){this._internalRoot=e}eu.prototype.unstable_scheduleHydration=function(e){if(e){var i=Kr();e={blockedOn:null,target:e,priority:i};for(var l=0;l<ts.length&&i!==0&&i<ts[l].priority;l++);ts.splice(l,0,e),l===0&&s0(e)}};var r0=t.version;if(r0!=="19.0.0")throw Error(s(527,r0,"19.0.0"));J.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Y(i),e=e!==null?F(e):null,e=e===null?null:e.stateNode,e};var Jv={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:Ss,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ps=nu.inject(Jv),Se=nu}catch{}}return fr.createRoot=function(e,i){if(!r(e))throw Error(s(299));var l=!1,o="",f=R_,g=C_,p=b_,E=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Qm(e,1,!1,null,null,l,o,f,g,p,E,null),e[il]=i.current,Xh(e.nodeType===8?e.parentNode:e),new nf(i)},fr.hydrateRoot=function(e,i,l){if(!r(e))throw Error(s(299));var o=!1,f="",g=R_,p=C_,E=b_,R=null,D=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks),l.formState!==void 0&&(D=l.formState)),i=Qm(e,1,!0,i,l??null,o,f,g,p,E,R,D),i.context=Jm(null),l=i.current,o=nn(),f=Hi(o),f.callback=null,Zi(l,f,o),i.current.lanes=o,ze(i,o),Wn(i),e[il]=i.current,Xh(e),new eu(i)},fr.version="19.0.0",fr}var p0;function cE(){if(p0)return af.exports;p0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),af.exports=uE(),af.exports}var hE=cE();const Be={ADD:"add",REMOVE:"remove"},ia={PROPERTYCHANGE:"propertychange"},yt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Mu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function fE(a,t,n){let s,r;n=n||wi;let u=0,c=a.length,h=!1;for(;u<c;)s=u+(c-u>>1),r=+n(a[s],t),r<0?u=s+1:(c=s,h=!r);return h?u:~u}function wi(a,t){return a>t?1:a<t?-1:0}function dE(a,t){return a<t?1:a>t?-1:0}function Vf(a,t,n){if(a[0]<=t)return 0;const s=a.length;if(t<=a[s-1])return s-1;if(typeof n=="function"){for(let r=1;r<s;++r){const u=a[r];if(u===t)return r;if(u<t)return n(t,a[r-1],u)>0?r-1:r}return s-1}if(n>0){for(let r=1;r<s;++r)if(a[r]<t)return r-1;return s-1}if(n<0){for(let r=1;r<s;++r)if(a[r]<=t)return r;return s-1}for(let r=1;r<s;++r){if(a[r]==t)return r;if(a[r]<t)return a[r-1]-t<t-a[r]?r-1:r}return s-1}function gE(a,t,n){for(;t<n;){const s=a[t];a[t]=a[n],a[n]=s,++t,--n}}function Ou(a,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let r=0;r<s;r++)a[a.length]=n[r]}function _s(a,t){const n=a.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(a[s]!==t[s])return!1;return!0}function _E(a,t,n){const s=t||wi;return a.every(function(r,u){if(u===0)return!0;const c=s(a[u-1],r);return!(c>0||c===0)})}function Cr(){return!0}function Du(){return!1}function sa(){}function Ay(a){let t,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==s||!_s(r,n))&&(s=this,n=r,t=a.apply(this,arguments)),t}}function mE(a){function t(){let n;try{n=a()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Ur(a){for(const t in a)delete a[t]}function la(a){let t;for(t in a)return!1;return!t}class Li{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Lu extends Mu{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),r=s[t]||(s[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,r=this.listeners_&&this.listeners_[s];if(!r)return;const u=n?new Li(t):t;u.target||(u.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let _=0,m=r.length;_<m;++_)if("handleEvent"in r[_]?d=r[_].handleEvent(u):d=r[_].call(this,u),d===!1||u.propagationStopped){d=!1;break}if(--c[s]===0){let _=h[s];for(delete h[s];_--;)this.removeEventListener(s,sa);delete c[s]}return d}disposeInternal(){this.listeners_&&Ur(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const r=s.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[r]=sa,++this.pendingRemovals_[t]):(s.splice(r,1),s.length===0&&delete this.listeners_[t]))}}function wt(a,t,n,s,r){if(r){const c=n;n=function(h){return a.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==a&&(n=n.bind(s));const u={target:a,type:t,listener:n};return a.addEventListener(t,n),u}function gu(a,t,n,s){return wt(a,t,n,s,!0)}function jt(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),Ur(a))}class Fr extends Lu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(yt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=wt(this,t[u],n);return r}return wt(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const r=t.length;s=new Array(r);for(let u=0;u<r;++u)s[u]=gu(this,t[u],n)}else s=gu(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)yE(s);else if(Array.isArray(t))for(let r=0,u=t.length;r<u;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}}Fr.prototype.on;Fr.prototype.once;Fr.prototype.un;function yE(a){if(Array.isArray(a))for(let t=0,n=a.length;t<n;++t)jt(a[t]);else jt(a)}function Dt(){throw new Error("Unimplemented abstract method.")}let pE=0;function It(a){return a.ol_uid||(a.ol_uid=String(++pE))}class v0 extends Li{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class Xn extends Fr{constructor(t){super(),this.on,this.once,this.un,It(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new v0(s,t,n)),s=ia.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new v0(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const r=this.values_||(this.values_={});if(s)r[t]=n;else{const u=r[t];r[t]=n,u!==n&&this.notify(t,u)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],la(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const E0={LENGTH:"length"};class iu extends Li{constructor(t,n,s){super(t),this.element=n,this.index=s}}class $n extends Xn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,r=this.array_.length;s<r;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(E0.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new iu(Be.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new iu(Be.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new iu(Be.REMOVE,r,t)),this.dispatchEvent(new iu(Be.ADD,n,t))}updateLength_(){this.set(E0.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,r=this.array_.length;s<r;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}class Pl extends Li{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class rs extends Pl{constructor(t,n,s,r,u,c){super(t,n,u),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Jt={SINGLECLICK:"singleclick",CLICK:yt.CLICK,DBLCLICK:yt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ds=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",vE=ds.includes("firefox"),EE=ds.includes("safari")&&!ds.includes("chrom");EE&&(ds.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ds));const SE=ds.includes("webkit")&&!ds.includes("edge"),wy=ds.includes("macintosh"),My=typeof devicePixelRatio<"u"?devicePixelRatio:1,Oy=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Dy=typeof Image<"u"&&Image.prototype.decode,Ly=function(){let a=!1;try{const t=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return a}(),Lf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class xE extends Lu{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=wt(s,Lf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=wt(s,Lf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(yt.TOUCHMOVE,this.boundHandleTouchMove_,Ly?{passive:!1}:!1)}emulateClick_(t){let n=new rs(Jt.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new rs(Jt.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new rs(Jt.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==Jt.POINTERUP||n.type==Jt.POINTERCANCEL){delete this.trackedTouches_[s];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Jt.POINTERDOWN||n.type==Jt.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new rs(Jt.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(jt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new rs(Jt.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(wt(s,Jt.POINTERMOVE,this.handlePointerMove_,this),wt(s,Jt.POINTERUP,this.handlePointerUp_,this),wt(this.element_,Jt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(wt(this.element_.getRootNode(),Jt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new rs(Jt.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new rs(Jt.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(jt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(yt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(jt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(jt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const bi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},we={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ct={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Lt(a,t){if(!a)throw new Error(t)}const _u=1/0;class TE{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ur(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(s);return delete this.queuedElements_[r],s}enqueue(t){Lt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=_u?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,r=n.length,u=n[t],c=s[t],h=t;for(;t<r>>1;){const d=this.getLeftChildIndex_(t),_=this.getRightChildIndex_(t),m=_<r&&s[_]<s[d]?_:d;n[t]=n[m],s[t]=s[m],t=m}n[t]=u,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,r=this.priorities_,u=s[n],c=r[n];for(;n>t;){const h=this.getParentIndex_(n);if(r[h]>c)s[n]=s[h],r[n]=r[h],n=h;else break}s[n]=u,r[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let r=0;const u=n.length;let c,h,d;for(h=0;h<u;++h)c=n[h],d=t(c),d==_u?delete this.queuedElements_[this.keyFunction_(c)]:(s[r]=d,n[r++]=c);n.length=r,s.length=r,this.heapify_()}}class RE extends TE{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(yt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===ct.LOADED||s===ct.ERROR||s===ct.EMPTY){s!==ct.ERROR&&n.removeEventListener(yt.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const r=this.dequeue()[0],u=r.getKey();r.getState()===ct.IDLE&&!(u in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[u]=!0,++this.tilesLoading_,++s,r.load())}}}function CE(a,t,n,s,r){if(!a||!(n in a.wantedTiles)||!a.wantedTiles[n][t.getKey()])return _u;const u=a.viewState.center,c=s[0]-u[0],h=s[1]-u[1];return 65536*Math.log(r)+Math.sqrt(c*c+h*h)/r}const Me={ANIMATING:0,INTERACTING:1},zn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function ie(a,t,n){return Math.min(Math.max(a,t),n)}function bE(a,t,n,s,r,u){const c=r-n,h=u-s;if(c!==0||h!==0){const d=((a-n)*c+(t-s)*h)/(c*c+h*h);d>1?(n=r,s=u):d>0&&(n+=c*d,s+=h*d)}return Jl(a,t,n,s)}function Jl(a,t,n,s){const r=n-a,u=s-t;return r*r+u*u}function AE(a){const t=a.length;for(let s=0;s<t;s++){let r=s,u=Math.abs(a[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(a[h][s]);d>u&&(u=d,r=h)}if(u===0)return null;const c=a[r];a[r]=a[s],a[s]=c;for(let h=s+1;h<t;h++){const d=-a[h][s]/a[s][s];for(let _=s;_<t+1;_++)s==_?a[h][_]=0:a[h][_]+=d*a[s][_]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=a[s][t]/a[s][s];for(let r=s-1;r>=0;r--)a[r][t]-=a[r][s]*n[s]}return n}function S0(a){return a*180/Math.PI}function hs(a){return a*Math.PI/180}function Ws(a,t){const n=a%t;return n*t<0?n+t:n}function ln(a,t,n){return a+n*(t-a)}function Wf(a,t){const n=Math.pow(10,t);return Math.round(a*n)/n}function su(a,t){return Math.floor(Wf(a,t))}function lu(a,t){return Math.ceil(Wf(a,t))}function zf(a,t,n){if(a>=t&&a<n)return a;const s=n-t;return((a-t)%s+s)%s+t}function x0(a,t,n){return function(s,r,u,c,h){if(!s)return;if(!r&&!t)return s;const d=t?0:u[0]*r,_=t?0:u[1]*r,m=h?h[0]:0,y=h?h[1]:0;let v=a[0]+d/2+m,S=a[2]-d/2+m,x=a[1]+_/2+y,b=a[3]-_/2+y;v>S&&(v=(S+v)/2,S=v),x>b&&(x=(b+x)/2,b=x);let T=ie(s[0],v,S),A=ie(s[1],x,b);if(c&&n&&r){const w=30*r;T+=-w*Math.log(1+Math.max(0,v-s[0])/w)+w*Math.log(1+Math.max(0,s[0]-S)/w),A+=-w*Math.log(1+Math.max(0,x-s[1])/w)+w*Math.log(1+Math.max(0,s[1]-b)/w)}return[T,A]}}function wE(a){return a}const de={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function T0(a){const t=Rn();for(let n=0,s=a.length;n<s;++n)Tr(t,a[n]);return t}function Qf(a,t,n){return n?(n[0]=a[0]-t,n[1]=a[1]-t,n[2]=a[2]+t,n[3]=a[3]+t,n):[a[0]-t,a[1]-t,a[2]+t,a[3]+t]}function zy(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a.slice()}function Jf(a,t,n){let s,r;return t<a[0]?s=a[0]-t:a[2]<t?s=t-a[2]:s=0,n<a[1]?r=a[1]-n:a[3]<n?r=n-a[3]:r=0,s*s+r*r}function aa(a,t){return Iy(a,t[0],t[1])}function Vl(a,t){return a[0]<=t[0]&&t[2]<=a[2]&&a[1]<=t[1]&&t[3]<=a[3]}function Iy(a,t,n){return a[0]<=t&&t<=a[2]&&a[1]<=n&&n<=a[3]}function If(a,t){const n=a[0],s=a[1],r=a[2],u=a[3],c=t[0],h=t[1];let d=de.UNKNOWN;return c<n?d=d|de.LEFT:c>r&&(d=d|de.RIGHT),h<s?d=d|de.BELOW:h>u&&(d=d|de.ABOVE),d===de.UNKNOWN&&(d=de.INTERSECTING),d}function Rn(){return[1/0,1/0,-1/0,-1/0]}function gs(a,t,n,s,r){return r?(r[0]=a,r[1]=t,r[2]=n,r[3]=s,r):[a,t,n,s]}function zu(a){return gs(1/0,1/0,-1/0,-1/0,a)}function Ny(a,t){const n=a[0],s=a[1];return gs(n,s,n,s,t)}function $f(a,t,n,s,r){const u=zu(r);return Gy(u,a,t,n,s)}function br(a,t){return a[0]==t[0]&&a[2]==t[2]&&a[1]==t[1]&&a[3]==t[3]}function ME(a,t){return t[0]<a[0]&&(a[0]=t[0]),t[2]>a[2]&&(a[2]=t[2]),t[1]<a[1]&&(a[1]=t[1]),t[3]>a[3]&&(a[3]=t[3]),a}function Tr(a,t){t[0]<a[0]&&(a[0]=t[0]),t[0]>a[2]&&(a[2]=t[0]),t[1]<a[1]&&(a[1]=t[1]),t[1]>a[3]&&(a[3]=t[1])}function Gy(a,t,n,s,r){for(;n<s;n+=r)OE(a,t[n],t[n+1]);return a}function OE(a,t,n){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],n),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],n)}function Uy(a,t){let n;return n=t(Iu(a)),n||(n=t(Nu(a)),n)||(n=t(Gu(a)),n)||(n=t(tl(a)),n)?n:!1}function Nf(a){let t=0;return Uu(a)||(t=Ut(a)*Ue(a)),t}function Iu(a){return[a[0],a[1]]}function Nu(a){return[a[2],a[1]]}function Js(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function DE(a,t){let n;if(t==="bottom-left")n=Iu(a);else if(t==="bottom-right")n=Nu(a);else if(t==="top-left")n=tl(a);else if(t==="top-right")n=Gu(a);else throw new Error("Invalid corner");return n}function Gf(a,t,n,s,r){const[u,c,h,d,_,m,y,v]=Fy(a,t,n,s);return gs(Math.min(u,h,_,y),Math.min(c,d,m,v),Math.max(u,h,_,y),Math.max(c,d,m,v),r)}function Fy(a,t,n,s){const r=t*s[0]/2,u=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),d=r*c,_=r*h,m=u*c,y=u*h,v=a[0],S=a[1];return[v-d+y,S-_-m,v-d-y,S-_+m,v+d-y,S+_+m,v+d+y,S+_-m,v-d+y,S-_-m]}function Ue(a){return a[3]-a[1]}function Qs(a,t,n){const s=n||Rn();return Pe(a,t)?(a[0]>t[0]?s[0]=a[0]:s[0]=t[0],a[1]>t[1]?s[1]=a[1]:s[1]=t[1],a[2]<t[2]?s[2]=a[2]:s[2]=t[2],a[3]<t[3]?s[3]=a[3]:s[3]=t[3]):zu(s),s}function tl(a){return[a[0],a[3]]}function Gu(a){return[a[2],a[3]]}function Ut(a){return a[2]-a[0]}function Pe(a,t){return a[0]<=t[2]&&a[2]>=t[0]&&a[1]<=t[3]&&a[3]>=t[1]}function Uu(a){return a[2]<a[0]||a[3]<a[1]}function LE(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a}function zE(a,t,n){let s=!1;const r=If(a,t),u=If(a,n);if(r===de.INTERSECTING||u===de.INTERSECTING)s=!0;else{const c=a[0],h=a[1],d=a[2],_=a[3],m=t[0],y=t[1],v=n[0],S=n[1],x=(S-y)/(v-m);let b,T;u&de.ABOVE&&!(r&de.ABOVE)&&(b=v-(S-_)/x,s=b>=c&&b<=d),!s&&u&de.RIGHT&&!(r&de.RIGHT)&&(T=S-(v-d)*x,s=T>=h&&T<=_),!s&&u&de.BELOW&&!(r&de.BELOW)&&(b=v-(S-h)/x,s=b>=c&&b<=d),!s&&u&de.LEFT&&!(r&de.LEFT)&&(T=S-(v-c)*x,s=T>=h&&T<=_)}return s}function Xy(a,t){const n=t.getExtent(),s=Js(a);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const r=Ut(n),c=Math.floor((s[0]-n[0])/r)*r;a[0]-=c,a[2]-=c}return a}function Yy(a,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[s[0],a[1],s[2],a[3]]];Xy(a,t);const r=Ut(s);if(Ut(a)>r&&!n)return[[s[0],a[1],s[2],a[3]]];if(a[0]<s[0])return[[a[0]+r,a[1],s[2],a[3]],[s[0],a[1],a[2],a[3]]];if(a[2]>s[2])return[[a[0],a[1],s[2],a[3]],[s[0],a[1],a[2]-r,a[3]]]}return[a]}function IE(a,t){return a[0]+=+t[0],a[1]+=+t[1],a}function mu(a,t){let n=!0;for(let s=a.length-1;s>=0;--s)if(a[s]!=t[s]){n=!1;break}return n}function td(a,t){const n=Math.cos(t),s=Math.sin(t),r=a[0]*n-a[1]*s,u=a[1]*n+a[0]*s;return a[0]=r,a[1]=u,a}function NE(a,t){return a[0]*=t,a[1]*=t,a}function ky(a,t){if(t.canWrapX()){const n=Ut(t.getExtent()),s=GE(a,t,n);s&&(a[0]-=s*n)}return a}function GE(a,t,n){const s=t.getExtent();let r=0;return t.canWrapX()&&(a[0]<s[0]||a[0]>s[2])&&(n=n||Ut(s),r=Math.floor((a[0]-s[0])/n)),r}function By(a){return Math.pow(a,3)}function fa(a){return 1-By(1-a)}function UE(a){return 3*a*a-2*a*a*a}function FE(a){return a}const XE=63710088e-1;function R0(a,t,n){n=n||XE;const s=hs(a[1]),r=hs(t[1]),u=(r-s)/2,c=hs(t[0]-a[0])/2,h=Math.sin(u)*Math.sin(u)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Hy(...a){console.warn(...a)}const ed={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class nd{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ed[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Xr=6378137,Wl=Math.PI*Xr,YE=[-Wl,-Wl,Wl,Wl],kE=[-180,-85,180,85],au=Xr*Math.log(Math.tan(Math.PI/2));class Fl extends nd{constructor(t){super({code:t,units:"m",extent:YE,global:!0,worldExtent:kE,getPointResolution:function(n,s){return n/Math.cosh(s[1]/Xr)}})}}const C0=[new Fl("EPSG:3857"),new Fl("EPSG:102100"),new Fl("EPSG:102113"),new Fl("EPSG:900913"),new Fl("http://www.opengis.net/def/crs/EPSG/0/3857"),new Fl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function BE(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s){t[u]=Wl*a[u]/180;let c=Xr*Math.log(Math.tan(Math.PI*(+a[u+1]+90)/360));c>au?c=au:c<-au&&(c=-au),t[u+1]=c}return t}function HE(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s)t[u]=180*a[u]/Wl,t[u+1]=360*Math.atan(Math.exp(a[u+1]/Xr))/Math.PI-90;return t}const ZE=6378137,b0=[-180,-90,180,90],PE=Math.PI*ZE/180;class Bs extends nd{constructor(t,n){super({code:t,units:"degrees",extent:b0,axisOrientation:n,global:!0,metersPerUnit:PE,worldExtent:b0})}}const A0=[new Bs("CRS:84"),new Bs("EPSG:4326","neu"),new Bs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Bs("urn:ogc:def:crs:OGC:2:84"),new Bs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Bs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Bs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Uf={};function jE(a){return Uf[a]||Uf[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function qE(a,t){Uf[a]=t}let $l={};function Ar(a,t,n){const s=a.getCode(),r=t.getCode();s in $l||($l[s]={}),$l[s][r]=n}function cf(a,t){return a in $l&&t in $l[a]?$l[a][t]:null}const yu=.9996,Tn=.00669438,Fu=Tn*Tn,Xu=Fu*Tn,Ps=Tn/(1-Tn),w0=Math.sqrt(1-Tn),ra=(1-w0)/(1+w0),Zy=ra*ra,id=Zy*ra,sd=id*ra,Py=sd*ra,jy=1-Tn/4-3*Fu/64-5*Xu/256,KE=3*Tn/8+3*Fu/32+45*Xu/1024,VE=15*Fu/256+45*Xu/1024,WE=35*Xu/3072,QE=3/2*ra-27/32*id+269/512*Py,JE=21/16*Zy-55/32*sd,$E=151/96*id-417/128*Py,tS=1097/512*sd,pu=6378137;function eS(a,t,n){const s=a-5e5,c=(n.north?t:t-1e7)/yu/(pu*jy),h=c+QE*Math.sin(2*c)+JE*Math.sin(4*c)+$E*Math.sin(6*c)+tS*Math.sin(8*c),d=Math.sin(h),_=d*d,m=Math.cos(h),y=d/m,v=y*y,S=v*v,x=1-Tn*_,b=Math.sqrt(1-Tn*_),T=pu/b,A=(1-Tn)/x,w=Ps*m**2,N=w*w,L=s/(T*yu),O=L*L,j=O*L,V=j*L,Z=V*L,U=Z*L,K=h-y/A*(O/2-V/24*(5+3*v+10*w-4*N-9*Ps))+U/720*(61+90*v+298*w+45*S-252*Ps-3*N);let it=(L-j/6*(1+2*v+w)+Z/120*(5-2*w+28*v-3*N+8*Ps+24*S))/m;return it=zf(it+hs(qy(n.number)),-Math.PI,Math.PI),[S0(it),S0(K)]}const M0=-80,O0=84,nS=-180,iS=180;function sS(a,t,n){a=zf(a,nS,iS),t<M0?t=M0:t>O0&&(t=O0);const s=hs(t),r=Math.sin(s),u=Math.cos(s),c=r/u,h=c*c,d=h*h,_=hs(a),m=qy(n.number),y=hs(m),v=pu/Math.sqrt(1-Tn*r**2),S=Ps*u**2,x=u*zf(_-y,-Math.PI,Math.PI),b=x*x,T=b*x,A=T*x,w=A*x,N=w*x,L=pu*(jy*s-KE*Math.sin(2*s)+VE*Math.sin(4*s)-WE*Math.sin(6*s)),O=yu*v*(x+T/6*(1-h+S)+w/120*(5-18*h+d+72*S-58*Ps))+5e5;let j=yu*(L+v*c*(b/2+A/24*(5-h+9*S+4*S**2)+N/720*(61-58*h+d+600*S-330*Ps)));return n.north||(j+=1e7),[O,j]}function qy(a){return(a-1)*6-180+3}const lS=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Ky(a){let t=0;for(const r of lS){const u=a.match(r);if(u){t=parseInt(u[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function D0(a,t){return function(n,s,r,u){const c=n.length;r=r>1?r:2,u=u??r,s||(r>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=u){const d=n[h],_=n[h+1],m=a(d,_,t);s[h]=m[0],s[h+1]=m[1]}return s}}function aS(a){return Ky(a)?new nd({code:a,units:"m"}):null}function rS(a){const t=Ky(a.getCode());return t?{forward:D0(sS,t),inverse:D0(eS,t)}:null}const oS=[rS],uS=[aS];let Ff=!0;function Vy(a){Ff=!1}function ld(a,t){if(t!==void 0){for(let n=0,s=a.length;n<s;++n)t[n]=a[n];t=t}else t=a.slice();return t}function Xf(a){qE(a.getCode(),a),Ar(a,a,ld)}function cS(a){a.forEach(Xf)}function Ke(a){if(typeof a!="string")return a;const t=jE(a);if(t)return t;for(const n of uS){const s=n(a);if(s)return s}return null}function L0(a,t,n,s){a=Ke(a);let r;const u=a.getPointResolutionFunc();if(u)r=u(t,n);else{const c=a.getUnits();if(c=="degrees"||s=="degrees")r=t;else{const h=rd(a,Ke("EPSG:4326"));if(!h&&c!=="degrees")r=t*a.getMetersPerUnit();else{let _=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];_=h(_,_,2);const m=R0(_.slice(0,2),_.slice(2,4)),y=R0(_.slice(4,6),_.slice(6,8));r=(m+y)/2}const d=a.getMetersPerUnit();d!==void 0&&(r/=d)}}return r}function z0(a){cS(a),a.forEach(function(t){a.forEach(function(n){t!==n&&Ar(t,n,ld)})})}function hS(a,t,n,s){a.forEach(function(r){t.forEach(function(u){Ar(r,u,n),Ar(u,r,s)})})}function ad(a,t){return a?typeof a=="string"?Ke(a):a:Ke(t)}function fS(a){return function(t,n,s,r){const u=t.length;s=s!==void 0?s:2,r=r??s,n=n!==void 0?n:new Array(u);for(let c=0;c<u;c+=r){const h=a(t.slice(c,c+s)),d=h.length;for(let _=0,m=r;_<m;++_)n[c+_]=_>=d?t[c+_]:h[_]}return n}}function I0(a,t){return Vy(),Yu(a,"EPSG:4326","EPSG:3857")}function dS(a,t){const n=Yu(a,"EPSG:3857","EPSG:4326"),s=n[0];return(s<-180||s>180)&&(n[0]=Ws(s+180,360)-180),n}function hf(a,t){if(a===t)return!0;const n=a.getUnits()===t.getUnits();return(a.getCode()===t.getCode()||rd(a,t)===ld)&&n}function rd(a,t){const n=a.getCode(),s=t.getCode();let r=cf(n,s);if(r)return r;let u=null,c=null;for(const d of oS)u||(u=d(a)),c||(c=d(t));if(!u&&!c)return null;const h="EPSG:4326";if(c)if(u)r=ff(u.inverse,c.forward);else{const d=cf(n,h);d&&(r=ff(d,c.forward))}else{const d=cf(h,s);d&&(r=ff(u.inverse,d))}return r&&(Xf(a),Xf(t),Ar(a,t,r)),r}function ff(a,t){return function(n,s,r,u){return s=a(n,s,r,u),t(s,s,r,u)}}function vu(a,t){const n=Ke(a),s=Ke(t);return rd(n,s)}function Yu(a,t,n){const s=vu(t,n);if(!s){const r=Ke(t).getCode(),u=Ke(n).getCode();throw new Error(`No transform available between ${r} and ${u}`)}return s(a,void 0,a.length)}function Yf(a,t){return a}function Ri(a,t){return Ff&&!mu(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(Ff=!1,Hy("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function Wy(a,t){return a}function us(a,t){return a}function gS(){z0(C0),z0(A0),hS(A0,C0,BE,HE)}gS();new Array(6);function Un(){return[1,0,0,1,0,0]}function _S(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function ge(a,t){const n=t[0],s=t[1];return t[0]=a[0]*n+a[2]*s+a[4],t[1]=a[1]*n+a[3]*s+a[5],t}function Di(a,t,n,s,r,u,c,h){const d=Math.sin(u),_=Math.cos(u);return a[0]=s*_,a[1]=r*d,a[2]=-s*d,a[3]=r*_,a[4]=c*s*_-h*s*d+t,a[5]=c*r*d+h*r*_+n,a}function Qy(a,t){const n=mS(t);Lt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],r=t[1],u=t[2],c=t[3],h=t[4],d=t[5];return a[0]=c/n,a[1]=-r/n,a[2]=-u/n,a[3]=s/n,a[4]=(u*d-c*h)/n,a[5]=-(s*d-r*h)/n,a}function mS(a){return a[0]*a[3]-a[1]*a[2]}const N0=[1e6,1e6,1e6,1e6,2,2];function yS(a){return"matrix("+a.map((n,s)=>Math.round(n*N0[s])/N0[s]).join(", ")+")"}function fs(a,t,n,s,r,u,c){u=u||[],c=c||2;let h=0;for(let d=t;d<n;d+=s){const _=a[d],m=a[d+1];u[h++]=r[0]*_+r[2]*m+r[4],u[h++]=r[1]*_+r[3]*m+r[5];for(let y=2;y<c;y++)u[h++]=a[d+y]}return u&&u.length!=h&&(u.length=h),u}function Jy(a,t,n,s,r,u,c){c=c||[];const h=Math.cos(r),d=Math.sin(r),_=u[0],m=u[1];let y=0;for(let v=t;v<n;v+=s){const S=a[v]-_,x=a[v+1]-m;c[y++]=_+S*h-x*d,c[y++]=m+S*d+x*h;for(let b=v+2;b<v+s;++b)c[y++]=a[b]}return c&&c.length!=y&&(c.length=y),c}function pS(a,t,n,s,r,u,c,h){h=h||[];const d=c[0],_=c[1];let m=0;for(let y=t;y<n;y+=s){const v=a[y]-d,S=a[y+1]-_;h[m++]=d+r*v,h[m++]=_+u*S;for(let x=y+2;x<y+s;++x)h[m++]=a[x]}return h&&h.length!=m&&(h.length=m),h}function vS(a,t,n,s,r,u,c){c=c||[];let h=0;for(let d=t;d<n;d+=s){c[h++]=a[d]+r,c[h++]=a[d+1]+u;for(let _=d+2;_<d+s;++_)c[h++]=a[_]}return c&&c.length!=h&&(c.length=h),c}const G0=Un(),ES=[NaN,NaN];class SS extends Xn{constructor(){super(),this.extent_=Rn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Ay((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(s),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Dt()}closestPointXY(t,n,s,r){return Dt()}containsXY(t,n){return this.closestPointXY(t,n,ES,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Dt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&zu(n),this.extentRevision_=this.getRevision()}return LE(this.extent_,t)}rotate(t,n){Dt()}scale(t,n,s){Dt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Dt()}getType(){return Dt()}applyTransform(t){Dt()}intersectsExtent(t){return Dt()}translate(t,n){Dt()}transform(t,n){const s=Ke(t),r=s.getUnits()=="tile-pixels"?function(u,c,h){const d=s.getExtent(),_=s.getWorldExtent(),m=Ue(_)/Ue(d);Di(G0,_[0],_[3],m,-m,0,0,0);const y=fs(u,0,u.length,h,G0,c),v=vu(s,n);return v?v(y,y,h):y}:vu(s,n);return this.applyTransform(r),this}}class ku extends SS{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return $f(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Dt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=U0(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Dt()}setLayout(t,n,s){let r;if(t)r=U0(t);else{for(let u=0;u<s;++u){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=xS(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();Jy(s,0,s.length,r,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=Js(this.getExtent()));const r=this.getFlatCoordinates();if(r){const u=this.getStride();pS(r,0,r.length,u,t,n,s,r),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();vS(s,0,s.length,r,t,n,s),this.changed()}}}function xS(a){let t;return a==2?t="XY":a==3?t="XYZ":a==4&&(t="XYZM"),t}function U0(a){let t;return a=="XY"?t=2:a=="XYZ"||a=="XYM"?t=3:a=="XYZM"&&(t=4),t}function TS(a,t,n){const s=a.getFlatCoordinates();if(!s)return null;const r=a.getStride();return fs(s,0,s.length,r,t,n)}function $y(a,t,n,s){let r=0;const u=a[n-s],c=a[n-s+1];let h=0,d=0;for(;t<n;t+=s){const _=a[t]-u,m=a[t+1]-c;r+=d*_-h*m,h=_,d=m}return r/2}function RS(a,t,n,s){let r=0;for(let u=0,c=n.length;u<c;++u){const h=n[u];r+=$y(a,t,h,s),t=h}return r}function F0(a,t,n,s,r,u,c){const h=a[t],d=a[t+1],_=a[n]-h,m=a[n+1]-d;let y;if(_===0&&m===0)y=t;else{const v=((r-h)*_+(u-d)*m)/(_*_+m*m);if(v>1)y=n;else if(v>0){for(let S=0;S<s;++S)c[S]=ln(a[t+S],a[n+S],v);c.length=s;return}else y=t}for(let v=0;v<s;++v)c[v]=a[y+v];c.length=s}function od(a,t,n,s,r){let u=a[t],c=a[t+1];for(t+=s;t<n;t+=s){const h=a[t],d=a[t+1],_=Jl(u,c,h,d);_>r&&(r=_),u=h,c=d}return r}function CS(a,t,n,s,r){for(let u=0,c=n.length;u<c;++u){const h=n[u];r=od(a,t,h,s,r),t=h}return r}function ud(a,t,n,s,r,u,c,h,d,_,m){if(t==n)return _;let y,v;if(r===0){if(v=Jl(c,h,a[t],a[t+1]),v<_){for(y=0;y<s;++y)d[y]=a[t+y];return d.length=s,v}return _}m=m||[NaN,NaN];let S=t+s;for(;S<n;)if(F0(a,S-s,S,s,c,h,m),v=Jl(c,h,m[0],m[1]),v<_){for(_=v,y=0;y<s;++y)d[y]=m[y];d.length=s,S+=s}else S+=s*Math.max((Math.sqrt(v)-Math.sqrt(_))/r|0,1);if(u&&(F0(a,n-s,t,s,c,h,m),v=Jl(c,h,m[0],m[1]),v<_)){for(_=v,y=0;y<s;++y)d[y]=m[y];d.length=s}return _}function bS(a,t,n,s,r,u,c,h,d,_,m){m=m||[NaN,NaN];for(let y=0,v=n.length;y<v;++y){const S=n[y];_=ud(a,t,S,s,r,u,c,h,d,_,m),t=S}return _}function AS(a,t,n,s){for(let r=0,u=n.length;r<u;++r)a[t++]=n[r];return t}function cd(a,t,n,s){for(let r=0,u=n.length;r<u;++r){const c=n[r];for(let h=0;h<s;++h)a[t++]=c[h]}return t}function wS(a,t,n,s,r){r=r||[];let u=0;for(let c=0,h=n.length;c<h;++c){const d=cd(a,t,n[c],s);r[u++]=d,t=d}return r.length=u,r}function js(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=t;c<n;c+=s)r[u++]=a.slice(c,c+s);return r.length=u,r}function Eu(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[u++]=js(a,t,d,s,r[u]),t=d}return r.length=u,r}function X0(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[u++]=d.length===1&&d[0]===t?[]:Eu(a,t,d,s,r[u]),t=d[d.length-1]}return r.length=u,r}function Bu(a,t,n,s,r,u,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)u[c++]=a[t],u[c++]=a[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const _=[t,n-s];let m=0;for(;_.length>0;){const y=_.pop(),v=_.pop();let S=0;const x=a[v],b=a[v+1],T=a[y],A=a[y+1];for(let w=v+s;w<y;w+=s){const N=a[w],L=a[w+1],O=bE(N,L,x,b,T,A);O>S&&(m=w,S=O)}S>r&&(d[(m-t)/s]=1,v+s<m&&_.push(v,m),m+s<y&&_.push(m,y))}for(let y=0;y<h;++y)d[y]&&(u[c++]=a[t+y*s],u[c++]=a[t+y*s+1]);return c}function MS(a,t,n,s,r,u,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=Bu(a,t,m,s,r,u,c),h.push(c),t=m}return c}function Zs(a,t){return t*Math.round(a/t)}function OS(a,t,n,s,r,u,c){if(t==n)return c;let h=Zs(a[t],r),d=Zs(a[t+1],r);t+=s,u[c++]=h,u[c++]=d;let _,m;do if(_=Zs(a[t],r),m=Zs(a[t+1],r),t+=s,t==n)return u[c++]=_,u[c++]=m,c;while(_==h&&m==d);for(;t<n;){const y=Zs(a[t],r),v=Zs(a[t+1],r);if(t+=s,y==_&&v==m)continue;const S=_-h,x=m-d,b=y-h,T=v-d;if(S*T==x*b&&(S<0&&b<S||S==b||S>0&&b>S)&&(x<0&&T<x||x==T||x>0&&T>x)){_=y,m=v;continue}u[c++]=_,u[c++]=m,h=_,d=m,_=y,m=v}return u[c++]=_,u[c++]=m,c}function tp(a,t,n,s,r,u,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=OS(a,t,m,s,r,u,c),h.push(c),t=m}return c}class wr extends ku{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new wr(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,r){return r<Jf(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(od(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ud(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,r))}getArea(){return $y(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return js(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=Bu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new wr(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cd(this.flatCoordinates,0,t,this.stride),this.changed()}}class ta extends ku{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new ta(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){const u=this.flatCoordinates,c=Jl(t,n,u[0],u[1]);if(c<r){const h=this.stride;for(let d=0;d<h;++d)s[d]=u[d];return s.length=h,c}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Ny(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Iy(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=AS(this.flatCoordinates,0,t,this.stride),this.changed()}}function DS(a,t,n,s,r){return!Uy(r,function(c){return!qs(a,t,n,s,c[0],c[1])})}function qs(a,t,n,s,r,u){let c=0,h=a[n-s],d=a[n-s+1];for(;t<n;t+=s){const _=a[t],m=a[t+1];d<=u?m>u&&(_-h)*(u-d)-(r-h)*(m-d)>0&&c++:m<=u&&(_-h)*(u-d)-(r-h)*(m-d)<0&&c--,h=_,d=m}return c!==0}function ep(a,t,n,s,r,u){if(n.length===0||!qs(a,t,n[0],s,r,u))return!1;for(let c=1,h=n.length;c<h;++c)if(qs(a,n[c-1],n[c],s,r,u))return!1;return!0}function hd(a,t,n,s,r,u,c){let h,d,_,m,y,v,S;const x=r[u+1],b=[];for(let w=0,N=n.length;w<N;++w){const L=n[w];for(m=a[L-s],v=a[L-s+1],h=t;h<L;h+=s)y=a[h],S=a[h+1],(x<=v&&S<=x||v<=x&&x<=S)&&(_=(x-v)/(S-v)*(y-m)+m,b.push(_)),m=y,v=S}let T=NaN,A=-1/0;for(b.sort(wi),m=b[0],h=1,d=b.length;h<d;++h){y=b[h];const w=Math.abs(y-m);w>A&&(_=(m+y)/2,ep(a,t,n,s,_,x)&&(T=_,A=w)),m=y}return isNaN(T)&&(T=r[u]),c?(c.push(T,x,A),c):[T,x,A]}function LS(a,t,n,s,r){let u=[];for(let c=0,h=n.length;c<h;++c){const d=n[c];u=hd(a,t,d,s,r,2*c,u),t=d[d.length-1]}return u}function np(a,t,n,s,r){let u;for(t+=s;t<n;t+=s)if(u=r(a.slice(t-s,t),a.slice(t,t+s)),u)return u;return!1}function fd(a,t,n,s,r,u){return u=u??Gy(Rn(),a,t,n,s),Pe(r,u)?u[0]>=r[0]&&u[2]<=r[2]||u[1]>=r[1]&&u[3]<=r[3]?!0:np(a,t,n,s,function(c,h){return zE(r,c,h)}):!1}function ip(a,t,n,s,r){return!!(fd(a,t,n,s,r)||qs(a,t,n,s,r[0],r[1])||qs(a,t,n,s,r[0],r[3])||qs(a,t,n,s,r[2],r[1])||qs(a,t,n,s,r[2],r[3]))}function zS(a,t,n,s,r){if(!ip(a,t,n[0],s,r))return!1;if(n.length===1)return!0;for(let u=1,c=n.length;u<c;++u)if(DS(a,n[u-1],n[u],s,r)&&!fd(a,n[u-1],n[u],s,r))return!1;return!0}function IS(a,t,n,s){for(;t<n-s;){for(let r=0;r<s;++r){const u=a[t+r];a[t+r]=a[n-s+r],a[n-s+r]=u}t+=s,n-=s}}function dd(a,t,n,s){let r=0,u=a[n-s],c=a[n-s+1];for(;t<n;t+=s){const h=a[t],d=a[t+1];r+=(h-u)*(d+c),u=h,c=d}return r===0?void 0:r>0}function NS(a,t,n,s,r){r=r!==void 0?r:!1;for(let u=0,c=n.length;u<c;++u){const h=n[u],d=dd(a,t,h,s);if(u===0){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;t=h}return!0}function Y0(a,t,n,s,r){r=r!==void 0?r:!1;for(let u=0,c=n.length;u<c;++u){const h=n[u],d=dd(a,t,h,s);(u===0?r&&d||!r&&!d:r&&!d||!r&&d)&&IS(a,t,h,s),t=h}return t}function GS(a,t){const n=[];let s=0,r=0,u;for(let c=0,h=t.length;c<h;++c){const d=t[c],_=dd(a,s,d,2);if(u===void 0&&(u=_),_===u)n.push(t.slice(r,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=c+1,s=d}return n}class Mr extends ku{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Ou(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Mr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<Jf(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(CS(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bS(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,r))}containsXY(t,n){return ep(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return RS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Y0(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Eu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Js(this.getExtent());this.flatInteriorPoint_=hd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ta(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new wr(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,r=[];let u=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],_=new wr(n.slice(u,d),t);r.push(_),u=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;NS(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Y0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=tp(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Mr(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return zS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=wS(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function k0(a){if(Uu(a))throw new Error("Cannot create polygon from empty extent");const t=a[0],n=a[1],s=a[2],r=a[3],u=[t,n,t,r,s,r,s,n,t,n];return new Mr(u,"XY",[u.length])}function gd(a,t,n,s){const r=Ut(t)/n[0],u=Ue(t)/n[1];return s?Math.min(a,Math.max(r,u)):Math.min(a,Math.min(r,u))}function _d(a,t,n){let s=Math.min(a,t);const r=50;return s*=Math.log(1+r*Math.max(0,a/t-1))/r+1,n&&(s=Math.max(s,n),s/=Math.log(1+r*Math.max(0,n/a-1))/r+1),ie(s,n/2,t*2)}function US(a,t,n,s){return t=t!==void 0?t:!0,function(r,u,c,h){if(r!==void 0){const d=a[0],_=a[a.length-1],m=n?gd(d,n,c,s):d;if(h)return t?_d(r,m,_):ie(r,_,m);const y=Math.min(m,r),v=Math.floor(Vf(a,y,u));return a[v]>m&&v<a.length-1?a[v+1]:a[v]}}}function FS(a,t,n,s,r,u){return s=s!==void 0?s:!0,n=n!==void 0?n:0,function(c,h,d,_){if(c!==void 0){const m=r?gd(t,r,d,u):t;if(_)return s?_d(c,m,n):ie(c,n,m);const y=1e-9,v=Math.ceil(Math.log(t/m)/Math.log(a)-y),S=-h*(.5-y)+.5,x=Math.min(m,c),b=Math.floor(Math.log(t/x)/Math.log(a)+S),T=Math.max(v,b),A=t/Math.pow(a,T);return ie(A,n,m)}}}function B0(a,t,n,s,r){return n=n!==void 0?n:!0,function(u,c,h,d){if(u!==void 0){const _=s?gd(a,s,h,r):a;return!n||!d?ie(u,t,_):_d(u,_,t)}}}function md(a){if(a!==void 0)return 0}function H0(a){if(a!==void 0)return a}function XS(a){const t=2*Math.PI/a;return function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function YS(a){const t=hs(5);return function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n}}const kS=42,yd=256,df=0;class Qn extends Xn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=ad(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Vy(),t.center&&(t.center=Ri(t.center,this.projection_)),t.extent&&(t.extent=us(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in zn)delete n[h];this.setProperties(n,!0);const s=HS(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const r=BS(t),u=s.constraint,c=ZS(t);this.constraints_={center:r,resolution:u,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const r=t||[0,0,0,0];n=n||[0,0,0,0];const u=this.getResolution(),c=u/2*(r[3]-n[3]+n[1]-r[1]),h=u/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let r=arguments[s];r.center&&(r=Object.assign({},r),r.center=Ri(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Ri(r.anchor,this.getProjection())),n[s]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(r===n){s&&ru(s,!0);return}let u=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const _=[];for(;r<n;++r){const m=arguments[r],y={start:u,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||UE,callback:s};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(m.zoom),h=y.targetResolution):m.resolution&&(y.sourceResolution=h,y.targetResolution=m.resolution,h=y.targetResolution),m.rotation!==void 0){y.sourceRotation=d;const v=Ws(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=d+v,d=y.targetRotation}PS(y)?y.complete=!0:u+=y.duration,_.push(y)}this.animations_.push(_),this.setHint(Me.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Me.ANIMATING]>0}getInteracting(){return this.hints_[Me.INTERACTING]>0}cancelAnimations(){this.setHint(Me.ANIMATING,-this.hints_[Me.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const r=this.animations_[n];if(r[0].callback&&ru(r[0].callback,!1),!t)for(let u=0,c=r.length;u<c;++u){const h=r[u];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const r=this.animations_[s];let u=!0;for(let c=0,h=r.length;c<h;++c){const d=r[c];if(d.complete)continue;const _=t-d.start;let m=d.duration>0?_/d.duration:1;m>=1?(d.complete=!0,m=1):u=!1;const y=d.easing(m);if(d.sourceCenter){const v=d.sourceCenter[0],S=d.sourceCenter[1],x=d.targetCenter[0],b=d.targetCenter[1];this.nextCenter_=d.targetCenter;const T=v+y*(x-v),A=S+y*(b-S);this.targetCenter_=[T,A]}if(d.sourceResolution&&d.targetResolution){const v=y===1?d.targetResolution:d.sourceResolution+y*(d.targetResolution-d.sourceResolution);if(d.anchor){const S=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(v,0,S,!0);this.targetCenter_=this.calculateCenterZoom(x,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const v=y===1?Ws(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+y*(d.targetRotation-d.sourceRotation);if(d.anchor){const S=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(S,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(u){this.animations_[s]=null,this.setHint(Me.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=r[0].callback;c&&ru(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const r=this.getCenterInternal();return r!==void 0&&(s=[r[0]-n[0],r[1]-n[1]],td(s,t-this.getRotation()),IE(s,n)),s}calculateCenterZoom(t,n){let s;const r=this.getCenterInternal(),u=this.getResolution();if(r!==void 0&&u!==void 0){const c=n[0]-t*(n[0]-r[0])/u,h=n[1]-t*(n[1]-r[1])/u;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],r=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Yf(t,this.getProjection())}getCenterInternal(){return this.get(zn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return Wy(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Lt(n,"The view center is not defined");const s=this.getResolution();Lt(s!==void 0,"The view resolution is not defined");const r=this.getRotation();return Lt(r!==void 0,"The view rotation is not defined"),Gf(n,s,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(zn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(us(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Ut(t)/n[0],r=Ue(t)/n[1];return Math.max(s,r)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/Math.log(t);return function(u){return n/Math.pow(t,u*r)}}getRotation(){return this.get(zn.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,u=Math.log(s/r)/n;return function(c){return Math.log(s/c)/n/u}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let r=this.getCenterInternal();const u=this.padding_;if(u){const c=this.getViewportSizeMinusPadding_();r=gf(r,this.getViewportSize_(),[c[0]/2+u[3],c[1]/2+u[0]],n,s)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,r;if(this.resolutions_){const u=Vf(this.resolutions_,t,1);n=u,s=this.resolutions_[u],u==this.resolutions_.length-1?r=2:r=s/this.resolutions_[u+1]}else s=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(s/t)/Math.log(r)}getResolutionForZoom(t){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const s=ie(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[s]/this.resolutions_[s+1];return this.resolutions_[s]/Math.pow(r,ie(t-s,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(Lt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Lt(!Uu(t),"Cannot fit empty extent provided as `geometry`");const r=us(t,this.getProjection());s=k0(r)}else if(t.getType()==="Circle"){const r=us(t.getExtent(),this.getProjection());s=k0(r),s.rotate(this.getRotation(),Js(r))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),r=Math.sin(-n),u=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,_=-1/0,m=-1/0;for(let y=0,v=u.length;y<v;y+=c){const S=u[y]*s-u[y+1]*r,x=u[y]*r+u[y+1]*s;h=Math.min(h,S),d=Math.min(d,x),_=Math.max(_,S),m=Math.max(m,x)}return[h,d,_,m]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],u=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-r[1]-r[3],s[1]-r[0]-r[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,u?0:1);const _=this.getRotation(),m=Math.sin(_),y=Math.cos(_),v=Js(h);v[0]+=(r[1]-r[3])/2*d,v[1]+=(r[0]-r[2])/2*d;const S=v[0]*y-v[1]*m,x=v[1]*y+v[0]*m,b=this.getConstrainedCenter([S,x],d),T=n.callback?n.callback:sa;n.duration!==void 0?this.animateInternal({resolution:d,center:b,duration:n.duration,easing:n.easing},T):(this.targetResolution_=d,this.targetCenter_=b,this.applyTargetState_(!1,!0),ru(T,!0))}centerOn(t,n,s){this.centerOnInternal(Ri(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(gf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,r){let u;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=gf(t,r,[h[0]/2+c[3],h[1]/2+c[0]],n,s);u=[t[0]-d[0],t[1]-d[1]]}return u}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=Yf(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Ri(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),u=this.constraints_.resolution(this.targetResolution_*t,0,r,s);n&&(this.targetCenter_=this.calculateCenterZoom(u,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Ri(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Ri(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,s),u=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,0,u,s),h=this.constraints_.center(this.targetCenter_,c,u,s,this.calculateCenterShift(this.targetCenter_,c,r,u));this.get(zn.ROTATION)!==r&&this.set(zn.ROTATION,r),this.get(zn.RESOLUTION)!==c&&(this.set(zn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(zn.CENTER)||!mu(this.get(zn.CENTER),h))&&this.set(zn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const r=n||0,u=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(u),h=this.constraints_.resolution(this.targetResolution_,r,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,u,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=u,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==u||!this.getCenterInternal()||!mu(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:u,center:d,resolution:h,duration:t,easing:fa,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Me.INTERACTING,1)}endInteraction(t,n,s){s=s&&Ri(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(Me.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function ru(a,t){setTimeout(function(){a(t)},0)}function BS(a){if(a.extent!==void 0){const n=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return x0(a.extent,a.constrainOnlyCenter,n)}const t=ad(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,x0(n,!1,!1)}return wE}function HS(a){let t,n,s,c=a.minZoom!==void 0?a.minZoom:df,h=a.maxZoom!==void 0?a.maxZoom:28;const d=a.zoomFactor!==void 0?a.zoomFactor:2,_=a.multiWorld!==void 0?a.multiWorld:!1,m=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,y=a.showFullExtent!==void 0?a.showFullExtent:!1,v=ad(a.projection,"EPSG:3857"),S=v.getExtent();let x=a.constrainOnlyCenter,b=a.extent;if(!_&&!b&&v.isGlobal()&&(x=!1,b=S),a.resolutions!==void 0){const T=a.resolutions;n=T[c],s=T[h]!==void 0?T[h]:T[T.length-1],a.constrainResolution?t=US(T,m,!x&&b,y):t=B0(n,s,m,!x&&b,y)}else{const A=(S?Math.max(Ut(S),Ue(S)):360*ed.degrees/v.getMetersPerUnit())/yd/Math.pow(2,df),w=A/Math.pow(2,28-df);n=a.maxResolution,n!==void 0?c=0:n=A/Math.pow(d,c),s=a.minResolution,s===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?s=n/Math.pow(d,h):s=A/Math.pow(d,h):s=w),h=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,h-c),a.constrainResolution?t=FS(d,n,s,m,!x&&b,y):t=B0(n,s,m,!x&&b,y)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function ZS(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const n=a.constrainRotation;return n===void 0||n===!0?YS():n===!1?H0:typeof n=="number"?XS(n):H0}return md}function PS(a){return!(a.sourceCenter&&a.targetCenter&&!mu(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function gf(a,t,n,s,r){const u=Math.cos(-r);let c=Math.sin(-r),h=a[0]*u-a[1]*c,d=a[1]*u+a[0]*c;h+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const _=h*u-d*c,m=d*u+h*c;return[_,m]}const ou="ol-hidden",jS="ol-selectable",Hu="ol-unselectable",pd="ol-control",Z0="ol-collapsed",qS=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),P0=["style","variant","weight","size","lineHeight","family"],sp=function(a){const t=a.match(qS);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let s=0,r=P0.length;s<r;++s){const u=t[s+1];u!==void 0&&(n[P0[s]]=u)}return n.families=n.family.split(/,\s?/),n};function _e(a,t,n,s){let r;return n&&n.length?r=n.shift():Oy?r=new OffscreenCanvas(a||300,t||300):r=document.createElement("canvas"),a&&(r.width=a),t&&(r.height=t),r.getContext("2d",s)}let _f;function Su(){return _f||(_f=_e(1,1)),_f}function Zu(a){const t=a.canvas;t.width=1,t.height=1,a.clearRect(0,0,1,1)}function KS(a){let t=a.offsetWidth;const n=getComputedStyle(a);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function VS(a){let t=a.offsetHeight;const n=getComputedStyle(a);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function j0(a,t){const n=t.parentNode;n&&n.replaceChild(a,t)}function lp(a){for(;a.lastChild;)a.lastChild.remove()}function WS(a,t){const n=a.childNodes;for(let s=0;;++s){const r=n[s],u=t[s];if(!r&&!u)break;if(r!==u){if(!r){a.appendChild(u);continue}if(!u){a.removeChild(r),--s;continue}a.insertBefore(u,r)}}}class vd extends Xn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var n;this.map_&&((n=this.element)==null||n.remove());for(let s=0,r=this.listenerKeys.length;s<r;++s)jt(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=t,t){const s=this.target_??t.getOverlayContainerStopEvent();this.element&&s.appendChild(this.element),this.render!==sa&&this.listenerKeys.push(wt(t,bi.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class QS extends vd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",u=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof u=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=u,this.collapseLabel_.className=c):this.collapseLabel_=u;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(yt.CLICK,this.handleClick_.bind(this),!1);const _=n+" "+Hu+" "+pd+(this.collapsed_&&this.collapsible_?" "+Z0:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=_,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>s.add(r)):s.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(u=>{var c;return((c=u.getSource())==null?void 0:c.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(r=>mE(()=>r))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!_s(n,this.renderedAttributions_)){lp(this.ulElement_);for(let r=0,u=n.length;r<u;++r){const c=document.createElement("li");c.innerHTML=n[r],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Z0),this.collapsed_?j0(this.collapseLabel_,this.label_):j0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class JS extends vd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(r));const u=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=u,c.appendChild(this.label_),c.addEventListener(yt.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+Hu+" "+pd,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ou)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:fa}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const r="rotate("+s+"rad)";if(this.autoHide_){const u=this.element.classList.contains(ou);!u&&s===0?this.element.classList.add(ou):u&&s!==0&&this.element.classList.remove(ou)}this.label_.style.transform=r}this.rotation_=s}}class $S extends vd{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",u=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",_=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=d,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(yt.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=u,y.setAttribute("type","button"),y.title=_,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(yt.CLICK,this.handleClick_.bind(this,-s),!1);const v=n+" "+Hu+" "+pd,S=this.element;S.className=v,S.appendChild(m),S.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const r=s.getZoom();if(r!==void 0){const u=s.getConstrainedZoom(r+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:u,duration:this.duration_,easing:fa})):s.setZoom(u)}}}function tx(a){a=a||{};const t=new $n;return(a.zoom!==void 0?a.zoom:!0)&&t.push(new $S(a.zoomOptions)),(a.rotate!==void 0?a.rotate:!0)&&t.push(new JS(a.rotateOptions)),(a.attribution!==void 0?a.attribution:!0)&&t.push(new QS(a.attributionOptions)),t}class ex{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const r=this.points_[n+2]-this.points_[s+2];if(r<1e3/60)return!1;const u=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,u),this.initialVelocity_=Math.sqrt(u*u+c*c)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const q0={ACTIVE:"active"};class Yr extends Xn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(q0.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(q0.ACTIVE,t)}setMap(t){this.map_=t}}function nx(a,t,n){const s=a.getCenterInternal();if(s){const r=[s[0]+t[0],s[1]+t[1]];a.animateInternal({duration:n!==void 0?n:250,easing:FE,center:a.getConstrainedCenter(r)})}}function Ed(a,t,n,s){const r=a.getZoom();if(r===void 0)return;const u=a.getConstrainedZoom(r+t),c=a.getResolutionForZoom(u);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:fa})}class ix extends Yr{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==Jt.DBLCLICK){const s=t.originalEvent,r=t.map,u=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=r.getView();Ed(h,c,u,this.duration_),s.preventDefault(),n=!0}return!n}}function kf(a){const t=arguments;return function(n){let s=!0;for(let r=0,u=t.length;r<u&&(s=s&&t[r](n),!!s);++r);return s}}const sx=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},lx=function(a){const t=a.map.getTargetElement(),n=t.getRootNode(),s=a.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},ap=function(a){const t=a.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?lx(a):!0},ax=Cr,rp=function(a){const t=a.originalEvent;return t.button==0&&!(SE&&wy&&t.ctrlKey)},op=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},rx=function(a){const t=a.originalEvent;return wy?t.metaKey:t.ctrlKey},ox=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},up=function(a){const t=a.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},mf=function(a){const t=a.originalEvent;return Lt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},ux=function(a){const t=a.originalEvent;return Lt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};class kr extends Yr{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Jt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Jt.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==Jt.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==Jt.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Sd(a){const t=a.length;let n=0,s=0;for(let r=0;r<t;r++)n+=a[r].clientX,s+=a[r].clientY;return{clientX:n/t,clientY:s/t}}class cx extends kr{constructor(t){super({stopDown:Du}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:kf(op,ux);this.condition_=t.onFocusOnly?kf(ap,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,r=n.getEventPixel(Sd(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const u=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=t.map.getView();NE(u,h.getResolution()),td(u,h.getRotation()),h.adjustCenterInternal(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),u=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([h[0]-r*Math.cos(u),h[1]-r*Math.sin(u)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:fa})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class hx extends kr{constructor(t){t=t||{},super({stopDown:Du}),this.condition_=t.condition?t.condition:sx,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!mf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===md)return;const r=n.getSize(),u=t.pixel,c=Math.atan2(r[1]/2-u[1],u[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return mf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return mf(t)&&rp(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class fx extends Mu{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+s,r.top=Math.min(t[1],n[1])+s,r.width=Math.abs(n[0]-t[0])+s,r.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Mr([r])}getGeometry(){return this.geometry_}}const Xl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class dr extends Li{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class dx extends kr{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new fx(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??rp,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const r=s[0]-n[0],u=s[1]-n[1];return r*r+u*u>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new dr(Xl.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new dr(n?Xl.BOXEND:Xl.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new dr(Xl.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new dr(Xl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new dr(Xl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class gx extends dx{constructor(t){t=t||{};const n=t.condition?t.condition:ox;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let r=this.getGeometry();if(this.out_){const u=s.rotatedExtentForGeometry(r),c=s.getResolutionForExtentInternal(u),h=s.getResolution()/c;r=r.clone(),r.scale(h*h)}s.fitInternal(r,{duration:this.duration_,easing:fa})}}const Hs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class _x extends Yr{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return op(n)&&up(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==yt.KEYDOWN){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==Hs.DOWN||r==Hs.LEFT||r==Hs.RIGHT||r==Hs.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,_=0;r==Hs.DOWN?_=-h:r==Hs.LEFT?d=-h:r==Hs.RIGHT?d=h:_=h;const m=[d,_];td(m,c.getRotation()),nx(c,m,this.duration_),s.preventDefault(),n=!0}}return!n}}class mx extends Yr{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!rx(n)&&up(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==yt.KEYDOWN||t.type==yt.KEYPRESS){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==="+"||r==="-")){const u=t.map,c=r==="+"?this.delta_:-this.delta_,h=u.getView();Ed(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}class yx extends Yr{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:ax;this.condition_=t.onFocusOnly?kf(ap,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==yt.WHEEL)return!0;const s=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let u;if(t.type==yt.WHEEL&&(u=r.deltaY,vE&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(u/=My),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(u*=40)),u===0)return!1;this.lastDelta_=u;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(u)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-u/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=u;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-ie(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),Ed(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class px extends kr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Du),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],r=this.targetPointers[1],u=Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=u-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=u;const c=t.map,h=c.getView();h.getConstraints().rotation!==md&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Sd(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class vx extends kr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Du),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],r=this.targetPointers[1],u=s.clientX-r.clientX,c=s.clientY-r.clientY,h=Math.sqrt(u*u+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,_=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Sd(this.targetPointers))),d.render(),_.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Ex(a){a=a||{};const t=new $n,n=new ex(-.005,.05,100);return(a.altShiftDragRotate!==void 0?a.altShiftDragRotate:!0)&&t.push(new hx),(a.doubleClickZoom!==void 0?a.doubleClickZoom:!0)&&t.push(new ix({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan!==void 0?a.dragPan:!0)&&t.push(new cx({onFocusOnly:a.onFocusOnly,kinetic:n})),(a.pinchRotate!==void 0?a.pinchRotate:!0)&&t.push(new px),(a.pinchZoom!==void 0?a.pinchZoom:!0)&&t.push(new vx({duration:a.zoomDuration})),(a.keyboard!==void 0?a.keyboard:!0)&&(t.push(new _x),t.push(new mx({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom!==void 0?a.mouseWheelZoom:!0)&&t.push(new yx({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom!==void 0?a.shiftDragZoom:!0)&&t.push(new gx({duration:a.zoomDuration})),t}const Gt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class cp extends Xn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Gt.OPACITY]=t.opacity!==void 0?t.opacity:1,Lt(typeof n[Gt.OPACITY]=="number","Layer opacity must be a number"),n[Gt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Gt.Z_INDEX]=t.zIndex,n[Gt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Gt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Gt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Gt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=ie(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Dt()}getLayerStatesArray(t){return Dt()}getExtent(){return this.get(Gt.EXTENT)}getMaxResolution(){return this.get(Gt.MAX_RESOLUTION)}getMinResolution(){return this.get(Gt.MIN_RESOLUTION)}getMinZoom(){return this.get(Gt.MIN_ZOOM)}getMaxZoom(){return this.get(Gt.MAX_ZOOM)}getOpacity(){return this.get(Gt.OPACITY)}getSourceState(){return Dt()}getVisible(){return this.get(Gt.VISIBLE)}getZIndex(){return this.get(Gt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Gt.EXTENT,t)}setMaxResolution(t){this.set(Gt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Gt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Gt.MAX_ZOOM,t)}setMinZoom(t){this.set(Gt.MIN_ZOOM,t)}setOpacity(t){Lt(typeof t=="number","Layer opacity must be a number"),this.set(Gt.OPACITY,t)}setVisible(t){this.set(Gt.VISIBLE,t)}setZIndex(t){this.set(Gt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class os extends Li{constructor(t,n){super(t),this.layer=n}}const yf={LAYERS:"layers"};class da extends cp{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(yf.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new $n(s.slice(),{unique:!0}):Lt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new $n(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(jt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(wt(t,Be.ADD,this.handleLayersAdd_,this),wt(t,Be.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(jt);Ur(this.listenerKeys_);const n=t.getArray();for(let s=0,r=n.length;s<r;s++){const u=n[s];this.registerLayerListeners_(u),this.dispatchEvent(new os("addlayer",u))}this.changed()}registerLayerListeners_(t){const n=[wt(t,ia.PROPERTYCHANGE,this.handleLayerChange_,this),wt(t,yt.CHANGE,this.handleLayerChange_,this)];t instanceof da&&n.push(wt(t,"addlayer",this.handleLayerGroupAdd_,this),wt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[It(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new os("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new os("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new os("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=It(n);this.listenerKeys_[s].forEach(jt),delete this.listenerKeys_[s],this.dispatchEvent(new os("removelayer",n)),this.changed()}getLayers(){return this.get(yf.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let r=0,u=s.length;r<u;++r)this.dispatchEvent(new os("removelayer",s[r]))}this.set(yf.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const r=this.getLayerState();let u=r.zIndex;!t&&r.zIndex===void 0&&(u=0);for(let c=s,h=n.length;c<h;c++){const d=n[c];d.opacity*=r.opacity,d.visible=d.visible&&r.visible,d.maxResolution=Math.min(d.maxResolution,r.maxResolution),d.minResolution=Math.max(d.minResolution,r.minResolution),d.minZoom=Math.max(d.minZoom,r.minZoom),d.maxZoom=Math.min(d.maxZoom,r.maxZoom),r.extent!==void 0&&(d.extent!==void 0?d.extent=Qs(d.extent,r.extent):d.extent=r.extent),d.zIndex===void 0&&(d.zIndex=u)}return n}getSourceState(){return"ready"}}const Sn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Pu extends cp{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Gt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Gt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(jt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=wt(t,yt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof Qn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(c=>c.layer===this),!r)return!1}else r=this.getLayerState();const u=this.getExtent();return xd(r,n.viewState)&&(!u||Pe(u,n.extent))}getAttributions(t){var u;if(!this.isVisible(t))return[];const n=(u=this.getSource())==null?void 0:u.getAttributions();if(!n)return[];const s=t instanceof Qn?t.getViewStateAndExtent():t;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Gt.MAP,t)}getMapInternal(){return this.get(Gt.MAP)}setMap(t){this.mapPrecomposeKey_&&(jt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(jt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=wt(t,Sn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=wt(this,yt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);Lt(!n.some(r=>r.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Gt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function xd(a,t){if(!a.visible)return!1;const n=t.resolution;if(n<a.minResolution||n>=a.maxResolution)return!1;const s=t.zoom;return s>a.minZoom&&s<=a.maxZoom}function hp(a,t,n=0,s=a.length-1,r=Sx){for(;s>n;){if(s-n>600){const d=s-n+1,_=t-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*y*(d-y)/d)*(_-d/2<0?-1:1),S=Math.max(n,Math.floor(t-_*y/d+v)),x=Math.min(s,Math.floor(t+(d-_)*y/d+v));hp(a,t,S,x,r)}const u=a[t];let c=n,h=s;for(gr(a,n,t),r(a[s],u)>0&&gr(a,n,s);c<h;){for(gr(a,c,h),c++,h--;r(a[c],u)<0;)c++;for(;r(a[h],u)>0;)h--}r(a[n],u)===0?gr(a,n,h):(h++,gr(a,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function gr(a,t,n){const s=a[t];a[t]=a[n],a[n]=s}function Sx(a,t){return a<t?-1:a>t?1:0}let fp=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!cu(t,n))return s;const r=this.toBBox,u=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],d=n.leaf?r(h):h;cu(t,d)&&(n.leaf?s.push(h):vf(t,d)?this._all(h,s):u.push(h))}n=u.pop()}return s}collides(t){let n=this.data;if(!cu(t,n))return!1;const s=[];for(;n;){for(let r=0;r<n.children.length;r++){const u=n.children[r],c=n.leaf?this.toBBox(u):u;if(cu(t,c)){if(n.leaf||vf(t,c))return!0;s.push(u)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=jl([]),this}remove(t,n){if(!t)return this;let s=this.data;const r=this.toBBox(t),u=[],c=[];let h,d,_;for(;s||u.length;){if(s||(s=u.pop(),d=u[u.length-1],h=c.pop(),_=!0),s.leaf){const m=xx(t,s.children,n);if(m!==-1)return s.children.splice(m,1),u.push(s),this._condense(u),this}!_&&!s.leaf&&vf(s,r)?(u.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],_=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,r){const u=s-n+1;let c=this._maxEntries,h;if(u<=c)return h=jl(t.slice(n,s+1)),Yl(h,this.toBBox),h;r||(r=Math.ceil(Math.log(u)/Math.log(c)),c=Math.ceil(u/Math.pow(c,r-1))),h=jl([]),h.leaf=!1,h.height=r;const d=Math.ceil(u/c),_=d*Math.ceil(Math.sqrt(c));K0(t,n,s,_,this.compareMinX);for(let m=n;m<=s;m+=_){const y=Math.min(m+_-1,s);K0(t,m,y,d,this.compareMinY);for(let v=m;v<=y;v+=d){const S=Math.min(v+d-1,y);h.children.push(this._build(t,v,S,r-1))}}return Yl(h,this.toBBox),h}_chooseSubtree(t,n,s,r){for(;r.push(n),!(n.leaf||r.length-1===s);){let u=1/0,c=1/0,h;for(let d=0;d<n.children.length;d++){const _=n.children[d],m=pf(_),y=Cx(t,_)-m;y<c?(c=y,u=m<u?m:u,h=_):y===c&&m<u&&(u=m,h=_)}n=h||n.children[0]}return n}_insert(t,n,s){const r=s?t:this.toBBox(t),u=[],c=this._chooseSubtree(r,this.data,n,u);for(c.children.push(t),pr(c,r);n>=0&&u[n].children.length>this._maxEntries;)this._split(u,n),n--;this._adjustParentBBoxes(r,u,n)}_split(t,n){const s=t[n],r=s.children.length,u=this._minEntries;this._chooseSplitAxis(s,u,r);const c=this._chooseSplitIndex(s,u,r),h=jl(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,Yl(s,this.toBBox),Yl(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=jl([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Yl(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let r,u=1/0,c=1/0;for(let h=n;h<=s-n;h++){const d=yr(t,0,h,this.toBBox),_=yr(t,h,s,this.toBBox),m=bx(d,_),y=pf(d)+pf(_);m<u?(u=m,r=h,c=y<c?y:c):m===u&&y<c&&(c=y,r=h)}return r||s-n}_chooseSplitAxis(t,n,s){const r=t.leaf?this.compareMinX:Tx,u=t.leaf?this.compareMinY:Rx,c=this._allDistMargin(t,n,s,r),h=this._allDistMargin(t,n,s,u);c<h&&t.children.sort(r)}_allDistMargin(t,n,s,r){t.children.sort(r);const u=this.toBBox,c=yr(t,0,n,u),h=yr(t,s-n,s,u);let d=uu(c)+uu(h);for(let _=n;_<s-n;_++){const m=t.children[_];pr(c,t.leaf?u(m):m),d+=uu(c)}for(let _=s-n-1;_>=n;_--){const m=t.children[_];pr(h,t.leaf?u(m):m),d+=uu(h)}return d}_adjustParentBBoxes(t,n,s){for(let r=s;r>=0;r--)pr(n[r],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():Yl(t[n],this.toBBox)}};function xx(a,t,n){if(!n)return t.indexOf(a);for(let s=0;s<t.length;s++)if(n(a,t[s]))return s;return-1}function Yl(a,t){yr(a,0,a.children.length,t,a)}function yr(a,t,n,s,r){r||(r=jl(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let u=t;u<n;u++){const c=a.children[u];pr(r,a.leaf?s(c):c)}return r}function pr(a,t){return a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY),a}function Tx(a,t){return a.minX-t.minX}function Rx(a,t){return a.minY-t.minY}function pf(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function uu(a){return a.maxX-a.minX+(a.maxY-a.minY)}function Cx(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function bx(a,t){const n=Math.max(a.minX,t.minX),s=Math.max(a.minY,t.minY),r=Math.min(a.maxX,t.maxX),u=Math.min(a.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,u-s)}function vf(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function cu(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function jl(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function K0(a,t,n,s,r){const u=[t,n];for(;u.length;){if(n=u.pop(),t=u.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;hp(a,c,t,n,r),u.push(t,c,c,n)}}const V0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var W0={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Ax(a){var m,y;var t,n=[],s=1,r;if(typeof a=="number")return{space:"rgb",values:[a>>>16,(a&65280)>>>8,a&255],alpha:1};if(typeof a=="number")return{space:"rgb",values:[a>>>16,(a&65280)>>>8,a&255],alpha:1};if(a=String(a).toLowerCase(),V0[a])n=V0[a].slice(),r="rgb";else if(a==="transparent")s=0,r="rgb",n=[0,0,0];else if(a[0]==="#"){var u=a.slice(1),c=u.length,h=c<=4;s=1,h?(n=[parseInt(u[0]+u[0],16),parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16)],c===4&&(s=parseInt(u[3]+u[3],16)/255)):(n=[parseInt(u[0]+u[1],16),parseInt(u[2]+u[3],16),parseInt(u[4]+u[5],16)],c===8&&(s=parseInt(u[6]+u[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(a)){var d=t[1];r=d.replace(/a$/,"");var _=r==="cmyk"?4:r==="gray"?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=n.shift()),n=n.map(function(v,S){if(v[v.length-1]==="%")return v=parseFloat(v)/100,S===3?v:r==="rgb"?v*255:r[0]==="h"||r[0]==="l"&&!S?v*100:r==="lab"?v*125:r==="lch"?S<2?v*150:v*360:r[0]==="o"&&!S?v:r==="oklab"?v*.4:r==="oklch"?S<2?v*.4:v*360:v;if(r[S]==="h"||S===2&&r[r.length-1]==="h"){if(W0[v]!==void 0)return W0[v];if(v.endsWith("deg"))return parseFloat(v);if(v.endsWith("turn"))return parseFloat(v)*360;if(v.endsWith("grad"))return parseFloat(v)*360/400;if(v.endsWith("rad"))return parseFloat(v)*180/Math.PI}return v==="none"?0:parseFloat(v)}),s=n.length>_?n.pop():1}else/[0-9](?:\s|\/|,)/.test(a)&&(n=a.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),r=((y=(m=a.match(/([a-z])/ig))==null?void 0:m.join(""))==null?void 0:y.toLowerCase())||"rgb");return{space:r,values:n,alpha:s}}const Or={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Ef={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(a){var t=a[0]/360,n=a[1]/100,s=a[2]/100,r,u,c,h,d,_=0;if(n===0)return d=s*255,[d,d,d];for(u=s<.5?s*(1+n):s+n-s*n,r=2*s-u,h=[0,0,0];_<3;)c=t+1/3*-(_-1),c<0?c++:c>1&&c--,d=6*c<1?r+(u-r)*6*c:2*c<1?u:3*c<2?r+(u-r)*(2/3-c)*6:r,h[_++]=d*255;return h}};Or.hsl=function(a){var t=a[0]/255,n=a[1]/255,s=a[2]/255,r=Math.min(t,n,s),u=Math.max(t,n,s),c=u-r,h,d,_;return u===r?h=0:t===u?h=(n-s)/c:n===u?h=2+(s-t)/c:s===u&&(h=4+(t-n)/c),h=Math.min(h*60,360),h<0&&(h+=360),_=(r+u)/2,u===r?d=0:_<=.5?d=c/(u+r):d=c/(2-u-r),[h,d*100,_*100]};function wx(a){Array.isArray(a)&&a.raw&&(a=String.raw(...arguments)),a instanceof Number&&(a=+a);var t,n=Ax(a);if(!n.space)return[];const s=n.space[0]==="h"?Ef.min:Or.min,r=n.space[0]==="h"?Ef.max:Or.max;return t=Array(3),t[0]=Math.min(Math.max(n.values[0],s[0]),r[0]),t[1]=Math.min(Math.max(n.values[1],s[1]),r[1]),t[2]=Math.min(Math.max(n.values[2],s[2]),r[2]),n.space[0]==="h"&&(t=Ef.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}const Oe={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Oe.max=Oe.whitepoint[2].D65;Oe.rgb=function(a,t){t=t||Oe.whitepoint[2].E;var n=a[0]/t[0],s=a[1]/t[1],r=a[2]/t[2],u,c,h;return u=n*3.240969941904521+s*-1.537383177570093+r*-.498610760293,c=n*-.96924363628087+s*1.87596750150772+r*.041555057407175,h=n*.055630079696993+s*-.20397695888897+r*1.056971514242878,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u=u*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,u=Math.min(Math.max(0,u),1),c=Math.min(Math.max(0,c),1),h=Math.min(Math.max(0,h),1),[u*255,c*255,h*255]};Or.xyz=function(a,t){var n=a[0]/255,s=a[1]/255,r=a[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var u=n*.41239079926595+s*.35758433938387+r*.18048078840183,c=n*.21263900587151+s*.71516867876775+r*.072192315360733,h=n*.019330818715591+s*.11919477979462+r*.95053215224966;return t=t||Oe.whitepoint[2].E,[u*t[0],c*t[1],h*t[2]]};var Td={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(a,t,n){var s,r,u,c,h,d,_,m,y,v,S,x,b;if(u=a[0],c=a[1],h=a[2],u===0)return[0,0,0];var T=.0011070564598794539;return t=t||"D65",n=n||2,y=Oe.whitepoint[n][t][0],v=Oe.whitepoint[n][t][1],S=Oe.whitepoint[n][t][2],x=4*y/(y+15*v+3*S),b=9*v/(y+15*v+3*S),s=c/(13*u)+x||0,r=h/(13*u)+b||0,_=u>8?v*Math.pow((u+16)/116,3):v*u*T,d=_*9*s/(4*r)||0,m=_*(12-3*s-20*r)/(4*r)||0,[d,_,m]}};Oe.luv=function(a,t,n){var s,r,u,c,h,d,_,m,y,v,S,x,b,T=.008856451679035631,A=903.2962962962961;t=t||"D65",n=n||2,y=Oe.whitepoint[n][t][0],v=Oe.whitepoint[n][t][1],S=Oe.whitepoint[n][t][2],x=4*y/(y+15*v+3*S),b=9*v/(y+15*v+3*S),d=a[0],_=a[1],m=a[2],s=4*d/(d+15*_+3*m)||0,r=9*_/(d+15*_+3*m)||0;var w=_/v;return u=w<=T?A*w:116*Math.pow(w,1/3)-16,c=13*u*(s-x),h=13*u*(r-b),[u,c,h]};var dp={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(a){var t=a[0],n=a[1],s=a[2],r,u,c;return c=s/360*2*Math.PI,r=n*Math.cos(c),u=n*Math.sin(c),[t,r,u]},xyz:function(a){return Td.xyz(dp.luv(a))}};Td.lchuv=function(a){var t=a[0],n=a[1],s=a[2],r=Math.sqrt(n*n+s*s),u=Math.atan2(s,n),c=u*360/2/Math.PI;return c<0&&(c+=360),[t,r,c]};Oe.lchuv=function(a){return Td.lchuv(Oe.luv(a))};const Rd=[NaN,NaN,NaN,0];function Mx(a){return typeof a=="string"?a:bd(a)}const Ox=1024,_r={};let Sf=0;function Dx(a){if(a.length===4)return a;const t=a.slice();return t[3]=1,t}function Q0(a){const t=Oe.lchuv(Or.xyz(a));return t[3]=a[3],t}function Lx(a){const t=Oe.rgb(dp.xyz(a));return t[3]=a[3],t}function Cd(a){if(a==="none")return Rd;if(_r.hasOwnProperty(a))return _r[a];if(Sf>=Ox){let n=0;for(const s in _r)n++&3||(delete _r[s],--Sf)}const t=wx(a);if(t.length!==4)throw new Error('failed to parse "'+a+'" as color');for(const n of t)if(isNaN(n))throw new Error('failed to parse "'+a+'" as color');return gp(t),_r[a]=t,++Sf,t}function oa(a){return Array.isArray(a)?a:Cd(a)}function gp(a){return a[0]=ie(a[0]+.5|0,0,255),a[1]=ie(a[1]+.5|0,0,255),a[2]=ie(a[2]+.5|0,0,255),a[3]=ie(a[3],0,1),a}function bd(a){let t=a[0];t!=(t|0)&&(t=t+.5|0);let n=a[1];n!=(n|0)&&(n=n+.5|0);let s=a[2];s!=(s|0)&&(s=s+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+r+")"}function J0(a){return a[0]>0&&a[1]>0}function zx(a,t,n){return n===void 0&&(n=[0,0]),n[0]=a[0]*t+.5|0,n[1]=a[1]*t+.5|0,n}function qe(a,t){return Array.isArray(a)?a:(t===void 0?t=[a,a]:(t[0]=a,t[1]=a),t)}let el=0;const Ge=1<<el++,bt=1<<el++,He=1<<el++,Gn=1<<el++,$s=1<<el++,vr=1<<el++,hu=Math.pow(2,el)-1,Ad={[Ge]:"boolean",[bt]:"number",[He]:"string",[Gn]:"color",[$s]:"number[]",[vr]:"size"},Ix=Object.keys(Ad).map(Number).sort(wi);function Nx(a){return a in Ad}function Er(a){const t=[];for(const n of Ix)Sr(a,n)&&t.push(Ad[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Sr(a,t){return(a&t)===t}function ns(a,t){return a===t}class ae{constructor(t,n){if(!Nx(t))throw new Error(`literal expressions must have a specific type, got ${Er(t)}`);this.type=t,this.value=n}}class Gx{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function _p(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Ee(a,t,n){switch(typeof a){case"boolean":{if(ns(t,He))return new ae(He,a?"true":"false");if(!Sr(t,Ge))throw new Error(`got a boolean, but expected ${Er(t)}`);return new ae(Ge,a)}case"number":{if(ns(t,vr))return new ae(vr,qe(a));if(ns(t,Ge))return new ae(Ge,!!a);if(ns(t,He))return new ae(He,a.toString());if(!Sr(t,bt))throw new Error(`got a number, but expected ${Er(t)}`);return new ae(bt,a)}case"string":{if(ns(t,Gn))return new ae(Gn,Cd(a));if(ns(t,Ge))return new ae(Ge,!!a);if(!Sr(t,He))throw new Error(`got a string, but expected ${Er(t)}`);return new ae(He,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return qx(a,t,n);for(const s of a)if(typeof s!="number")throw new Error("expected an array of numbers");if(ns(t,vr)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new ae(vr,a)}if(ns(t,Gn)){if(a.length===3)return new ae(Gn,[...a,1]);if(a.length===4)return new ae(Gn,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!Sr(t,$s))throw new Error(`got an array of numbers, but expected ${Er(t)}`);return new ae($s,a)}const H={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},Ux={[H.Get]:gt(Et(1,1/0),$0),[H.Var]:gt(Et(1,1),Fx),[H.Has]:gt(Et(1,1/0),$0),[H.Id]:gt(Xx,kl),[H.Concat]:gt(Et(2,1/0),zt(He)),[H.GeometryType]:gt(Yx,kl),[H.LineMetric]:gt(kl),[H.Resolution]:gt(xf,kl),[H.Zoom]:gt(xf,kl),[H.Time]:gt(xf,kl),[H.Any]:gt(Et(2,1/0),zt(Ge)),[H.All]:gt(Et(2,1/0),zt(Ge)),[H.Not]:gt(Et(1,1),zt(Ge)),[H.Equal]:gt(Et(2,2),zt(hu)),[H.NotEqual]:gt(Et(2,2),zt(hu)),[H.GreaterThan]:gt(Et(2,2),zt(bt)),[H.GreaterThanOrEqualTo]:gt(Et(2,2),zt(bt)),[H.LessThan]:gt(Et(2,2),zt(bt)),[H.LessThanOrEqualTo]:gt(Et(2,2),zt(bt)),[H.Multiply]:gt(Et(2,1/0),ty),[H.Coalesce]:gt(Et(2,1/0),ty),[H.Divide]:gt(Et(2,2),zt(bt)),[H.Add]:gt(Et(2,1/0),zt(bt)),[H.Subtract]:gt(Et(2,2),zt(bt)),[H.Clamp]:gt(Et(3,3),zt(bt)),[H.Mod]:gt(Et(2,2),zt(bt)),[H.Pow]:gt(Et(2,2),zt(bt)),[H.Abs]:gt(Et(1,1),zt(bt)),[H.Floor]:gt(Et(1,1),zt(bt)),[H.Ceil]:gt(Et(1,1),zt(bt)),[H.Round]:gt(Et(1,1),zt(bt)),[H.Sin]:gt(Et(1,1),zt(bt)),[H.Cos]:gt(Et(1,1),zt(bt)),[H.Atan]:gt(Et(1,2),zt(bt)),[H.Sqrt]:gt(Et(1,1),zt(bt)),[H.Match]:gt(Et(4,1/0),ey,Bx),[H.Between]:gt(Et(3,3),zt(bt)),[H.Interpolate]:gt(Et(6,1/0),ey,Hx),[H.Case]:gt(Et(3,1/0),kx,Zx),[H.In]:gt(Et(2,2),Px),[H.Number]:gt(Et(1,1/0),zt(hu)),[H.String]:gt(Et(1,1/0),zt(hu)),[H.Array]:gt(Et(1,1/0),zt(bt)),[H.Color]:gt(Et(1,4),zt(bt)),[H.Band]:gt(Et(1,3),zt(bt)),[H.Palette]:gt(Et(2,2),jx),[H.ToString]:gt(Et(1,1),zt(Ge|bt|He|Gn))};function $0(a,t,n){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=a[u+1];switch(typeof c){case"number":{r[u]=new ae(bt,c);break}case"string":{r[u]=new ae(He,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}u===0&&n.properties.add(String(c))}return r}function Fx(a,t,n){const s=a[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new ae(He,s)]}function Xx(a,t,n){n.featureId=!0}function Yx(a,t,n){n.geometryType=!0}function xf(a,t,n){n.mapState=!0}function kl(a,t,n){const s=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function Et(a,t){return function(n,s,r){const u=n[0],c=n.length-1;if(a===t){if(c!==a){const h=a===1?"":"s";throw new Error(`expected ${a} argument${h} for ${u}, got ${c}`)}}else if(c<a||c>t){const h=t===1/0?`${a} or more`:`${a} to ${t}`;throw new Error(`expected ${h} arguments for ${u}, got ${c}`)}}}function ty(a,t,n){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=Ee(a[u+1],t,n);r[u]=c}return r}function zt(a){return function(t,n,s){const r=t.length-1,u=new Array(r);for(let c=0;c<r;++c){const h=Ee(t[c+1],a,s);u[c]=h}return u}}function kx(a,t,n){const s=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${r} instead`)}function ey(a,t,n){const s=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${r} instead`)}function Bx(a,t,n){const s=a.length-1,r=He|bt|Ge,u=Ee(a[1],r,n),c=Ee(a[a.length-1],t,n),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const _=Ee(a[d+2],u.type,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+1} of match expression: ${_.message}`)}try{const _=Ee(a[d+3],c.type,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+2} of match expression: ${_.message}`)}}return[u,...h,c]}function Hx(a,t,n){const s=a[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);r=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const u=new ae(bt,r);let c;try{c=Ee(a[2],bt,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(a.length-3);for(let d=0;d<h.length;d+=2){try{const _=Ee(a[d+3],bt,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${_.message}`)}try{const _=Ee(a[d+4],t,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${_.message}`)}}return[u,c,...h]}function Zx(a,t,n){const s=Ee(a[a.length-1],t,n),r=new Array(a.length-1);for(let u=0;u<r.length-1;u+=2){try{const c=Ee(a[u+1],Ge,n);r[u]=c}catch(c){throw new Error(`failed to parse argument ${u} of case expression: ${c.message}`)}try{const c=Ee(a[u+2],s.type,n);r[u+1]=c}catch(c){throw new Error(`failed to parse argument ${u+1} of case expression: ${c.message}`)}}return r[r.length-1]=s,r}function Px(a,t,n){let s=a[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],r=He}else r=bt;const u=new Array(s.length);for(let h=0;h<u.length;h++)try{const d=Ee(s[h],r,n);u[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[Ee(a[1],r,n),...u]}function jx(a,t,n){let s;try{s=Ee(a[1],bt,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const u=new Array(r.length);for(let c=0;c<u.length;c++){let h;try{h=Ee(r[c],Gn,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof ae))throw new Error(`the palette color at index ${c} must be a literal value`);u[c]=h}return[s,...u]}function gt(...a){return function(t,n,s){const r=t[0];let u;for(let c=0;c<a.length;c++){const h=a[c](t,n,s);if(c==a.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");u=h}}return new Gx(n,r,...u)}}function qx(a,t,n){const s=a[0],r=Ux[s];if(!r)throw new Error(`unknown operator: ${s}`);return r(a,t,n)}function mp(a){if(!a)return"";const t=a.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return mp(a.getGeometries()[0]);default:return""}}function yp(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function zi(a,t,n){const s=Ee(a,t,n);return Fn(s)}function Fn(a,t){if(a instanceof ae){if(a.type===Gn&&typeof a.value=="string"){const s=Cd(a.value);return function(){return s}}return function(){return a.value}}const n=a.operator;switch(n){case H.Number:case H.String:case H.Coalesce:return Kx(a);case H.Get:case H.Var:case H.Has:return Vx(a);case H.Id:return s=>s.featureId;case H.GeometryType:return s=>s.geometryType;case H.Concat:{const s=a.args.map(r=>Fn(r));return r=>"".concat(...s.map(u=>u(r).toString()))}case H.Resolution:return s=>s.resolution;case H.Any:case H.All:case H.Between:case H.In:case H.Not:return Qx(a);case H.Equal:case H.NotEqual:case H.LessThan:case H.LessThanOrEqualTo:case H.GreaterThan:case H.GreaterThanOrEqualTo:return Wx(a);case H.Multiply:case H.Divide:case H.Add:case H.Subtract:case H.Clamp:case H.Mod:case H.Pow:case H.Abs:case H.Floor:case H.Ceil:case H.Round:case H.Sin:case H.Cos:case H.Atan:case H.Sqrt:return Jx(a);case H.Case:return $x(a);case H.Match:return t2(a);case H.Interpolate:return e2(a);case H.ToString:return n2(a);default:throw new Error(`Unsupported operator ${n}`)}}function Kx(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Fn(a.args[u]);switch(n){case H.Coalesce:return u=>{for(let c=0;c<s;++c){const h=r[c](u);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case H.Number:case H.String:return u=>{for(let c=0;c<s;++c){const h=r[c](u);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function Vx(a,t){const s=a.args[0].value;switch(a.operator){case H.Get:return r=>{const u=a.args;let c=r.properties[s];for(let h=1,d=u.length;h<d;++h){const m=u[h].value;c=c[m]}return c};case H.Var:return r=>r.variables[s];case H.Has:return r=>{const u=a.args;if(!(s in r.properties))return!1;let c=r.properties[s];for(let h=1,d=u.length;h<d;++h){const m=u[h].value;if(!c||!Object.hasOwn(c,m))return!1;c=c[m]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function Wx(a,t){const n=a.operator,s=Fn(a.args[0]),r=Fn(a.args[1]);switch(n){case H.Equal:return u=>s(u)===r(u);case H.NotEqual:return u=>s(u)!==r(u);case H.LessThan:return u=>s(u)<r(u);case H.LessThanOrEqualTo:return u=>s(u)<=r(u);case H.GreaterThan:return u=>s(u)>r(u);case H.GreaterThanOrEqualTo:return u=>s(u)>=r(u);default:throw new Error(`Unsupported comparison operator ${n}`)}}function Qx(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Fn(a.args[u]);switch(n){case H.Any:return u=>{for(let c=0;c<s;++c)if(r[c](u))return!0;return!1};case H.All:return u=>{for(let c=0;c<s;++c)if(!r[c](u))return!1;return!0};case H.Between:return u=>{const c=r[0](u),h=r[1](u),d=r[2](u);return c>=h&&c<=d};case H.In:return u=>{const c=r[0](u);for(let h=1;h<s;++h)if(c===r[h](u))return!0;return!1};case H.Not:return u=>!r[0](u);default:throw new Error(`Unsupported logical operator ${n}`)}}function Jx(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Fn(a.args[u]);switch(n){case H.Multiply:return u=>{let c=1;for(let h=0;h<s;++h)c*=r[h](u);return c};case H.Divide:return u=>r[0](u)/r[1](u);case H.Add:return u=>{let c=0;for(let h=0;h<s;++h)c+=r[h](u);return c};case H.Subtract:return u=>r[0](u)-r[1](u);case H.Clamp:return u=>{const c=r[0](u),h=r[1](u);if(c<h)return h;const d=r[2](u);return c>d?d:c};case H.Mod:return u=>r[0](u)%r[1](u);case H.Pow:return u=>Math.pow(r[0](u),r[1](u));case H.Abs:return u=>Math.abs(r[0](u));case H.Floor:return u=>Math.floor(r[0](u));case H.Ceil:return u=>Math.ceil(r[0](u));case H.Round:return u=>Math.round(r[0](u));case H.Sin:return u=>Math.sin(r[0](u));case H.Cos:return u=>Math.cos(r[0](u));case H.Atan:return s===2?u=>Math.atan2(r[0](u),r[1](u)):u=>Math.atan(r[0](u));case H.Sqrt:return u=>Math.sqrt(r[0](u));default:throw new Error(`Unsupported numeric operator ${n}`)}}function $x(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Fn(a.args[r]);return r=>{for(let u=0;u<n-1;u+=2)if(s[u](r))return s[u+1](r);return s[n-1](r)}}function t2(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Fn(a.args[r]);return r=>{const u=s[0](r);for(let c=1;c<n;c+=2)if(u===s[c](r))return s[c+1](r);return s[n-1](r)}}function e2(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Fn(a.args[r]);return r=>{const u=s[0](r),c=s[1](r);let h,d;for(let _=2;_<n;_+=2){const m=s[_](r);let y=s[_+1](r);const v=Array.isArray(y);if(v&&(y=Dx(y)),m>=c)return _===2?y:v?i2(u,c,h,d,m,y):xr(u,c,h,d,m,y);h=m,d=y}return d}}function n2(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Fn(a.args[u]);switch(n){case H.ToString:return u=>{const c=r[0](u);return a.args[0].type===Gn?bd(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function xr(a,t,n,s,r,u){const c=r-n;if(c===0)return s;const h=t-n,d=a===1?h/c:(Math.pow(a,h)-1)/(Math.pow(a,c)-1);return s+d*(u-s)}function i2(a,t,n,s,r,u){if(r-n===0)return s;const h=Q0(s),d=Q0(u);let _=d[2]-h[2];_>180?_-=360:_<-180&&(_+=360);const m=[xr(a,t,n,h[0],r,d[0]),xr(a,t,n,h[1],r,d[1]),h[2]+xr(a,t,n,0,r,_),xr(a,t,n,s[3],r,u[3])];return gp(Lx(m))}const St={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function s2(a,t,n){const s=a;let r=!0,u=!1,c=!1;const h=[gu(s,yt.LOAD,function(){c=!0,u||t()})];return s.src&&Dy?(u=!0,s.decode().then(function(){r&&t()}).catch(function(d){r&&(c?t():n())})):h.push(gu(s,yt.ERROR,n)),function(){r=!1,h.forEach(jt)}}function l2(a,t){return new Promise((n,s)=>{function r(){c(),n(a)}function u(){c(),s(new Error("Image load error"))}function c(){a.removeEventListener("load",r),a.removeEventListener("error",u)}a.addEventListener("load",r),a.addEventListener("error",u)})}function a2(a,t){return t&&(a.src=t),a.src&&Dy?new Promise((n,s)=>a.decode().then(()=>n(a)).catch(r=>a.complete&&a.width?n(a):s(r))):l2(a)}class r2{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];!(t++&3)&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const r=Tf(t,n,s);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,s){const r=Tf(t,n,s);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,s,r,u){const c=Tf(t,n,s),h=c in this.cache_;this.cache_[c]=r,u&&(r.getImageState()===St.IDLE&&r.load(),r.getImageState()===St.LOADING?r.ready().then(()=>{this.patternCache_[c]=Su().createPattern(r.getImage(1),"repeat")}):this.patternCache_[c]=Su().createPattern(r.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Tf(a,t,n){const s=n?oa(n):"null";return t+":"+a+":"+s}const xn=new r2;let mr=null;class pp extends Lu{constructor(t,n,s,r,u){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=u,this.imageState_=r===void 0?St.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===St.LOADED){mr||(mr=_e(1,1,void 0,{willReadFrequently:!0})),mr.drawImage(this.image_,0,0);try{mr.getImageData(0,0,1,1),this.tainted_=!1}catch{mr=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(yt.CHANGE)}handleImageError_(){this.imageState_=St.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=St.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=_e(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===St.IDLE){this.image_||this.initializeImage_(),this.imageState_=St.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&a2(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==St.LOADED)return;const n=this.image_,s=_e(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=Mx(this.color_),s.fillRect(0,0,r.width/t,r.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===St.LOADED||this.imageState_===St.ERROR)t();else{const n=()=>{(this.imageState_===St.LOADED||this.imageState_===St.ERROR)&&(this.removeEventListener(yt.CHANGE,n),t())};this.addEventListener(yt.CHANGE,n)}})),this.ready_}}function wd(a,t,n,s,r,u){let c=t===void 0?void 0:xn.get(t,n,r);return c||(c=new pp(a,a&&"src"in a?a.src||void 0:t,n,s,r),xn.set(t,n,r,c,u)),u&&c&&!xn.getPattern(t,n,r)&&xn.set(t,n,r,c,u),c}function ti(a){return a?Array.isArray(a)?bd(a):typeof a=="object"&&"src"in a?o2(a):a:null}function o2(a){if(!a.offset||!a.size)return xn.getPattern(a.src,"anonymous",a.color);const t=a.src+":"+a.offset,n=xn.getPattern(t,void 0,a.color);if(n)return n;const s=xn.get(a.src,"anonymous",null);if(s.getImageState()!==St.LOADED)return null;const r=_e(a.size[0],a.size[1]);return r.drawImage(s.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),wd(r.canvas,t,void 0,St.LOADED,a.color,!0),xn.getPattern(t,void 0,a.color)}const vp="10px sans-serif",Ze="#000",ua="round",Mi=[],Oi=0,ca="round",Dr=10,Lr="#000",zr="center",xu="middle",Ks=[0,0,0,0],Ir=1,Ci=new Xn;let ql=null,Bf;const Hf={},u2=function(){const t="32px ",n=["monospace","serif"],s=n.length,r="wmytzilWMYTZIL@#/&?$%10";let u,c;function h(_,m,y){let v=!0;for(let S=0;S<s;++S){const x=n[S];if(c=Tu(_+" "+m+" "+t+x,r),y!=x){const b=Tu(_+" "+m+" "+t+y+","+x,r);v=v&&b!=c}}return!!v}function d(){let _=!0;const m=Ci.getKeys();for(let y=0,v=m.length;y<v;++y){const S=m[y];if(Ci.get(S)<100){const[x,b,T]=S.split(`
`);h(x,b,T)?(Ur(Hf),ql=null,Bf=void 0,Ci.set(S,100)):(Ci.set(S,Ci.get(S)+1,!0),_=!1)}}_&&(clearInterval(u),u=void 0)}return function(_){const m=sp(_);if(!m)return;const y=m.families;for(let v=0,S=y.length;v<S;++v){const x=y[v],b=m.style+`
`+m.weight+`
`+x;Ci.get(b)===void 0&&(Ci.set(b,100,!0),h(m.style,m.weight,x)||(Ci.set(b,0,!0),u===void 0&&(u=setInterval(d,32))))}}}(),c2=function(){let a;return function(t){let n=Hf[t];if(n==null){if(Oy){const s=sp(t),r=Ep(t,"g");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=t,document.body.appendChild(a),n=a.offsetHeight,document.body.removeChild(a);Hf[t]=n}return n}}();function Ep(a,t){return ql||(ql=_e(1,1)),a!=Bf&&(ql.font=a,Bf=ql.font),ql.measureText(t)}function Tu(a,t){return Ep(a,t).width}function ny(a,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((r,u)=>Math.max(r,Tu(a,u)),0);return n[t]=s,s}function h2(a,t){const n=[],s=[],r=[];let u=0,c=0,h=0,d=0;for(let _=0,m=t.length;_<=m;_+=2){const y=t[_];if(y===`
`||_===m){u=Math.max(u,c),r.push(c),c=0,h+=d,d=0;continue}const v=t[_+1]||a.font,S=Tu(v,y);n.push(S),c+=S;const x=c2(v);s.push(x),d=Math.max(d,x)}return{width:u,height:h,widths:n,heights:s,lineWidths:r}}function f2(a,t,n,s,r,u,c,h,d,_,m){a.save(),n!==1&&(a.globalAlpha===void 0?a.globalAlpha=y=>y.globalAlpha*=n:a.globalAlpha*=n),t&&a.transform.apply(a,t),s.contextInstructions?(a.translate(d,_),a.scale(m[0],m[1]),d2(s,a)):m[0]<0||m[1]<0?(a.translate(d,_),a.scale(m[0],m[1]),a.drawImage(s,r,u,c,h,0,0,c,h)):a.drawImage(s,r,u,c,h,d,_,c*m[0],h*m[1]),a.restore()}function d2(a,t){const n=a.contextInstructions;for(let s=0,r=n.length;s<r;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class ju{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=qe(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new ju({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Dt()}getImage(t){return Dt()}getHitDetectionImage(){return Dt()}getPixelRatio(t){return 1}getImageState(){return Dt()}getImageSize(){return Dt()}getOrigin(){return Dt()}getSize(){return Dt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=qe(t)}listenImageChange(t){Dt()}load(){Dt()}unlistenImageChange(t){Dt()}ready(){return Promise.resolve()}}class qu extends ju{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?St.LOADING:St.LOADED,this.imageState_===St.LOADING&&this.ready().then(()=>this.imageState_=St.LOADED),this.render()}clone(){const t=this.getScale(),n=new qu({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var u,c;const n=(u=this.fill_)==null?void 0:u.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=(c=xn.get(s,null,null))==null?void 0:c.getImage(1);if(!r){const h=this.renderOptions_,d=Math.ceil(h.size*t),_=_e(d,d);this.draw_(h,_,t),r=_.canvas,xn.set(s,null,null,new pp(r,void 0,null,St.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,u=this.radius2_===void 0?r:this.radius2_;if(r<u){const j=r;r=u,u=j}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=u*Math.sin(h),_=Math.sqrt(u*u-d*d),m=r-_,y=Math.sqrt(d*d+m*m),v=y/d;if(t==="miter"&&v<=s)return v*n;const S=n/2/v,x=n/2*(m/y),T=Math.sqrt((r+S)*(r+S)+x*x)-r;if(this.radius2_===void 0||t==="bevel")return T*2;const A=r*Math.sin(h),w=Math.sqrt(r*r-A*A),N=u-w,O=Math.sqrt(A*A+N*N)/A;if(O<=s){const j=O*n/2-u-r;return 2*Math.max(T,j)}return T*2}createRenderOptions(){let t=ua,n=ca,s=0,r=null,u=0,c,h=0;this.stroke_&&(c=ti(this.stroke_.getColor()??Lr),h=this.stroke_.getWidth()??Ir,r=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??ca,t=this.stroke_.getLineCap()??ua,s=this.stroke_.getMiterLimit()??Dr);const d=this.calculateLineJoinSize_(n,h,s),_=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*_+d);return{strokeStyle:c,strokeWidth:h,size:m,lineCap:t,lineDash:r,lineDashOffset:u,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=Ze),n.fillStyle=ti(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),r=0;typeof s=="string"&&(s=oa(s)),s===null?r=1:Array.isArray(s)&&(r=s.length===4?s[3]:1),r===0&&(n=_e(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const r=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const u=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const d=u+h*c,_=h%2===0?s:r;t.lineTo(_*Math.cos(d),_*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Ze,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Ku extends qu{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new Ku({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class Br{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Br({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=wd(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===St.IDLE&&n.load(),n.getImageState()===St.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?It(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:oa(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function iy(a,t,n,s){return n!==void 0&&s!==void 0?[n/a,s/t]:n!==void 0?n/a:s!==void 0?s/t:1}class ha extends ju{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,u=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:u,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;Lt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||It(c)),Lt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Lt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=St.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?St.LOADED:St.IDLE:d=St.LOADING:d=St.LOADED),this.color_=t.color!==void 0?oa(t.color):null,this.iconImage_=wd(c,h,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let _,m;if(t.size)[_,m]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)_=y.width,m=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const S=this.iconImage_.getSize();this.setScale(iy(S[0],S[1],t.width,t.height))};this.listenImageChange(v);return}}_!==void 0&&this.setScale(iy(_,m,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new ha({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==St.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==St.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(yt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(yt.CHANGE,t)}ready(){return this.iconImage_.ready()}}class Hr{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Hr({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class ei{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=sy,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new ei({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=sy,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function g2(a){let t;if(typeof a=="function")t=a;else{let n;Array.isArray(a)?n=a:(Lt(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[a]),t=function(){return n}}return t}let Rf=null;function Sp(a,t){if(!Rf){const n=new Br({color:"rgba(255,255,255,0.4)"}),s=new Hr({color:"#3399CC",width:1.25});Rf=[new ei({image:new Ku({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return Rf}function sy(a){return a.getGeometry()}const _2="#333";class Md{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=qe(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Br({color:_2}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Md({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=qe(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function m2(a){return!0}function y2(a){const t=_p(),n=p2(a,t),s=yp();return function(r,u){if(s.properties=r.getPropertiesInternal(),s.resolution=u,t.featureId){const c=r.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=mp(r.getGeometry())),n(s)}}function ly(a){const t=_p(),n=a.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=Zf(a[c],t);const r=yp(),u=new Array(n);return function(c,h){if(r.properties=c.getPropertiesInternal(),r.resolution=h,t.featureId){const _=c.getId();_!==void 0?r.featureId=_:r.featureId=null}let d=0;for(let _=0;_<n;++_){const m=s[_](r);m&&(u[d]=m,d+=1)}return u.length=d,u}}function p2(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r){const u=a[r],c="filter"in u?zi(u.filter,Ge,t):m2;let h;if(Array.isArray(u.style)){const d=u.style.length;h=new Array(d);for(let _=0;_<d;++_)h[_]=Zf(u.style[_],t)}else h=[Zf(u.style,t)];s[r]={filter:c,styles:h}}return function(r){const u=[];let c=!1;for(let h=0;h<n;++h){const d=s[h].filter;if(d(r)&&!(a[h].else&&c)){c=!0;for(const _ of s[h].styles){const m=_(r);m&&u.push(m)}}}return u}}function Zf(a,t){const n=Nr(a,"",t),s=Gr(a,"",t),r=v2(a,t),u=E2(a,t),c=je(a,"z-index",t);if(!n&&!s&&!r&&!u&&!la(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const h=new ei;return function(d){let _=!0;if(n){const m=n(d);m&&(_=!1),h.setFill(m)}if(s){const m=s(d);m&&(_=!1),h.setStroke(m)}if(r){const m=r(d);m&&(_=!1),h.setText(m)}if(u){const m=u(d);m&&(_=!1),h.setImage(m)}return c&&h.setZIndex(c(d)),_?null:h}}function Nr(a,t,n){let s;if(t+"fill-pattern-src"in a)s=R2(a,t+"fill-",n);else{if(a[t+"fill-color"]==="none")return u=>null;s=Od(a,t+"fill-color",n)}if(!s)return null;const r=new Br;return function(u){const c=s(u);return c===Rd?null:(r.setColor(c),r)}}function Gr(a,t,n){const s=je(a,t+"stroke-width",n),r=Od(a,t+"stroke-color",n);if(!s&&!r)return null;const u=Ai(a,t+"stroke-line-cap",n),c=Ai(a,t+"stroke-line-join",n),h=xp(a,t+"stroke-line-dash",n),d=je(a,t+"stroke-line-dash-offset",n),_=je(a,t+"stroke-miter-limit",n),m=new Hr;return function(y){if(r){const v=r(y);if(v===Rd)return null;m.setColor(v)}if(s&&m.setWidth(s(y)),u){const v=u(y);if(v!=="butt"&&v!=="round"&&v!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(v)}if(c){const v=c(y);if(v!=="bevel"&&v!=="round"&&v!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(v)}return h&&m.setLineDash(h(y)),d&&m.setLineDashOffset(d(y)),_&&m.setMiterLimit(_(y)),m}}function v2(a,t){const n="text-",s=Ai(a,n+"value",t);if(!s)return null;const r=Nr(a,n,t),u=Nr(a,n+"background-",t),c=Gr(a,n,t),h=Gr(a,n+"background-",t),d=Ai(a,n+"font",t),_=je(a,n+"max-angle",t),m=je(a,n+"offset-x",t),y=je(a,n+"offset-y",t),v=ea(a,n+"overflow",t),S=Ai(a,n+"placement",t),x=je(a,n+"repeat",t),b=Vu(a,n+"scale",t),T=ea(a,n+"rotate-with-view",t),A=je(a,n+"rotation",t),w=Ai(a,n+"align",t),N=Ai(a,n+"justify",t),L=Ai(a,n+"baseline",t),O=ea(a,n+"keep-upright",t),j=xp(a,n+"padding",t),V=Wu(a,n+"declutter-mode"),Z=new Md({declutterMode:V});return function(U){if(Z.setText(s(U)),r&&Z.setFill(r(U)),u&&Z.setBackgroundFill(u(U)),c&&Z.setStroke(c(U)),h&&Z.setBackgroundStroke(h(U)),d&&Z.setFont(d(U)),_&&Z.setMaxAngle(_(U)),m&&Z.setOffsetX(m(U)),y&&Z.setOffsetY(y(U)),v&&Z.setOverflow(v(U)),S){const K=S(U);if(K!=="point"&&K!=="line")throw new Error("Expected point or line for text-placement");Z.setPlacement(K)}if(x&&Z.setRepeat(x(U)),b&&Z.setScale(b(U)),T&&Z.setRotateWithView(T(U)),A&&Z.setRotation(A(U)),w){const K=w(U);if(K!=="left"&&K!=="center"&&K!=="right"&&K!=="end"&&K!=="start")throw new Error("Expected left, right, center, start, or end for text-align");Z.setTextAlign(K)}if(N){const K=N(U);if(K!=="left"&&K!=="right"&&K!=="center")throw new Error("Expected left, right, or center for text-justify");Z.setJustify(K)}if(L){const K=L(U);if(K!=="bottom"&&K!=="top"&&K!=="middle"&&K!=="alphabetic"&&K!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Z.setTextBaseline(K)}return j&&Z.setPadding(j(U)),O&&Z.setKeepUpright(O(U)),Z}}function E2(a,t){return"icon-src"in a?S2(a,t):"shape-points"in a?x2(a,t):"circle-radius"in a?T2(a,t):null}function S2(a,t){const n="icon-",s=n+"src",r=Tp(a[s],s),u=Ru(a,n+"anchor",t),c=Vu(a,n+"scale",t),h=je(a,n+"opacity",t),d=Ru(a,n+"displacement",t),_=je(a,n+"rotation",t),m=ea(a,n+"rotate-with-view",t),y=ry(a,n+"anchor-origin"),v=oy(a,n+"anchor-x-units"),S=oy(a,n+"anchor-y-units"),x=w2(a,n+"color"),b=b2(a,n+"cross-origin"),T=A2(a,n+"offset"),A=ry(a,n+"offset-origin"),w=Cu(a,n+"width"),N=Cu(a,n+"height"),L=C2(a,n+"size"),O=Wu(a,n+"declutter-mode"),j=new ha({src:r,anchorOrigin:y,anchorXUnits:v,anchorYUnits:S,color:x,crossOrigin:b,offset:T,offsetOrigin:A,height:N,width:w,size:L,declutterMode:O});return function(V){return h&&j.setOpacity(h(V)),d&&j.setDisplacement(d(V)),_&&j.setRotation(_(V)),m&&j.setRotateWithView(m(V)),c&&j.setScale(c(V)),u&&j.setAnchor(u(V)),j}}function x2(a,t){const n="shape-",s=n+"points",r=n+"radius",u=Pf(a[s],s),c=Pf(a[r],r),h=Nr(a,n,t),d=Gr(a,n,t),_=Vu(a,n+"scale",t),m=Ru(a,n+"displacement",t),y=je(a,n+"rotation",t),v=ea(a,n+"rotate-with-view",t),S=Cu(a,n+"radius2"),x=Cu(a,n+"angle"),b=Wu(a,n+"declutter-mode"),T=new qu({points:u,radius:c,radius2:S,angle:x,declutterMode:b});return function(A){return h&&T.setFill(h(A)),d&&T.setStroke(d(A)),m&&T.setDisplacement(m(A)),y&&T.setRotation(y(A)),v&&T.setRotateWithView(v(A)),_&&T.setScale(_(A)),T}}function T2(a,t){const n="circle-",s=Nr(a,n,t),r=Gr(a,n,t),u=je(a,n+"radius",t),c=Vu(a,n+"scale",t),h=Ru(a,n+"displacement",t),d=je(a,n+"rotation",t),_=ea(a,n+"rotate-with-view",t),m=Wu(a,n+"declutter-mode"),y=new Ku({radius:5,declutterMode:m});return function(v){return u&&y.setRadius(u(v)),s&&y.setFill(s(v)),r&&y.setStroke(r(v)),h&&y.setDisplacement(h(v)),d&&y.setRotation(d(v)),_&&y.setRotateWithView(_(v)),c&&y.setScale(c(v)),y}}function je(a,t,n){if(!(t in a))return;const s=zi(a[t],bt,n);return function(r){return Pf(s(r),t)}}function Ai(a,t,n){if(!(t in a))return null;const s=zi(a[t],He,n);return function(r){return Tp(s(r),t)}}function R2(a,t,n){const s=Ai(a,t+"pattern-src",n),r=ay(a,t+"pattern-offset",n),u=ay(a,t+"pattern-size",n),c=Od(a,t+"color",n);return function(h){return{src:s(h),offset:r&&r(h),size:u&&u(h),color:c&&c(h)}}}function ea(a,t,n){if(!(t in a))return null;const s=zi(a[t],Ge,n);return function(r){const u=s(r);if(typeof u!="boolean")throw new Error(`Expected a boolean for ${t}`);return u}}function Od(a,t,n){if(!(t in a))return null;const s=zi(a[t],Gn,n);return function(r){return Rp(s(r),t)}}function xp(a,t,n){if(!(t in a))return null;const s=zi(a[t],$s,n);return function(r){return Zr(s(r),t)}}function Ru(a,t,n){if(!(t in a))return null;const s=zi(a[t],$s,n);return function(r){const u=Zr(s(r),t);if(u.length!==2)throw new Error(`Expected two numbers for ${t}`);return u}}function ay(a,t,n){if(!(t in a))return null;const s=zi(a[t],$s,n);return function(r){return Cp(s(r),t)}}function Vu(a,t,n){if(!(t in a))return null;const s=zi(a[t],$s|bt,n);return function(r){return M2(s(r),t)}}function Cu(a,t){const n=a[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function C2(a,t){const n=a[t];if(n!==void 0){if(typeof n=="number")return qe(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function b2(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function ry(a,t){const n=a[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function oy(a,t){const n=a[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function A2(a,t){const n=a[t];if(n!==void 0)return Zr(n,t)}function Wu(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function w2(a,t){const n=a[t];if(n!==void 0)return Rp(n,t)}function Zr(a,t){if(!Array.isArray(a))throw new Error(`Expected an array for ${t}`);const n=a.length;for(let s=0;s<n;++s)if(typeof a[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return a}function Tp(a,t){if(typeof a!="string")throw new Error(`Expected a string for ${t}`);return a}function Pf(a,t){if(typeof a!="number")throw new Error(`Expected a number for ${t}`);return a}function Rp(a,t){if(typeof a=="string")return a;const n=Zr(a,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function Cp(a,t){const n=Zr(a,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function M2(a,t){return typeof a=="number"?a:Cp(a,t)}const uy={RENDER_ORDER:"renderOrder"};class bp extends Pu{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(uy.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new fp(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(uy.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?Sp:t;const n=O2(t);this.styleFunction_=t===null?void 0:g2(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function O2(a){if(a===void 0)return Sp;if(!a)return null;if(typeof a=="function"||a instanceof ei)return a;if(!Array.isArray(a))return ly([a]);if(a.length===0)return[];const t=a.length,n=a[0];if(n instanceof ei){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!(c instanceof ei))throw new Error("Expected a list of style instances");r[u]=c}return r}if("style"in n){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!("style"in c))throw new Error("Expected a list of rules with a style property");r[u]=c}return y2(r)}return ly(a)}class Ap extends Li{constructor(t,n,s,r){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=r}}class D2 extends Mu{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Dt()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Di(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Qy(r,s)}forEachFeatureAtCoordinate(t,n,s,r,u,c,h,d){let _;const m=n.viewState;function y(L,O,j,V){return u.call(c,O,L?j:null,V)}const v=m.projection,S=ky(t.slice(),v),x=[[0,0]];if(v.canWrapX()&&r){const L=v.getExtent(),O=Ut(L);x.push([-O,0],[O,0])}const b=n.layerStatesArray,T=b.length,A=[],w=[];for(let L=0;L<x.length;L++)for(let O=T-1;O>=0;--O){const j=b[O],V=j.layer;if(V.hasRenderer()&&xd(j,m)&&h.call(d,V)){const Z=V.getRenderer(),U=V.getSource();if(Z&&U){const K=U.getWrapX()?S:t,it=y.bind(null,j.managed);w[0]=K[0]+x[L][0],w[1]=K[1]+x[L][1],_=Z.forEachFeatureAtCoordinate(w,n,s,it,A)}if(_)return _}}if(A.length===0)return;const N=1/A.length;return A.forEach((L,O)=>L.distanceSq+=O*N),A.sort((L,O)=>L.distanceSq-O.distanceSq),A.some(L=>_=L.callback(L.feature,L.layer,L.geometry)),_}hasFeatureAtCoordinate(t,n,s,r,u,c){return this.forEachFeatureAtCoordinate(t,n,s,r,Cr,this,u,c)!==void 0}getMap(){return this.map_}renderFrame(t){Dt()}scheduleExpireIconCache(t){xn.canExpireCache()&&t.postRenderFunctions.push(L2)}}function L2(a,t){xn.expire()}class z2 extends D2{constructor(t){super(t),this.fontChangeListenerKey_=wt(Ci,ia.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Hu+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const r=new Ap(t,void 0,n);s.dispatchEvent(r)}}disposeInternal(){jt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Sn.PRECOMPOSE,t);const n=t.layerStatesArray.sort((h,d)=>h.zIndex-d.zIndex);n.some(h=>h.layer instanceof bp&&h.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const u=[];let c=null;for(let h=0,d=n.length;h<d;++h){const _=n[h];t.layerIndex=h;const m=_.layer,y=m.getSourceState();if(!xd(_,r)||y!="ready"&&y!="undefined"){m.unrender();continue}const v=m.render(t,c);v&&(v!==c&&(this.children_.push(v),c=v),u.push(_))}this.declutter(t,u),WS(this.element_,this.children_),this.dispatchRenderEvent(Sn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const r=n[s],u=r.layer;u.getDeclutter()&&u.renderDeclutter(t,r)}n.forEach(s=>s.layer.renderDeferred(t))}}}function wp(a){if(a instanceof Pu){a.setMapInternal(null);return}a instanceof da&&a.getLayers().forEach(wp)}function Mp(a,t){if(a instanceof Pu){a.setMapInternal(t);return}if(a instanceof da){const n=a.getLayers().getArray();for(let s=0,r=n.length;s<r;++s)Mp(n[s],t)}}let I2=class extends Xn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=N2(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:My,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Un(),this.pixelToCoordinateTransform_=Un(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||tx(),this.interactions=n.interactions||Ex({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new RE(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(we.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(we.VIEW,this.handleViewChanged_),this.addChangeListener(we.SIZE,this.handleSizeChanged_),this.addChangeListener(we.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof Qn)&&t.view.then(function(r){s.setView(new Qn(r))}),this.controls.addEventListener(Be.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Be.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Be.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Be.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Be.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Be.REMOVE,r=>{const u=r.element.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Mp(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const u=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Cr,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,u,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(r){s.push(r)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(r){r instanceof da?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:Cr,u=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,u,c,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),r=this.getSize(),u=s.width/r[0],c=s.height/r[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/u,(h.clientY-s.top)/c]}getTarget(){return this.get(we.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Yf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?ge(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(we.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof $n){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n];if(!r.visible)continue;const u=r.layer.getRenderer();if(u&&!u.ready)return!0;const c=r.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=Ri(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?ge(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(we.SIZE)}getView(){return this.get(we.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,r){return CE(this.frameState_,t,n,s,r)}handleBrowserEvent(t,n){n=n||t.type;const s=new rs(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===Lf.POINTERDOWN||s===yt.WHEEL||s===yt.KEYDOWN){const r=this.getOwnerDocument(),u=this.viewport_.getRootNode?this.viewport_.getRootNode():r,c=n.target,h=u instanceof ShadowRoot?u.host===c?u.host.ownerDocument:u:u===r?r.documentElement:u;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let u=r.length-1;u>=0;u--){const c=r[u];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,u=r;if(t){const c=t.viewHints;if(c[Me.ANIMATING]||c[Me.INTERACTING]){const h=Date.now()-t.time>8;r=h?0:8,u=h?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,u))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Sn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Sn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Pl(bi.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Pl(bi.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let r=0,u=s.length;r<u;++r)s[r](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,r=this.targetChangeHandlerKeys_.length;s<r;++s)jt(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(yt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(yt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new z2(this)),this.mapBrowserEventHandler_=new xE(this,this.moveTolerance_);for(const u in Jt)this.mapBrowserEventHandler_.addEventListener(Jt[u],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(yt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(yt.WHEEL,this.boundHandleBrowserEvent_,Ly?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const u=n.getRootNode();s=u instanceof ShadowRoot?u.host:n}this.targetChangeHandlerKeys_=[wt(s,yt.KEYDOWN,this.handleBrowserEvent,this),wt(s,yt.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(jt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(jt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=wt(t,ia.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=wt(t,yt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(jt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new os("addlayer",t)),this.layerGroupPropertyListenerKeys_=[wt(t,ia.PROPERTYCHANGE,this.render,this),wt(t,yt.CHANGE,this.render,this),wt(t,"addlayer",this.handleLayerAdd_,this),wt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){wp(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),r=this.frameState_;let u=null;if(n!==void 0&&J0(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Gf(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:It(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;u.nextExtent=Gf(h.nextCenter,h.nextResolution,d,n)}}this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),r&&(!this.previousExtent_||!Uu(this.previousExtent_)&&!br(u.extent,this.previousExtent_))&&(this.dispatchEvent(new Pl(bi.MOVESTART,this,r)),this.previousExtent_=zu(this.previousExtent_)),this.previousExtent_&&!u.viewHints[Me.ANIMATING]&&!u.viewHints[Me.INTERACTING]&&!br(u.extent,this.previousExtent_)&&(this.dispatchEvent(new Pl(bi.MOVEEND,this,u)),zy(u.extent,this.previousExtent_))),this.dispatchEvent(new Pl(bi.POSTRENDER,this,u)),this.renderComplete_=(this.hasListener(bi.LOADSTART)||this.hasListener(bi.LOADEND)||this.hasListener(Sn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new os("removelayer",n)),this.set(we.LAYERGROUP,t)}setSize(t){this.set(we.SIZE,t)}setTarget(t){this.set(we.TARGET,t)}setView(t){if(!t||t instanceof Qn){this.set(we.VIEW,t);return}this.set(we.VIEW,new Qn);const n=this;t.then(function(s){n.setView(new Qn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const r=getComputedStyle(t),u=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),c=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(u)&&!isNaN(c)&&(n=[Math.max(0,u),Math.max(0,c)],!J0(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Hy("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!_s(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function N2(a){let t=null;a.keyboardEventTarget!==void 0&&(t=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const n={},s=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new da({layers:a.layers});n[we.LAYERGROUP]=s,n[we.TARGET]=a.target,n[we.VIEW]=a.view instanceof Qn?a.view:new Qn;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new $n(a.controls.slice()):(Lt(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let u;a.interactions!==void 0&&(Array.isArray(a.interactions)?u=new $n(a.interactions.slice()):(Lt(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),u=a.interactions));let c;return a.overlays!==void 0?Array.isArray(a.overlays)?c=new $n(a.overlays.slice()):(Lt(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=a.overlays):c=new $n,{controls:r,interactions:u,keyboardEventTarget:t,overlays:c,values:n}}class Dd extends Lu{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(yt.CHANGE)}release(){this.setState(ct.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ct.EMPTY){if(this.state!==ct.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Dt()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const r=n-s+1e3/60;return r>=this.transition_?1:By(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function jf(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const G2=new Error("disposed"),U2=[256,256];class cy extends Dd{constructor(t){const n=ct.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=jf(this.data_);return t?[t.width,t.height]:U2}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ct.IDLE&&this.state!==ct.ERROR)return;this.state=ct.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=ct.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=ct.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(G2),this.controller_=null),super.disposeInternal()}}class Op extends Dd{constructor(t,n,s,r,u,c){super(t,n,c),this.crossOrigin_=r,this.src_=s,this.key=s,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=u}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ct.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ct.ERROR,this.unlistenImage_(),this.image_=F2(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ct.LOADED:this.state=ct.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ct.ERROR&&(this.state=ct.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ct.IDLE&&(this.state=ct.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=s2(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function F2(){const a=_e(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class Ld{constructor(t,n,s,r){this.minX=t,this.maxX=n,this.minY=s,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Bl(a,t,n,s,r){return r!==void 0?(r.minX=a,r.maxX=t,r.minY=n,r.maxY=s,r):new Ld(a,t,n,s)}let Cf;const na=[];function hy(a,t,n,s,r){a.beginPath(),a.moveTo(0,0),a.lineTo(t,n),a.lineTo(s,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(t,s)+1,Math.max(n,r)),a.restore()}function bf(a,t){return Math.abs(a[t*4]-210)>2||Math.abs(a[t*4+3]-.75*255)>2}function X2(){if(Cf===void 0){const a=_e(6,6,na);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",hy(a,4,5,4,0),hy(a,4,5,0,5);const t=a.getImageData(0,0,3,3).data;Cf=bf(t,0)||bf(t,4)||bf(t,8),Zu(a),na.push(a.canvas)}return Cf}function fy(a,t,n,s){const r=Yu(n,t,a);let u=L0(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(u*=c);const h=a.getMetersPerUnit();h!==void 0&&(u/=h);const d=a.getExtent();if(!d||aa(d,r)){const _=L0(a,u,r)/u;isFinite(_)&&_>0&&(u/=_)}return u}function Y2(a,t,n,s){const r=Js(n);let u=fy(a,t,r,s);return(!isFinite(u)||u<=0)&&Uy(n,function(c){return u=fy(a,t,c,s),isFinite(u)&&u>0}),u}function k2(a,t,n,s,r,u,c,h,d,_,m,y,v,S){const x=_e(Math.round(n*a),Math.round(n*t),na);if(y||(x.imageSmoothingEnabled=!1),d.length===0)return x.canvas;x.scale(n,n);function b(O){return Math.round(O*n)/n}x.globalCompositeOperation="lighter";const T=Rn();d.forEach(function(O,j,V){ME(T,O.extent)});let A;const w=n/s,N=(y?1:1+Math.pow(2,-24))/w;A=_e(Math.round(Ut(T)*w),Math.round(Ue(T)*w),na),y||(A.imageSmoothingEnabled=!1),d.forEach(function(O,j,V){if(O.image.width>0&&O.image.height>0){if(O.clipExtent){A.save();const st=(O.clipExtent[0]-T[0])*w,rt=-(O.clipExtent[3]-T[3])*w,$=Ut(O.clipExtent)*w,dt=Ue(O.clipExtent)*w;A.rect(y?st:Math.round(st),y?rt:Math.round(rt),y?$:Math.round(st+$)-Math.round(st),y?dt:Math.round(rt+dt)-Math.round(rt)),A.clip()}const Z=(O.extent[0]-T[0])*w,U=-(O.extent[3]-T[3])*w,K=Ut(O.extent)*w,it=Ue(O.extent)*w;A.drawImage(O.image,_,_,O.image.width-2*_,O.image.height-2*_,y?Z:Math.round(Z),y?U:Math.round(U),y?K:Math.round(Z+K)-Math.round(Z),y?it:Math.round(U+it)-Math.round(U)),O.clipExtent&&A.restore()}});const L=tl(c);return h.getTriangles().forEach(function(O,j,V){const Z=O.source,U=O.target;let K=Z[0][0],it=Z[0][1],st=Z[1][0],rt=Z[1][1],$=Z[2][0],dt=Z[2][1];const X=b((U[0][0]-L[0])/u),Q=b(-(U[0][1]-L[1])/u),W=b((U[1][0]-L[0])/u),et=b(-(U[1][1]-L[1])/u),C=b((U[2][0]-L[0])/u),Y=b(-(U[2][1]-L[1])/u),F=K,tt=it;K=0,it=0,st-=F,rt-=tt,$-=F,dt-=tt;const J=[[st,rt,0,0,W-X],[$,dt,0,0,C-X],[0,0,st,rt,et-Q],[0,0,$,dt,Y-Q]],lt=AE(J);if(!lt)return;if(x.save(),x.beginPath(),X2()||!y){x.moveTo(W,et);const Nt=4,_t=X-W,Ft=Q-et;for(let pt=0;pt<Nt;pt++)x.lineTo(W+b((pt+1)*_t/Nt),et+b(pt*Ft/(Nt-1))),pt!=Nt-1&&x.lineTo(W+b((pt+1)*_t/Nt),et+b((pt+1)*Ft/(Nt-1)));x.lineTo(C,Y)}else x.moveTo(W,et),x.lineTo(X,Q),x.lineTo(C,Y);x.clip(),x.transform(lt[0],lt[2],lt[1],lt[3],X,Q),x.translate(T[0]-F,T[3]-tt);let ut;if(A)ut=A.canvas,x.scale(N,-N);else{const Nt=d[0],_t=Nt.extent;ut=Nt.image,x.scale(Ut(_t)/ut.width,-Ue(_t)/ut.height)}x.drawImage(ut,0,0),x.restore()}),A&&(Zu(A),na.push(A.canvas)),m&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,h.getTriangles().forEach(function(O,j,V){const Z=O.target,U=(Z[0][0]-L[0])/u,K=-(Z[0][1]-L[1])/u,it=(Z[1][0]-L[0])/u,st=-(Z[1][1]-L[1])/u,rt=(Z[2][0]-L[0])/u,$=-(Z[2][1]-L[1])/u;x.beginPath(),x.moveTo(it,st),x.lineTo(U,K),x.lineTo(rt,$),x.closePath(),x.stroke()}),x.restore()),x.canvas}const B2=10,dy=.25;class H2{constructor(t,n,s,r,u,c,h){this.sourceProj_=t,this.targetProj_=n;let d={};const _=h?fS(N=>ge(h,Yu(N,this.targetProj_,this.sourceProj_))):vu(this.targetProj_,this.sourceProj_);this.transformInv_=function(N){const L=N[0]+"/"+N[1];return d[L]||(d[L]=_(N)),d[L]},this.maxSourceExtent_=r,this.errorThresholdSquared_=u*u,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ut(r)>=Ut(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ut(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ut(this.targetProj_.getExtent()):null;const m=tl(s),y=Gu(s),v=Nu(s),S=Iu(s),x=this.transformInv_(m),b=this.transformInv_(y),T=this.transformInv_(v),A=this.transformInv_(S),w=B2+(c?Math.max(0,Math.ceil(Math.log2(Nf(s)/(c*c*256*256)))):0);if(this.addQuad_(m,y,v,S,x,b,T,A,w),this.wrapsXInSource_){let N=1/0;this.triangles_.forEach(function(L,O,j){N=Math.min(N,L.source[0][0],L.source[1][0],L.source[2][0])}),this.triangles_.forEach(L=>{if(Math.max(L.source[0][0],L.source[1][0],L.source[2][0])-N>this.sourceWorldWidth_/2){const O=[[L.source[0][0],L.source[0][1]],[L.source[1][0],L.source[1][1]],[L.source[2][0],L.source[2][1]]];O[0][0]-N>this.sourceWorldWidth_/2&&(O[0][0]-=this.sourceWorldWidth_),O[1][0]-N>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_),O[2][0]-N>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);const j=Math.min(O[0][0],O[1][0],O[2][0]);Math.max(O[0][0],O[1][0],O[2][0])-j<this.sourceWorldWidth_/2&&(L.source=O)}})}d={}}addTriangle_(t,n,s,r,u,c){this.triangles_.push({source:[r,u,c],target:[t,n,s]})}addQuad_(t,n,s,r,u,c,h,d,_){const m=T0([u,c,h,d]),y=this.sourceWorldWidth_?Ut(m)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,S=this.sourceProj_.canWrapX()&&y>.5&&y<1;let x=!1;if(_>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const T=T0([t,n,s,r]);x=Ut(T)/this.targetWorldWidth_>dy||x}!S&&this.sourceProj_.isGlobal()&&y&&(x=y>dy||x)}if(!x&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Pe(m,this.maxSourceExtent_))return;let b=0;if(!x&&(!isFinite(u[0])||!isFinite(u[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(_>0)x=!0;else if(b=(!isFinite(u[0])||!isFinite(u[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),b!=1&&b!=2&&b!=4&&b!=8)return}if(_>0){if(!x){const T=[(t[0]+s[0])/2,(t[1]+s[1])/2],A=this.transformInv_(T);let w;S?w=(Ws(u[0],v)+Ws(h[0],v))/2-Ws(A[0],v):w=(u[0]+h[0])/2-A[0];const N=(u[1]+h[1])/2-A[1];x=w*w+N*N>this.errorThresholdSquared_}if(x){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const T=[(n[0]+s[0])/2,(n[1]+s[1])/2],A=this.transformInv_(T),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],N=this.transformInv_(w);this.addQuad_(t,n,T,w,u,c,A,N,_-1),this.addQuad_(w,T,s,r,N,A,h,d,_-1)}else{const T=[(t[0]+n[0])/2,(t[1]+n[1])/2],A=this.transformInv_(T),w=[(s[0]+r[0])/2,(s[1]+r[1])/2],N=this.transformInv_(w);this.addQuad_(t,T,w,r,u,A,N,d,_-1),this.addQuad_(T,n,s,w,A,c,h,N,_-1)}return}}if(S){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}b&11||this.addTriangle_(t,s,r,u,h,d),b&14||this.addTriangle_(t,s,n,u,h,c),b&&(b&13||this.addTriangle_(n,r,t,c,d,u),b&7||this.addTriangle_(n,r,s,c,d,h))}calculateSourceExtent(){const t=Rn();return this.triangles_.forEach(function(n,s,r){const u=n.source;Tr(t,u[0]),Tr(t,u[1]),Tr(t,u[2])}),t}getTriangles(){return this.triangles_}}const Z2=.5;class Dp extends Dd{constructor(t,n,s,r,u,c,h,d,_,m,y,v){super(u,ct.IDLE,v),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=c||u,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const S=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let b=this.sourceTileGrid_.getExtent();const T=x?Qs(S,x):S;if(Nf(T)===0){this.state=ct.EMPTY;return}const A=t.getExtent();A&&(b?b=Qs(b,A):b=A);const w=r.getResolution(this.wrappedTileCoord_[0]),N=Y2(t,s,T,w);if(!isFinite(N)||N<=0){this.state=ct.EMPTY;return}const L=m!==void 0?m:Z2;if(this.triangulation_=new H2(t,s,T,b,N*L,w),this.triangulation_.getTriangles().length===0){this.state=ct.EMPTY;return}this.sourceZ_=n.getZForResolution(N);let O=this.triangulation_.calculateSourceExtent();if(b&&(t.canWrapX()?(O[1]=ie(O[1],b[1],b[3]),O[3]=ie(O[3],b[1],b[3])):O=Qs(O,b)),!Nf(O))this.state=ct.EMPTY;else{let j=0,V=0;t.canWrapX()&&(j=Ut(A),V=Math.floor((O[0]-A[0])/j)),Yy(O.slice(),t,!0).forEach(U=>{const K=n.getTileRangeForExtentAndZ(U,this.sourceZ_);for(let it=K.minX;it<=K.maxX;it++)for(let st=K.minY;st<=K.maxY;st++){const rt=_(this.sourceZ_,it,st,h);if(rt){const $=V*j;this.sourceTiles_.push({tile:rt,offset:$})}}++V}),this.sourceTiles_.length===0&&(this.state=ct.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{var r;const s=n.tile;if(s&&s.getState()==ct.LOADED){const u=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);u[0]+=n.offset,u[2]+=n.offset;const c=(r=this.clipExtent_)==null?void 0:r.slice();c&&(c[0]+=n.offset,c[2]+=n.offset),t.push({extent:u,clipExtent:c,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ct.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),r=typeof s=="number"?s:s[0],u=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=k2(r,u,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ct.LOADED}this.changed()}load(){if(this.state==ct.IDLE){this.state=ct.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==ct.IDLE||s==ct.LOADING){t++;const r=wt(n,yt.CHANGE,u=>{const c=n.getState();(c==ct.LOADED||c==ct.ERROR||c==ct.EMPTY)&&(jt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,r){n.getState()==ct.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(jt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Zu(this.canvas_.getContext("2d")),na.push(this.canvas_),this.canvas_=null),super.release()}}class P2{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Mu&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return Lt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return Lt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var n;return(n=this.entries_[t])==null?void 0:n.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){Lt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function bu(a,t,n,s){return s!==void 0?(s[0]=a,s[1]=t,s[2]=n,s):[a,t,n]}function j2(a,t,n){return a+"/"+t+"/"+n}function q2(a){return K2(a[0],a[1],a[2])}function K2(a,t,n){return(t<<a)+n}function V2(a,t){const n=a[0],s=a[1],r=a[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const u=t.getFullTileRange(n);return u?u.containsXY(s,r):!0}class Lp{constructor(){o0(this,"pushMethodArgs_",(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Su(),{get:(t,n)=>{if(typeof Su()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(t,n,s)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,s),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,r=n.length;s<r;++s){const u=n[s];if(typeof u=="function"){u(t);continue}const c=n[++s];if(typeof t[u]=="function")t[u](...c);else{if(typeof c=="function"){t[u]=c(t);continue}t[u]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const W2=5;class Q2 extends Fr{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=W2}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Dt()}getData(t){return null}prepareFrame(t){return Dt()}renderFrame(t,n){return Dt()}forEachFeatureAtCoordinate(t,n,s,r,u){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===St.LOADED||n.getState()===St.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=St.LOADED&&n!=St.ERROR&&t.addEventListener(yt.CHANGE,this.boundHandleImageChange_),n==St.IDLE&&(t.load(),n=t.getState()),n==St.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const gy=[];let Kl=null;function J2(){Kl=_e(1,1,void 0,{willReadFrequently:!0})}class zp extends Q2{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Un(),this.pixelTransform=Un(),this.inversePixelTransform=Un(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){Kl||J2(),Kl.clearRect(0,0,1,1);let r;try{Kl.drawImage(t,n,s,1,1,0,0,1,1),r=Kl.getImageData(0,0,1,1).data}catch{return Kl=null,null}return r}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const r=this.getLayer().getClassName();let u,c;if(t&&t.className===r&&(!s||t&&t.style.backgroundColor&&_s(oa(t.style.backgroundColor),oa(s)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===n?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){u=document.createElement("div"),u.className=r;let h=u.style;h.position="absolute",h.width="100%",h.height="100%",c=_e();const d=c.canvas;u.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=u,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const r=tl(s),u=Gu(s),c=Nu(s),h=Iu(s);ge(n.coordinateToPixelTransform,r),ge(n.coordinateToPixelTransform,u),ge(n.coordinateToPixelTransform,c),ge(n.coordinateToPixelTransform,h);const d=this.inversePixelTransform;ge(d,r),ge(d,u),ge(d,c),ge(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,r=t.viewState.resolution,u=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Ut(s)/r*c),d=Math.round(Ue(s)/r*c);Di(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,u,-h/2,-d/2),Qy(this.inversePixelTransform,this.pixelTransform);const _=yS(this.pixelTransform);if(this.useContainer(n,_,this.getBackground(t)),!this.containerReused){const m=this.context.canvas;m.width!=h||m.height!=d?(m.width=h,m.height=d):this.context.clearRect(0,0,h,d),_!==m.style.transform&&(m.style.transform=_)}}dispatchRenderEvent_(t,n,s){const r=this.getLayer();if(r.hasListener(t)){const u=new Ap(t,this.inversePixelTransform,s,n);r.dispatchEvent(u)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Sn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Sn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new Lp),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Sn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Sn.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,r,u,c,h){const d=u/2,_=c/2,m=r/n,y=-m,v=-t[0]+h,S=-t[1];return Di(this.tempTransform,d,_,m,y,-s,v,S)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Af(a,t,n,s){return`${a},${j2(t,n,s)}`}function wf(a,t,n){if(!(n in a))return a[n]=new Set([t]),!0;const s=a[n],r=s.has(t);return r||s.add(t),!r}function $2(a,t,n){const s=a[n];return s?s.delete(t):!1}function _y(a,t){const n=a.layerStatesArray[a.layerIndex];n.extent&&(t=Qs(t,us(n.extent,a.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const r=s.getTileGridForProjection(a.viewState.projection).getExtent();r&&(t=Qs(t,r))}return t}class tT extends zp{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Rn(),this.tempTileRange_=new Ld(0,0,0,0),this.tempTileCoord_=bu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new P2(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,r){const u=this.tileCache_,h=this.getLayer().getSource(),d=Af(h.getKey(),t,n,s);let _;if(u.containsKey(d))_=u.get(d);else{if(_=h.getTile(t,n,s,r.pixelRatio,r.viewState.projection),!_)return null;u.set(d,_)}return _}getTile(t,n,s,r){const u=this.getOrCreateTile(t,n,s,r);return u||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),r=ge(n.pixelToCoordinateTransform,t.slice()),u=s.getExtent();if(u&&!aa(u,r))return null;const c=n.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),_=h.getTilePixelRatio(n.pixelRatio);for(let m=d.getZForResolution(c.resolution);m>=d.getMinZoom();--m){const y=d.getTileCoordForCoordAndZ(r,m),v=this.getTile(m,y[1],y[2],n);if(!v||v.getState()!==ct.LOADED)continue;const S=d.getOrigin(m),x=qe(d.getTileSize(m)),b=d.getResolution(m);let T;if(v instanceof Op||v instanceof Dp)T=v.getImage();else if(v instanceof cy){if(T=jf(v.getData()),!T)continue}else continue;const A=Math.floor(_*((r[0]-S[0])/b-y[1]*x[0])),w=Math.floor(_*((S[1]-r[1])/b-y[2]*x[1])),N=Math.round(_*h.getGutterForProjection(c.projection));return this.getImageData(T,A+N,w+N)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==s&&(this.renderedRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=s,!0}enqueueTiles(t,n,s,r,u){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),_=d.getTileGridForProjection(c.projection),m=It(d);m in t.wantedTiles||(t.wantedTiles[m]={});const y=t.wantedTiles[m],v=h.getMapInternal(),S=Math.max(s-u,_.getMinZoom(),_.getZForResolution(Math.min(h.getMaxResolution(),v?v.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):_.getResolution(0)),d.zDirection)),x=c.rotation,b=x?Fy(c.center,c.resolution,x,t.size):void 0;for(let T=s;T>=S;--T){const A=_.getTileRangeForExtentAndZ(n,T,this.tempTileRange_),w=_.getResolution(T);for(let N=A.minX;N<=A.maxX;++N)for(let L=A.minY;L<=A.maxY;++L){if(x&&!_.tileCoordIntersectsViewport([T,N,L],b))continue;const O=this.getTile(T,N,L,t);if(!O||!wf(r,O,T))continue;const V=O.getKey();if(y[V]=!0,O.getState()===ct.IDLE&&!t.tileQueue.isKeyQueued(V)){const Z=bu(T,N,L,this.tempTileCoord_);t.tileQueue.enqueue([O,m,_.getTileCoordCenter(Z),w])}}}}findStaleTile_(t,n){const s=this.tileCache_,r=t[0],u=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const _=Af(h[d],r,u,c);if(s.containsKey(_)){const m=s.peek(_);if(m.getState()===ct.LOADED)return m.endTransition(It(this)),wf(n,m,r),!0}}return!1}findAltTiles_(t,n,s,r){const u=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!u)return!1;let c=!0;const h=this.tileCache_,_=this.getLayer().getRenderSource().getKey();for(let m=u.minX;m<=u.maxX;++m)for(let y=u.minY;y<=u.maxY;++y){const v=Af(_,s,m,y);let S=!1;if(h.containsKey(v)){const x=h.peek(v);x.getState()===ct.LOADED&&(wf(r,x,s),S=!0)}S||(c=!1)}return c}renderFrame(t,n){let s=!0;this.renderComplete=!0;const r=t.layerStatesArray[t.layerIndex],u=t.viewState,c=u.projection,h=u.resolution,d=u.center,_=t.pixelRatio,m=this.getLayer(),y=m.getSource(),v=y.getTileGridForProjection(c),S=v.getZForResolution(h,y.zDirection),x=v.getResolution(S),b=y.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==b&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=b):this.renderedSourceKey_=b;let T=t.extent;const A=y.getTilePixelRatio(_);this.prepareContainer(t,n);const w=this.context.canvas.width,N=this.context.canvas.height,L=r.extent&&us(r.extent);L&&(T=Qs(T,us(r.extent)));const O=x*w/2/A,j=x*N/2/A,V=[d[0]-O,d[1]-j,d[0]+O,d[1]+j],Z={};this.renderedTiles.length=0;const U=m.getPreload();if(t.nextExtent){const et=v.getZForResolution(u.nextResolution,y.zDirection),C=_y(t,t.nextExtent);this.enqueueTiles(t,C,et,Z,U)}const K=_y(t,T);if(this.enqueueTiles(t,K,S,Z,0),U>0&&setTimeout(()=>{this.enqueueTiles(t,K,S-1,Z,U-1)},0),!(S in Z))return this.container;const it=It(this),st=t.time;for(const et of Z[S]){const C=et.getState();if(C===ct.EMPTY)continue;const Y=et.tileCoord;if(C===ct.LOADED&&et.getAlpha(it,st)===1){et.endTransition(it);continue}if(C!==ct.IDLE&&(s=!1),C!==ct.ERROR&&(this.renderComplete=!1),this.findStaleTile_(Y,Z)){$2(Z,et,S),t.animate=!0;continue}if(this.findAltTiles_(v,Y,S+1,Z))continue;const J=v.getMinZoom();for(let lt=S-1;lt>=J&&!this.findAltTiles_(v,Y,lt,Z);--lt);}const rt=x/h*_/A,$=this.getRenderContext(t);Di(this.tempTransform,w/2,N/2,rt,rt,0,-w/2,-N/2),r.extent&&this.clipUnrotated($,t,L),y.getInterpolate()||($.imageSmoothingEnabled=!1),this.preRender($,t);const dt=Object.keys(Z).map(Number);dt.sort(wi);let X;const Q=[],W=[];for(let et=dt.length-1;et>=0;--et){const C=dt[et],Y=y.getTilePixelSize(C,_,c),tt=v.getResolution(C)/x,J=Y[0]*tt*rt,lt=Y[1]*tt*rt,ut=v.getTileCoordForCoordAndZ(tl(V),C),Nt=v.getTileCoordExtent(ut),_t=ge(this.tempTransform,[A*(Nt[0]-V[0])/x,A*(V[3]-Nt[3])/x]),Ft=A*y.getGutterForProjection(c);for(const pt of Z[C]){if(pt.getState()!==ct.LOADED)continue;const De=pt.tileCoord,Yn=ut[1]-De[1],Ve=Math.round(_t[0]-(Yn-1)*J),We=ut[2]-De[2],kn=Math.round(_t[1]-(We-1)*lt),me=Math.round(_t[0]-Yn*J),Fe=Math.round(_t[1]-We*lt),Cn=Ve-me,bn=kn-Fe,Bn=dt.length===1;let ni=!1;X=[me,Fe,me+Cn,Fe,me+Cn,Fe+bn,me,Fe+bn];for(let An=0,ii=Q.length;An<ii;++An)if(!Bn&&C<W[An]){const kt=Q[An];Pe([me,Fe,me+Cn,Fe+bn],[kt[0],kt[3],kt[4],kt[7]])&&(ni||($.save(),ni=!0),$.beginPath(),$.moveTo(X[0],X[1]),$.lineTo(X[2],X[3]),$.lineTo(X[4],X[5]),$.lineTo(X[6],X[7]),$.moveTo(kt[6],kt[7]),$.lineTo(kt[4],kt[5]),$.lineTo(kt[2],kt[3]),$.lineTo(kt[0],kt[1]),$.clip())}Q.push(X),W.push(C),this.drawTile(pt,t,me,Fe,Cn,bn,Ft,Bn),ni&&$.restore(),this.renderedTiles.unshift(pt),this.updateUsedTiles(t.usedTiles,y,pt)}}if(this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!br(this.renderedExtent_,V),this.renderedExtent_=V,this.renderedPixelRatio=_,this.postRender(this.context,t),r.extent&&$.restore(),$.imageSmoothingEnabled=!0,this.renderComplete){const et=(C,Y)=>{const F=It(y),tt=Y.wantedTiles[F],J=tt?Object.keys(tt).length:0;this.updateCacheSize(J),this.tileCache_.expireCache()};t.postRenderFunctions.push(et)}return!this.renderComplete&&!s&&(t.animate=!0),this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,r,u,c,h,d){let _;if(t instanceof cy){if(_=jf(t.getData()),!_)throw new Error("Rendering array data is not yet supported")}else _=this.getTileImage(t);if(!_)return;const m=this.getRenderContext(n),y=It(this),v=n.layerStatesArray[n.layerIndex],S=v.opacity*(d?t.getAlpha(y,n.time):1),x=S!==m.globalAlpha;x&&(m.save(),m.globalAlpha=S),m.drawImage(_,h,h,_.width-2*h,_.height-2*h,s,r,u,c),x&&m.restore(),S!==v.opacity?n.animate=!0:d&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const r=It(n);r in t||(t[r]={}),t[r][s.getKey()]=!0}}const fu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class eT extends Pu{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(fu.PRELOAD)}setPreload(t){this.set(fu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(fu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(fu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class nT extends eT{constructor(t){super(t)}createRenderer(){return new tT(this,{cacheSize:this.getCacheSize()})}}const Hl=[0,0,0],is=5;class Ip{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Lt(_E(this.resolutions_,(r,u)=>u-r),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,u=this.resolutions_.length-1;r<u;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Lt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=tl(s)),Lt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Lt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:yd,Lt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,u)=>{const c=new Ld(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,u);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const r=this.getTileRangeForExtentAndZ(t,n);for(let u=r.minX,c=r.maxX;u<=c;++u)for(let h=r.minY,d=r.maxY;h<=d;++h)s([n,u,h])}forEachTileCoordParentTileRange(t,n,s,r){let u,c,h,d=null,_=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,r);_>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),u=Bl(c,c,h,h,s)):u=this.getTileRangeForExtentAndZ(d,_,s),n(_,u))return!0;--_}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const u=t[1]*2,c=t[2]*2;return Bl(u,u+1,c,c+1,n)}const r=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const r=t[0],u=t[1],c=t[2];if(n===r)return Bl(u,c,u,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-r),_=Math.floor(u*d),m=Math.floor(c*d);if(n<r)return Bl(_,_,m,m,s);const y=Math.floor(d*(u+1))-1,v=Math.floor(d*(c+1))-1;return Bl(_,y,m,v,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Hl);const r=Hl[1],u=Hl[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Hl);const c=Hl[1],h=Hl[2];return Bl(r,c,u,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=qe(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*s,n[1]-(t[2]+.5)*r[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),r=this.getResolution(t[0]),u=qe(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*u[0]*r,h=s[1]-(t[2]+1)*u[1]*r,d=c+u[0]*r,_=h+u[1]*r;return gs(c,h,d,_,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,r,u){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),_=qe(this.getTileSize(c),this.tmpSize_);let m=h*(t-d[0])/s/_[0],y=h*(d[1]-n)/s/_[1];return r?(m=lu(m,is)-1,y=lu(y,is)-1):(m=su(m,is),y=su(y,is)),bu(c,m,y,u)}getTileCoordForXYAndZ_(t,n,s,r,u){const c=this.getOrigin(s),h=this.getResolution(s),d=qe(this.getTileSize(s),this.tmpSize_);let _=(t-c[0])/h/d[0],m=(c[1]-n)/h/d[1];return r?(_=lu(_,is)-1,m=lu(m,is)-1):(_=su(_,is),m=su(m,is)),bu(s,_,m,u)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=Vf(this.resolutions_,t,n||0);return ie(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return ip(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let r=this.minZoom;r<n;++r)s[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=s}}function Np(a){let t=a.getDefaultTileGrid();return t||(t=aT(a),a.setDefaultTileGrid(t)),t}function iT(a,t,n){const s=t[0],r=a.getTileCoordCenter(t),u=zd(n);if(!aa(u,r)){const c=Ut(u),h=Math.ceil((u[0]-r[0])/c);return r[0]+=c*h,a.getTileCoordForCoordAndZ(r,s)}return t}function sT(a,t,n,s){s=s!==void 0?s:"top-left";const r=Gp(a,t,n);return new Ip({extent:a,origin:DE(a,s),resolutions:r,tileSize:n})}function lT(a){const t=a||{},n=t.extent||Ke("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Gp(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Ip(s)}function Gp(a,t,n,s){t=t!==void 0?t:kS,n=qe(n!==void 0?n:yd);const r=Ue(a),u=Ut(a);s=s>0?s:Math.max(u/n[0],r/n[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function aT(a,t,n,s){const r=zd(a);return sT(r,t,n,s)}function zd(a){a=Ke(a);let t=a.getExtent();if(!t){const n=180*ed.degrees/a.getMetersPerUnit();t=gs(-n,-n,n,n)}return t}const rT=/\{z\}/g,oT=/\{x\}/g,uT=/\{y\}/g,cT=/\{-y\}/g;function hT(a,t,n,s,r){return a.replace(rT,t.toString()).replace(oT,n.toString()).replace(uT,s.toString()).replace(cT,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-s).toString()})}function fT(a){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(a);if(n){const s=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let u;for(u=s;u<=r;++u)t.push(a.replace(n[0],String.fromCharCode(u)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(a),n){const s=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=s;r++)t.push(a.replace(n[0],r.toString()));return t}return t.push(a),t}function dT(a,t){return function(n,s,r){if(!n)return;let u;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(u=h.getHeight()-1)}return hT(a,c,n[1],n[2],u)}}function gT(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=dT(a[r],t);return _T(s)}function _T(a){return a.length===1?a[0]:function(t,n,s){if(!t)return;const r=q2(t),u=Ws(r,a.length);return a[u](t,n,s)}}class Up extends Xn{constructor(t){super(),this.projection=Ke(t.projection),this.attributions_=my(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,r){n.viewResolver=s,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=my(t),this.changed()}setState(t){this.state_=t,this.changed()}}function my(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),t=>a):null}class mT extends Up{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&qe(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||It(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,r,u){return Dt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Np(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const r=this.getTileGridForProjection(s),u=this.getTilePixelRatio(n),c=qe(r.getTileSize(t),this.tmpSize);return u==1?c:zx(c,u,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=iT(r,t,s)),V2(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class yT extends Li{constructor(t,n){super(t),this.tile=n}}const Mf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Id extends mT{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Id.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=It(n),r=n.getState();let u;r==ct.LOADING?(this.tileLoadingKeys_[s]=!0,u=Mf.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],u=r==ct.ERROR?Mf.TILELOADERROR:r==ct.LOADED?Mf.TILELOADEND:void 0),u!=null&&this.dispatchEvent(new yT(u,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=fT(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(gT(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class pT extends Id{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:vT,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:Op,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!hf(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||hf(n,t)))return this.tileGrid;const s=It(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=Np(t)),this.tileGridForProjection[s]}createTile_(t,n,s,r,u,c){const h=[t,n,s],d=this.getTileCoordForTileUrlFunction(h,u),_=d?this.tileUrlFunction(d,r,u):void 0,m=new this.tileClass(h,_!==void 0?ct.IDLE:ct.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(yt.CHANGE,this.handleTileChange.bind(this)),m}getTile(t,n,s,r,u){const c=this.getProjection();if(!c||!u||hf(c,u))return this.getTileInternal(t,n,s,r,c||u);const h=[t,n,s],d=this.getKey(),_=this.getTileGridForProjection(c),m=this.getTileGridForProjection(u),y=this.getTileCoordForTileUrlFunction(h,u),v=new Dp(c,_,u,m,h,y,this.getTilePixelRatio(r),this.getGutter(),(S,x,b,T)=>this.getTileInternal(S,x,b,T,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return v.key=d,v}getTileInternal(t,n,s,r,u){const c=this.getKey();return this.createTile_(t,n,s,r,u,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=Ke(t);if(s){const r=It(s);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function vT(a,t){a.getImage().src=t}class ET extends pT{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:lT({extent:zd(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const ST='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class xT extends ET{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[ST];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}class Rr extends Xn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new Rr(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(jt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=wt(t,yt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?TT(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function TT(a){if(typeof a=="function")return a;let t;return Array.isArray(a)?t=a:(Lt(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[a]),function(){return t}}function qf(a,t,n,s,r,u,c){let h,d;const _=(n-t)/s;if(_===1)h=t;else if(_===2)h=t,d=r;else if(_!==0){let m=a[t],y=a[t+1],v=0;const S=[0];for(let T=t+s;T<n;T+=s){const A=a[T],w=a[T+1];v+=Math.sqrt((A-m)*(A-m)+(w-y)*(w-y)),S.push(v),m=A,y=w}const x=r*v,b=fE(S,x);b<0?(d=(x-S[-b-2])/(S[-b-1]-S[-b-2]),h=t+(-b-2)*s):h=t+b*s}c=c>1?c:2,u=u||new Array(c);for(let m=0;m<c;++m)u[m]=h===void 0?NaN:d===void 0?a[h+m]:ln(a[h+m],a[h+s+m],d);return u}function RT(a,t,n,s,r,u){if(n==t)return null;let c;if(r<a[t+s-1])return u?(c=a.slice(t,t+s),c[s-1]=r,c):null;if(a[n-1]<r)return u?(c=a.slice(n-s,n),c[s-1]=r,c):null;if(r==a[t+s-1])return a.slice(t,t+s);let h=t/s,d=n/s;for(;h<d;){const v=h+d>>1;r<a[(v+1)*s-1]?d=v:h=v+1}const _=a[h*s-1];if(r==_)return a.slice((h-1)*s,(h-1)*s+s);const m=a[(h+1)*s-1],y=(r-_)/(m-_);c=[];for(let v=0;v<s-1;++v)c.push(ln(a[(h-1)*s+v],a[h*s+v],y));return c.push(r),c}function Fp(a,t,n,s){let r=a[t],u=a[t+1],c=0;for(let h=t+s;h<n;h+=s){const d=a[h],_=a[h+1];c+=Math.sqrt((d-r)*(d-r)+(_-u)*(_-u)),r=d,u=_}return c}class Au extends ku{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){Ou(this.flatCoordinates,t),this.changed()}clone(){const t=new Au(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<Jf(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(od(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ud(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,s,r))}forEachSegment(t){return np(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,RT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return js(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return qf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return Fp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=Bu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Au(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return fd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cd(this.flatCoordinates,0,t,this.stride),this.changed()}}class Xp{drawCustom(t,n,s,r,u){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}class CT extends Xp{constructor(t,n,s,r,u,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=r,this.transformRotation_=r?Wf(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=u,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Un()}drawImages_(t,n,s,r){if(!this.image_)return;const u=fs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let _=this.imageRotation_;this.transformRotation_===0&&(_-=this.viewRotation_),this.imageRotateWithView_&&(_+=this.viewRotation_);for(let m=0,y=u.length;m<y;m+=2){const v=u[m]-this.imageAnchorX_,S=u[m+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=v+this.imageAnchorX_,b=S+this.imageAnchorY_;Di(h,x,b,1,1,_,-x,-b),c.save(),c.transform.apply(c,h),c.translate(x,b),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,S,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const u=fs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=r){const d=u[n]+this.textOffsetX_,_=u[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,_-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,_),this.textFillState_&&c.fillText(this.text_,d,_))}}moveToLineTo_(t,n,s,r,u){const c=this.context_,h=fs(t,n,s,r,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let d=h.length;u&&(d-=2);for(let _=2;_<d;_+=2)c.lineTo(h[_],h[_+1]);return u&&c.closePath(),s}drawRings_(t,n,s,r){for(let u=0,c=s.length;u<c;++u)n=this.moveToLineTo_(t,n,s[u],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Pe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=TS(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],r=n[3]-n[1],u=Math.sqrt(s*s+r*r),c=this.context_;c.beginPath(),c.arc(n[0],n[1],u,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,r=n.length;s<r;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Pe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Pe(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getFlatCoordinates();let u=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,_=c.length;d<_;++d)u=this.moveToLineTo_(r,u,c[d],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Pe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Pe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let r=0;const u=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,d=u.length;h<d;++h){const _=u[h];r=this.drawRings_(s,r,_,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),_s(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,r=t.textAlign?t.textAlign:zr;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=r&&(s.textAlign=r,n.textAlign=r),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:ti(s||Ze)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),r=n.getLineCap(),u=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),d=n.getWidth(),_=n.getMiterLimit(),m=u||Mi;this.strokeState_={lineCap:r!==void 0?r:ua,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Oi)*this.pixelRatio_,lineJoin:h!==void 0?h:ca,lineWidth:(d!==void 0?d:Ir)*this.pixelRatio_,miterLimit:_!==void 0?_:Dr,strokeStyle:ti(s||Lr)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),u=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*s,this.imageAnchorY_=r[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=u[0],this.imageOriginY_=u[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const S=n.getColor();this.textFillState_={fillStyle:ti(S||Ze)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const S=s.getColor(),x=s.getLineCap(),b=s.getLineDash(),T=s.getLineDashOffset(),A=s.getLineJoin(),w=s.getWidth(),N=s.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:ua,lineDash:b||Mi,lineDashOffset:T||Oi,lineJoin:A!==void 0?A:ca,lineWidth:w!==void 0?w:Ir,miterLimit:N!==void 0?N:Dr,strokeStyle:ti(S||Lr)}}const r=t.getFont(),u=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),_=t.getScaleArray(),m=t.getText(),y=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:r!==void 0?r:vp,textAlign:y!==void 0?y:zr,textBaseline:v!==void 0?v:xu},this.text_=m!==void 0?Array.isArray(m)?m.reduce((S,x,b)=>S+=b%2?" ":x,""):m:"",this.textOffsetX_=u!==void 0?this.pixelRatio_*u:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}}}const bT=.5,Yp={Point:IT,LineString:DT,Polygon:GT,MultiPoint:NT,MultiLineString:LT,MultiPolygon:zT,GeometryCollection:OT,Circle:wT};function AT(a,t){return parseInt(It(a),10)-parseInt(It(t),10)}function yy(a,t){const n=kp(a,t);return n*n}function kp(a,t){return bT*a/t}function wT(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(u||c){const d=a.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(u,c),d.drawCircle(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function py(a,t,n,s,r,u,c,h){const d=[],_=n.getImage();if(_){let v=!0;const S=_.getImageState();S==St.LOADED||S==St.ERROR?v=!1:S==St.IDLE&&_.load(),v&&d.push(_.ready())}const m=n.getFill();m&&m.loading()&&d.push(m.ready());const y=d.length>0;return y&&Promise.all(d).then(()=>r(null)),MT(a,t,n,s,u,c,h),y}function MT(a,t,n,s,r,u,c){const h=n.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,r);if(n.getRenderer())Bp(a,d,n,t,c);else{const m=Yp[d.getType()];m(a,d,n,t,c,u)}}function Bp(a,t,n,s,r){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)Bp(a,c[h],n,s,r);return}a.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),r)}function OT(a,t,n,s,r,u){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const _=Yp[c[h].getType()];_(a,c[h],n,s,r,u)}}function DT(a,t,n,s,r){const u=n.getStroke();if(u){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,u),h.drawLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function LT(a,t,n,s,r){const u=n.getStroke();if(u){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,u),h.drawMultiLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function zT(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(c||u){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawMultiPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}function IT(a,t,n,s,r,u){const c=n.getImage(),h=n.getText(),d=h&&h.getText(),_=u&&c&&d?{}:void 0;if(c){if(c.getImageState()!=St.LOADED)return;const m=a.getBuilder(n.getZIndex(),"Image");m.setImageStyle(c,_),m.drawPoint(t,s,r)}if(d){const m=a.getBuilder(n.getZIndex(),"Text");m.setTextStyle(h,_),m.drawText(t,s,r)}}function NT(a,t,n,s,r,u){const c=n.getImage(),h=c&&c.getOpacity()!==0,d=n.getText(),_=d&&d.getText(),m=u&&h&&_?{}:void 0;if(h){if(c.getImageState()!=St.LOADED)return;const y=a.getBuilder(n.getZIndex(),"Image");y.setImageStyle(c,m),y.drawMultiPoint(t,s,r)}if(_){const y=a.getBuilder(n.getZIndex(),"Text");y.setTextStyle(d,m),y.drawText(t,s,r)}}function GT(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(u||c){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}let UT=!1;function FT(a,t,n,s,r,u,c){const h=new XMLHttpRequest;h.open("GET",typeof a=="function"?a(n,s,r):a,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=UT,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const _=t.getType();try{let m;_=="text"||_=="json"?m=h.responseText:_=="xml"?m=h.responseXML||h.responseText:_=="arraybuffer"&&(m=h.response),m?u(t.readFeatures(m,{extent:n,featureProjection:r}),t.readProjection(m)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function vy(a,t){return function(n,s,r,u,c){FT(a,t,n,s,r,(h,d)=>{this.addFeatures(h),u!==void 0&&u(h)},c||sa)}}function XT(a,t){return[[-1/0,-1/0,1/0,1/0]]}function YT(a,t,n,s){const r=[];let u=Rn();for(let c=0,h=n.length;c<h;++c){const d=n[c];u=$f(a,t,d[0],s),r.push((u[0]+u[2])/2,(u[1]+u[3])/2),t=d[d.length-1]}return r}const Ey=Un();class Nn{constructor(t,n,s,r,u,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=u,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Ny(this.flatCoordinates_):$f(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Js(this.getExtent());this.flatInteriorPoints_=hd(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=GS(this.flatCoordinates_,this.ends_),n=YT(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=LS(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=qf(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let r=0,u=s.length;r<u;++r){const c=s[r],h=qf(t,n,c,2,.5);Ou(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=Ke(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const r=Ue(s)/Ue(n);Di(Ey,s[0],s[3],r,-r,0,0,0),fs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Ey,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new Nn(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Ay((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":s.length=Bu(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),r=[s.length];break;case"MultiLineString":r=[],s.length=MS(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,r);break;case"Polygon":r=[],s.length=tp(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,r);break}return r&&(this.simplifiedGeometry_=new Nn(this.type_,s,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Nn.prototype.getFlatCoordinates=Nn.prototype.getOrientedFlatCoordinates;class Sy{constructor(t){this.rbush_=new fp(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[It(n)]=s}load(t,n){const s=new Array(n.length);for(let r=0,u=n.length;r<u;r++){const c=t[r],h=n[r],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[r]=d,this.items_[It(h)]=d}this.rbush_.load(s)}remove(t){const n=It(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[It(n)],r=[s.minX,s.minY,s.maxX,s.maxY];br(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let r=0,u=t.length;r<u;r++)if(s=n(t[r]),s)return s;return s}isEmpty(){return la(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return gs(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}const En={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class ss extends Li{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class kT extends Up{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=sa,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Lt(this.format_,"`format` must be set when `url` is set"),this.loader_=vy(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:XT;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new Sy:null,this.loadedExtentsRtree_=new Sy,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,r;Array.isArray(t.features)?r=t.features:t.features&&(s=t.features,r=s.getArray()),!n&&s===void 0&&(s=new $n(r)),r!==void 0&&this.addFeaturesInternal(r),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=It(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const r=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new ss(En.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof Nn||(this.featureChangeKeys_[t]=[wt(n,yt.CHANGE,this.handleFeatureChange_,this),wt(n,ia.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof Nn){const u=this.idIndex_[r];u instanceof Nn?Array.isArray(u)?u.push(n):this.idIndex_[r]=[u,n]:s=!1}else s=!1}return s&&(Lt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],r=[];for(let u=0,c=t.length;u<c;u++){const h=t[u],d=It(h);this.addToIndex_(d,h)&&s.push(h)}for(let u=0,c=s.length;u<c;u++){const h=s[u],d=It(h);this.setupChangeEvents_(d,h);const _=h.getGeometry();if(_){const m=_.getExtent();n.push(m),r.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(En.ADDFEATURE))for(let u=0,c=s.length;u<c;u++)this.dispatchEvent(new ss(En.ADDFEATURE,s[u]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(En.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(En.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(Be.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(Be.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(jt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new ss(En.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(r){const u=r.getGeometry();if(u instanceof Nn||u.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const r=s.getGeometry();if(r instanceof Nn||r.intersectsExtent(t)){const u=n(s);if(u)return u}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),la(this.nullGeometryFeatures_)||Ou(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=Yy(t,n);return[].concat(...r.map(u=>this.featuresRtree_.getInExtent(u)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],r=t[1];let u=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||Cr,this.featuresRtree_.forEachInExtent(d,function(_){if(n(_)){const m=_.getGeometry(),y=h;if(h=m instanceof Nn?0:m.closestPointXY(s,r,c,h),h<y){u=_;const v=Math.sqrt(h);d[0]=s-v,d[1]=r-v,d[2]=s+v,d[3]=r+v}}}),u}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=It(n),r=n.getGeometry();if(!r)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=r.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const u=n.getId();if(u!==void 0){const c=u.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new ss(En.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:It(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&la(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const r=this.loadedExtentsRtree_,u=this.strategy_(t,n,s);for(let c=0,h=u.length;c<h;++c){const d=u[c];r.forEachInExtent(d,function(m){return Vl(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new ss(En.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new ss(En.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ss(En.FEATURESLOADERROR))}),r.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(r){if(br(r.extent,t))return r});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,r=t.length;s<r;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=It(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);const s=this.featureChangeKeys_[n];s==null||s.forEach(jt),delete this.featureChangeKeys_[n];const r=t.getId();if(r!==void 0){const u=r.toString(),c=this.idIndex_[u];c===t?delete this.idIndex_[u]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[u]=c[0]))}return delete this.uidIndex_[n],this.hasListener(En.REMOVEFEATURE)&&this.dispatchEvent(new ss(En.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){Lt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(vy(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const ht={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},du=[ht.FILL],cs=[ht.STROKE],Vs=[ht.BEGIN_PATH],xy=[ht.CLOSE_PATH];class Pr extends Xp{constructor(t,n,s,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,u=this.coordinates;let c=u.length;for(let h=0,d=t.length;h<d;h+=n)r[0]=t[h],r[1]=t[h+1],aa(s,r)&&(u[c++]=r[0],u[c++]=r[1]);return c}appendFlatLineCoordinates(t,n,s,r,u,c){const h=this.coordinates;let d=h.length;const _=this.getBufferedMaxExtent();c&&(n+=r);let m=t[n],y=t[n+1];const v=this.tmpCoordinate_;let S=!0,x,b,T;for(x=n+r;x<s;x+=r)v[0]=t[x],v[1]=t[x+1],T=If(_,v),T!==b?(S&&(h[d++]=m,h[d++]=y,S=!1),h[d++]=v[0],h[d++]=v[1]):T===de.INTERSECTING?(h[d++]=v[0],h[d++]=v[1],S=!1):S=!0,m=v[0],y=v[1],b=T;return(u&&S||x===n+r)&&(h[d++]=m,h[d++]=y),d}drawCustomCoordinates_(t,n,s,r,u){for(let c=0,h=s.length;c<h;++c){const d=s[c],_=this.appendFlatLineCoordinates(t,n,d,r,!1,!1);u.push(_),n=d}return n}drawCustom(t,n,s,r,u){this.beginGeometry(t,n,u);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let _,m,y,v,S;switch(c){case"MultiPolygon":_=t.getOrientedFlatCoordinates(),v=[];const x=t.getEndss();S=0;for(let b=0,T=x.length;b<T;++b){const A=[];S=this.drawCustomCoordinates_(_,S,x[b],h,A),v.push(A)}this.instructions.push([ht.CUSTOM,d,v,t,s,X0,u]),this.hitDetectionInstructions.push([ht.CUSTOM,d,v,t,r||s,X0,u]);break;case"Polygon":case"MultiLineString":y=[],_=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),S=this.drawCustomCoordinates_(_,0,t.getEnds(),h,y),this.instructions.push([ht.CUSTOM,d,y,t,s,Eu,u]),this.hitDetectionInstructions.push([ht.CUSTOM,d,y,t,r||s,Eu,u]);break;case"LineString":case"Circle":_=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(_,0,_.length,h,!1,!1),this.instructions.push([ht.CUSTOM,d,m,t,s,js,u]),this.hitDetectionInstructions.push([ht.CUSTOM,d,m,t,r||s,js,u]);break;case"MultiPoint":_=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(_,h),m>d&&(this.instructions.push([ht.CUSTOM,d,m,t,s,js,u]),this.hitDetectionInstructions.push([ht.CUSTOM,d,m,t,r||s,js,u]));break;case"Point":_=t.getFlatCoordinates(),this.coordinates.push(_[0],_[1]),m=this.coordinates.length,this.instructions.push([ht.CUSTOM,d,m,t,s,void 0,u]),this.hitDetectionInstructions.push([ht.CUSTOM,d,m,t,r||s,void 0,u]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[ht.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ht.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let r,u,c=-1;for(n=0;n<s;++n)r=t[n],u=r[0],u==ht.END_GEOMETRY?c=n:u==ht.BEGIN_GEOMETRY&&(r[2]=n,gE(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=ti(s||Ze)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=ti(s||Lr);const r=t.getLineCap();n.lineCap=r!==void 0?r:ua;const u=t.getLineDash();n.lineDash=u?u.slice():Mi;const c=t.getLineDashOffset();n.lineDashOffset=c||Oi;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:ca;const d=t.getWidth();n.lineWidth=d!==void 0?d:Ir;const _=t.getMiterLimit();n.miterLimit=_!==void 0?_:Dr,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[ht.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ht.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(s!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,r=t.lineCap,u=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,_=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=r||u!=t.currentLineDash&&!_s(t.currentLineDash,u)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=_)&&(s!==void 0&&n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=r,t.currentLineDash=u,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=_)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[ht.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=zy(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Qf(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class BT extends Pr{constructor(t,n,s,r){super(t,n,s,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!aa(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),u=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(r,u);this.instructions.push([ht.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),u=[];for(let d=0,_=r.length;d<_;d+=t.getStride())(!this.maxExtent||aa(this.maxExtent,r.slice(d,d+2)))&&u.push(r[d],r[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(u,2);this.instructions.push([ht.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),r=t.getSize(),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class HT extends Pr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinates_(t,n,s,r){const u=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,r,!1,!1),h=[ht.MOVE_TO_LINE_TO,u,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Oi],Vs);const h=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(h,0,h.length,d),this.hitDetectionInstructions.push(cs),this.endGeometry(n)}drawMultiLineString(t,n,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Oi],Vs);const h=t.getEnds(),d=t.getFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,v=h.length;y<v;++y)m=this.drawFlatCoordinates_(d,m,h[y],_);this.hitDetectionInstructions.push(cs),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(cs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(cs),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Vs)}}class Ty extends Pr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinatess_(t,n,s,r){const u=this.state,c=u.fillStyle!==void 0,h=u.strokeStyle!==void 0,d=s.length;this.instructions.push(Vs),this.hitDetectionInstructions.push(Vs);for(let _=0;_<d;++_){const m=s[_],y=this.coordinates.length,v=this.appendFlatLineCoordinates(t,n,m,r,!0,!h),S=[ht.MOVE_TO_LINE_TO,y,v];this.instructions.push(S),this.hitDetectionInstructions.push(S),h&&(this.instructions.push(xy),this.hitDetectionInstructions.push(xy)),n=m}return c&&(this.instructions.push(du),this.hitDetectionInstructions.push(du)),h&&(this.instructions.push(cs),this.hitDetectionInstructions.push(cs)),n}drawCircle(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,Ze]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Oi]);const h=t.getFlatCoordinates(),d=t.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,d,!1,!1);const m=[ht.CIRCLE,_];this.instructions.push(Vs,m),this.hitDetectionInstructions.push(Vs,m),r.fillStyle!==void 0&&(this.instructions.push(du),this.hitDetectionInstructions.push(du)),r.strokeStyle!==void 0&&(this.instructions.push(cs),this.hitDetectionInstructions.push(cs)),this.endGeometry(n)}drawPolygon(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,Ze]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Oi]);const h=t.getEnds(),d=t.getOrientedFlatCoordinates(),_=t.getStride();this.drawFlatCoordinatess_(d,0,h,_),this.endGeometry(n)}drawMultiPolygon(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,Ze]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Mi,Oi]);const h=t.getEndss(),d=t.getOrientedFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,v=h.length;y<v;++y)m=this.drawFlatCoordinatess_(d,m,h[y],_);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,r=n.length;s<r;++s)n[s]=Zs(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function ZT(a,t,n,s,r){const u=[];let c=n,h=0,d=t.slice(n,2);for(;h<a&&c+r<s;){const[_,m]=d.slice(-2),y=t[c+r],v=t[c+r+1],S=Math.sqrt((y-_)*(y-_)+(v-m)*(v-m));if(h+=S,h>=a){const x=(a-h+S)/S,b=ln(_,y,x),T=ln(m,v,x);d.push(b,T),u.push(d),d=[b,T],h==a&&(c+=r),h=0}else if(h<a)d.push(t[c+r],t[c+r+1]),c+=r;else{const x=S-h,b=ln(_,y,x/S),T=ln(m,v,x/S);d.push(b,T),u.push(d),d=[b,T],h=0,c+=r}}return h>0&&u.push(d),u}function PT(a,t,n,s,r){let u=n,c=n,h=0,d=0,_=n,m,y,v,S,x,b,T,A,w,N;for(y=n;y<s;y+=r){const L=t[y],O=t[y+1];x!==void 0&&(w=L-x,N=O-b,S=Math.sqrt(w*w+N*N),T!==void 0&&(d+=v,m=Math.acos((T*w+A*N)/(v*S)),m>a&&(d>h&&(h=d,u=_,c=y),d=0,_=y-r)),v=S,T=w,A=N),x=L,b=O}return d+=S,d>h?[_,y]:[u,c]}const wu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class jT extends Pr{constructor(t,n,s,r){super(t,n,s,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Ze]={fillStyle:Ze},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const r=this.textFillState_,u=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!r&&!u)return;const h=this.coordinates;let d=h.length;const _=t.getType();let m=null,y=t.getStride();if(c.placement==="line"&&(_=="LineString"||_=="MultiLineString"||_=="Polygon"||_=="MultiPolygon")){if(!Pe(this.maxExtent,t.getExtent()))return;let v;if(m=t.getFlatCoordinates(),_=="LineString")v=[m.length];else if(_=="MultiLineString")v=t.getEnds();else if(_=="Polygon")v=t.getEnds().slice(0,1);else if(_=="MultiPolygon"){const T=t.getEndss();v=[];for(let A=0,w=T.length;A<w;++A)v.push(T[A][0])}this.beginGeometry(t,n,s);const S=c.repeat,x=S?void 0:c.textAlign;let b=0;for(let T=0,A=v.length;T<A;++T){let w;S?w=ZT(S*this.resolution,m,b,v[T],y):w=[m.slice(b,v[T])];for(let N=0,L=w.length;N<L;++N){const O=w[N];let j=0,V=O.length;if(x==null){const U=PT(c.maxAngle,O,0,O.length,2);j=U[0],V=U[1]}for(let U=j;U<V;U+=y)h.push(O[U],O[U+1]);const Z=h.length;b=v[T],this.drawChars_(d,Z),d=Z}}this.endGeometry(n)}else{let v=c.overflow?null:[];switch(_){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),y=2;break;case"Polygon":m=t.getFlatInteriorPoint(),c.overflow||v.push(m[2]/this.resolution),y=3;break;case"MultiPolygon":const L=t.getFlatInteriorPoints();m=[];for(let O=0,j=L.length;O<j;O+=3)c.overflow||v.push(L[O+2]/this.resolution),m.push(L[O],L[O+1]);if(m.length===0)return;y=2;break}const S=this.appendFlatPointCoordinates(m,y);if(S===d)return;if(v&&(S-d)/2!==m.length/y){let L=d/2;v=v.filter((O,j)=>{const V=h[(L+j)*2]===m[j*y]&&h[(L+j)*2+1]===m[j*y+1];return V||--L,V})}this.saveTextStates_();const x=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,b=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let T=c.padding;if(T!=Ks&&(c.scale[0]<0||c.scale[1]<0)){let L=c.padding[0],O=c.padding[1],j=c.padding[2],V=c.padding[3];c.scale[0]<0&&(O=-O,V=-V),c.scale[1]<0&&(L=-L,j=-j),T=[L,O,j,V]}const A=this.pixelRatio;this.instructions.push([ht.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,T==Ks?Ks:T.map(function(L){return L*A}),x,b,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const w=1/A,N=x?x.slice(0):null;N&&(N[1]=Ze),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,this.declutterMode_,this.declutterImageWithText_,T,N,b,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Ze:this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const u=this.textKey_;u in this.textStates||(this.textStates[u]={font:n.font,textAlign:n.textAlign||zr,justify:n.justify,textBaseline:n.textBaseline||xu,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,r=this.textState_,u=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,_=wu[r.textBaseline],m=this.textOffsetY_*d,y=this.text_,v=s?s.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([ht.DRAW_CHARS,t,n,_,r.overflow,h,r.maxAngle,d,m,u,v*d,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ht.DRAW_CHARS,t,n,_,r.overflow,h&&Ze,r.maxAngle,d,m,u,v*d,y,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,r,u;if(!t)this.text_="";else{const c=t.getFill();c?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=ti(c.getColor()||Ze)):(r=null,this.textFillState_=r);const h=t.getStroke();if(!h)u=null,this.textStrokeState_=u;else{u=this.textStrokeState_,u||(u={},this.textStrokeState_=u);const b=h.getLineDash(),T=h.getLineDashOffset(),A=h.getWidth(),w=h.getMiterLimit();u.lineCap=h.getLineCap()||ua,u.lineDash=b?b.slice():Mi,u.lineDashOffset=T===void 0?Oi:T,u.lineJoin=h.getLineJoin()||ca,u.lineWidth=A===void 0?Ir:A,u.miterLimit=w===void 0?Dr:w,u.strokeStyle=ti(h.getColor()||Lr)}s=this.textState_;const d=t.getFont()||vp;u2(d);const _=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||xu,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||Ks,s.scale=_===void 0?[1,1]:_;const m=t.getOffsetX(),y=t.getOffsetY(),v=t.getRotateWithView(),S=t.getKeepUpright(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=v===void 0?!1:v,this.textKeepUpright_=S===void 0?!0:S,this.textRotation_=x===void 0?0:x,this.strokeKey_=u?(typeof u.strokeStyle=="string"?u.strokeStyle:It(u.strokeStyle))+u.lineCap+u.lineDashOffset+"|"+u.lineWidth+u.lineJoin+u.miterLimit+"["+u.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+It(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const qT={Circle:Ty,Default:Pr,Image:BT,LineString:HT,Polygon:Ty,Text:jT};class KT{constructor(t,n,s,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const r in s){const u=s[r].finish();t[n][r]=u}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[s];r===void 0&&(r={},this.buildersByZIndex_[s]=r);let u=r[n];if(u===void 0){const c=qT[n];u=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=u}return u}}function VT(a,t,n,s,r,u,c,h,d,_,m,y,v=!0){let S=a[t],x=a[t+1],b=0,T=0,A=0,w=0;function N(){b=S,T=x,t+=s,S=a[t],x=a[t+1],w+=A,A=Math.sqrt((S-b)*(S-b)+(x-T)*(x-T))}do N();while(t<n-s&&w+A<u);let L=A===0?0:(u-w)/A;const O=ln(b,S,L),j=ln(T,x,L),V=t-s,Z=w,U=u+h*d(_,r,m);for(;t<n-s&&w+A<U;)N();L=A===0?0:(U-w)/A;const K=ln(b,S,L),it=ln(T,x,L);let st=!1;if(v)if(y){const Q=[O,j,K,it];Jy(Q,0,4,2,y,Q,Q),st=Q[0]>Q[2]}else st=O>K;const rt=Math.PI,$=[],dt=V+s===t;t=V,A=0,w=Z,S=a[t],x=a[t+1];let X;if(dt){N(),X=Math.atan2(x-T,S-b),st&&(X+=X>0?-rt:rt);const Q=(K+O)/2,W=(it+j)/2;return $[0]=[Q,W,(U-u)/2,X,r],$}r=r.replace(/\n/g," ");for(let Q=0,W=r.length;Q<W;){N();let et=Math.atan2(x-T,S-b);if(st&&(et+=et>0?-rt:rt),X!==void 0){let lt=et-X;if(lt+=lt>rt?-2*rt:lt<-rt?2*rt:0,Math.abs(lt)>c)return null}X=et;const C=Q;let Y=0;for(;Q<W;++Q){const lt=st?W-Q-1:Q,ut=h*d(_,r[lt],m);if(t+s<n&&w+A<u+Y+ut/2)break;Y+=ut}if(Q===C)continue;const F=st?r.substring(W-C,W-Q):r.substring(C,Q);L=A===0?0:(u+Y/2-w)/A;const tt=ln(b,S,L),J=ln(T,x,L);$.push([tt,J,Y/2,et,F]),u+=Y}return $}const Zl=Rn(),ls=[],xi=[],Ti=[],as=[];function Ry(a){return a[3].declutterBox}const Cy=new RegExp("[-----]");function Of(a,t){return t==="start"?t=Cy.test(a)?"right":"left":t==="end"&&(t=Cy.test(a)?"left":"right"),wu[t]}function WT(a,t,n){return n>0&&a.push(`
`,""),a.push(t,""),a}class QT{constructor(t,n,s,r,u){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Un(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=u?new Lp:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,r){const u=t+n+s+r;if(this.labels_[u])return this.labels_[u];const c=r?this.strokeStates[r]:null,h=s?this.fillStates[s]:null,d=this.textStates[n],_=this.pixelRatio,m=[d.scale[0]*_,d.scale[1]*_],y=d.justify?wu[d.justify]:Of(Array.isArray(t)?t[0]:t,d.textAlign||zr),v=r&&c.lineWidth?c.lineWidth:0,S=Array.isArray(t)?t:String(t).split(`
`).reduce(WT,[]),{width:x,height:b,widths:T,heights:A,lineWidths:w}=h2(d,S),N=x+v,L=[],O=(N+2)*m[0],j=(b+v)*m[1],V={width:O<0?Math.floor(O):Math.ceil(O),height:j<0?Math.floor(j):Math.ceil(j),contextInstructions:L};(m[0]!=1||m[1]!=1)&&L.push("scale",m),r&&(L.push("strokeStyle",c.strokeStyle),L.push("lineWidth",v),L.push("lineCap",c.lineCap),L.push("lineJoin",c.lineJoin),L.push("miterLimit",c.miterLimit),L.push("setLineDash",[c.lineDash]),L.push("lineDashOffset",c.lineDashOffset)),s&&L.push("fillStyle",h.fillStyle),L.push("textBaseline","middle"),L.push("textAlign","center");const Z=.5-y;let U=y*N+Z*v;const K=[],it=[];let st=0,rt=0,$=0,dt=0,X;for(let Q=0,W=S.length;Q<W;Q+=2){const et=S[Q];if(et===`
`){rt+=st,st=0,U=y*N+Z*v,++dt;continue}const C=S[Q+1]||d.font;C!==X&&(r&&K.push("font",C),s&&it.push("font",C),X=C),st=Math.max(st,A[$]);const Y=[et,U+Z*T[$]+y*(T[$]-w[dt]),.5*(v+st)+rt];U+=T[$],r&&K.push("strokeText",Y),s&&it.push("fillText",Y),++$}return Array.prototype.push.apply(L,K),Array.prototype.push.apply(L,it),this.labels_[u]=V,V}replayTextBackground_(t,n,s,r,u,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,u),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,r,u,c,h,d,_,m,y,v,S,x,b,T){h*=v[0],d*=v[1];let A=s-h,w=r-d;const N=u+_>t?t-_:u,L=c+m>n?n-m:c,O=x[3]+N*v[0]+x[1],j=x[0]+L*v[1]+x[2],V=A-x[3],Z=w-x[0];(b||y!==0)&&(ls[0]=V,as[0]=V,ls[1]=Z,xi[1]=Z,xi[0]=V+O,Ti[0]=xi[0],Ti[1]=Z+j,as[1]=Ti[1]);let U;return y!==0?(U=Di(Un(),s,r,1,1,y,-s,-r),ge(U,ls),ge(U,xi),ge(U,Ti),ge(U,as),gs(Math.min(ls[0],xi[0],Ti[0],as[0]),Math.min(ls[1],xi[1],Ti[1],as[1]),Math.max(ls[0],xi[0],Ti[0],as[0]),Math.max(ls[1],xi[1],Ti[1],as[1]),Zl)):gs(Math.min(V,V+O),Math.min(Z,Z+j),Math.max(V,V+O),Math.max(Z,Z+j),Zl),S&&(A=Math.round(A),w=Math.round(w)),{drawImageX:A,drawImageY:w,drawImageW:N,drawImageH:L,originX:_,originY:m,declutterBox:{minX:Zl[0],minY:Zl[1],maxX:Zl[2],maxY:Zl[3],value:T},canvasTransform:U,scale:v}}replayImageOrLabel_(t,n,s,r,u,c,h){const d=!!(c||h),_=r.declutterBox,m=h?h[2]*r.scale[0]/2:0;return _.minX-m<=n[0]&&_.maxX+m>=0&&_.minY-m<=n[1]&&_.maxY+m>=0&&(d&&this.replayTextBackground_(t,ls,xi,Ti,as,c,h),f2(t,r.canvasTransform,u,s,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=ge(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(s[0]%r,s[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,s,r){const u=this.textStates[n],c=this.createLabel(t,n,r,s),h=this.strokeStates[s],d=this.pixelRatio,_=Of(Array.isArray(t)?t[0]:t,u.textAlign||zr),m=wu[u.textBaseline||xu],y=h&&h.lineWidth?h.lineWidth:0,v=c.width/d-2*u.scale[0],S=_*v+2*(.5-_)*y,x=m*c.height/d+2*(.5-m)*y;return{label:c,anchorX:S,anchorY:x}}execute_(t,n,s,r,u,c,h,d){const _=this.zIndexContext_;let m;this.pixelCoordinates_&&_s(s,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=fs(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),_S(this.renderedTransform_,s));let y=0;const v=r.length;let S=0,x,b,T,A,w,N,L,O,j,V,Z,U,K,it=0,st=0;const rt=this.coordinateCache_,$=this.viewRotation_,dt=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,X={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:$},Q=this.instructions!=r||this.overlaps?0:200;let W,et,C,Y;for(;y<v;){const F=r[y];switch(F[0]){case ht.BEGIN_GEOMETRY:W=F[1],Y=F[3],W.getGeometry()?h!==void 0&&!Pe(h,Y.getExtent())?y=F[2]+1:++y:y=F[2],_&&(_.zIndex=F[4]);break;case ht.BEGIN_PATH:it>Q&&(this.fill_(t),it=0),st>Q&&(t.stroke(),st=0),!it&&!st&&(t.beginPath(),w=NaN,N=NaN),++y;break;case ht.CIRCLE:S=F[1];const J=m[S],lt=m[S+1],ut=m[S+2],Nt=m[S+3],_t=ut-J,Ft=Nt-lt,pt=Math.sqrt(_t*_t+Ft*Ft);t.moveTo(J+pt,lt),t.arc(J,lt,pt,0,2*Math.PI,!0),++y;break;case ht.CLOSE_PATH:t.closePath(),++y;break;case ht.CUSTOM:S=F[1],x=F[2];const De=F[3],Yn=F[4],Ve=F[5];X.geometry=De,X.feature=W,y in rt||(rt[y]=[]);const We=rt[y];Ve?Ve(m,S,x,2,We):(We[0]=m[S],We[1]=m[S+1],We.length=2),_&&(_.zIndex=F[6]),Yn(We,X),++y;break;case ht.DRAW_IMAGE:S=F[1],x=F[2],j=F[3],b=F[4],T=F[5];let kn=F[6];const me=F[7],Fe=F[8],Cn=F[9],bn=F[10];let Bn=F[11];const ni=F[12];let An=F[13];A=F[14]||"declutter";const ii=F[15];if(!j&&F.length>=20){V=F[19],Z=F[20],U=F[21],K=F[22];const re=this.drawLabelWithPointPlacement_(V,Z,U,K);j=re.label,F[3]=j;const si=F[23];b=(re.anchorX-si)*this.pixelRatio,F[4]=b;const Le=F[24];T=(re.anchorY-Le)*this.pixelRatio,F[5]=T,kn=j.height,F[6]=kn,An=j.width,F[13]=An}let kt;F.length>25&&(kt=F[25]);let ga,ms,ys;F.length>17?(ga=F[16],ms=F[17],ys=F[18]):(ga=Ks,ms=null,ys=null),bn&&dt?Bn+=$:!bn&&!dt&&(Bn-=$);let nl=0;for(;S<x;S+=2){if(kt&&kt[nl++]<An/this.pixelRatio)continue;const re=this.calculateImageOrLabelDimensions_(j.width,j.height,m[S],m[S+1],An,kn,b,T,Fe,Cn,Bn,ni,u,ga,!!ms||!!ys,W),si=[t,n,j,re,me,ms,ys];if(d){let Le,Qe,Te;if(ii){const Pt=x-S;if(!ii[Pt]){ii[Pt]={args:si,declutterMode:A};continue}const oe=ii[Pt];Le=oe.args,Qe=oe.declutterMode,delete ii[Pt],Te=Ry(Le)}let ze,wn;if(Le&&(Qe!=="declutter"||!d.collides(Te))&&(ze=!0),(A!=="declutter"||!d.collides(re.declutterBox))&&(wn=!0),Qe==="declutter"&&A==="declutter"){const Pt=ze&&wn;ze=Pt,wn=Pt}ze&&(Qe!=="none"&&d.insert(Te),this.replayImageOrLabel_.apply(this,Le)),wn&&(A!=="none"&&d.insert(re.declutterBox),this.replayImageOrLabel_.apply(this,si))}else this.replayImageOrLabel_.apply(this,si)}++y;break;case ht.DRAW_CHARS:const jr=F[1],_a=F[2],ma=F[3],Qu=F[4];K=F[5];const ps=F[6],Se=F[7],qr=F[8];U=F[9];const an=F[10];V=F[11],Z=F[12];const xe=[F[13],F[13]];A=F[14]||"declutter";const Ju=F[15],ya=this.textStates[Z],vs=ya.font,Hn=[ya.scale[0]*Se,ya.scale[1]*Se];let Zn;vs in this.widths_?Zn=this.widths_[vs]:(Zn={},this.widths_[vs]=Zn);const Pn=Fp(m,jr,_a,2),Es=Math.abs(Hn[0])*ny(vs,V,Zn);if(Qu||Es<=Pn){const re=this.textStates[Z].textAlign,si=(Pn-Es)*Of(V,re),Le=VT(m,jr,_a,2,V,si,ps,Math.abs(Hn[0]),ny,vs,Zn,dt?0:this.viewRotation_,Ju);t:if(Le){const Qe=[];let Te,ze,wn,Pt,oe;if(U)for(Te=0,ze=Le.length;Te<ze;++Te){oe=Le[Te],wn=oe[4],Pt=this.createLabel(wn,Z,"",U),b=oe[2]+(Hn[0]<0?-an:an),T=ma*Pt.height+(.5-ma)*2*an*Hn[1]/Hn[0]-qr;const rn=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,oe[0],oe[1],Pt.width,Pt.height,b,T,0,0,oe[3],xe,!1,Ks,!1,W);if(d&&A==="declutter"&&d.collides(rn.declutterBox))break t;Qe.push([t,n,Pt,rn,1,null,null])}if(K)for(Te=0,ze=Le.length;Te<ze;++Te){oe=Le[Te],wn=oe[4],Pt=this.createLabel(wn,Z,K,""),b=oe[2],T=ma*Pt.height-qr;const rn=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,oe[0],oe[1],Pt.width,Pt.height,b,T,0,0,oe[3],xe,!1,Ks,!1,W);if(d&&A==="declutter"&&d.collides(rn.declutterBox))break t;Qe.push([t,n,Pt,rn,1,null,null])}d&&A!=="none"&&d.load(Qe.map(Ry));for(let rn=0,Kr=Qe.length;rn<Kr;++rn)this.replayImageOrLabel_.apply(this,Qe[rn])}}++y;break;case ht.END_GEOMETRY:if(c!==void 0){W=F[1];const re=c(W,Y,A);if(re)return re}++y;break;case ht.FILL:Q?it++:this.fill_(t),++y;break;case ht.MOVE_TO_LINE_TO:for(S=F[1],x=F[2],et=m[S],C=m[S+1],t.moveTo(et,C),w=et+.5|0,N=C+.5|0,S+=2;S<x;S+=2)et=m[S],C=m[S+1],L=et+.5|0,O=C+.5|0,(S==x-2||L!==w||O!==N)&&(t.lineTo(et,C),w=L,N=O);++y;break;case ht.SET_FILL_STYLE:this.alignAndScaleFill_=F[2],it&&(this.fill_(t),it=0,st&&(t.stroke(),st=0)),t.fillStyle=F[1],++y;break;case ht.SET_STROKE_STYLE:st&&(t.stroke(),st=0),this.setStrokeStyle_(t,F),++y;break;case ht.STROKE:Q?st++:t.stroke(),++y;break;default:++y;break}}it&&this.fill_(t),st&&t.stroke()}execute(t,n,s,r,u,c){this.viewRotation_=r,this.execute_(t,n,s,this.instructions,u,void 0,void 0,c)}executeHitDetection(t,n,s,r,u){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,u)}}const Ql=["Polygon","Circle","LineString","Image","Text","Default"],Hp=["Image","Text"],JT=Ql.filter(a=>!Hp.includes(a));class $T{constructor(t,n,s,r,u,c,h){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Un(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(u,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let r=this.executorsByZIndex_[s];r===void 0&&(r={},this.executorsByZIndex_[s]=r);const u=t[s];for(const c in u){const h=u[c];r[c]=new QT(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let r=0,u=t.length;r<u;++r)if(t[r]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,r,u,c){r=Math.round(r);const h=r*2+1,d=Di(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-s,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=_e(h,h,void 0,{willReadFrequently:!0}));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):_||m.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=Rn(),Tr(y,t),Qf(y,n*(this.renderBuffer_+r),y));const v=tR(r);let S;function x(O,j,V){const Z=m.getImageData(0,0,h,h).data;for(let U=0,K=v.length;U<K;U++)if(Z[v[U]]>0){if(!c||V==="none"||S!=="Image"&&S!=="Text"||c.includes(O)){const it=(v[U]-3)/4,st=r-it%h,rt=r-(it/h|0),$=u(O,j,st*st+rt*rt);if($)return $}m.clearRect(0,0,h,h);break}}const b=Object.keys(this.executorsByZIndex_).map(Number);b.sort(wi);let T,A,w,N,L;for(T=b.length-1;T>=0;--T){const O=b[T].toString();for(w=this.executorsByZIndex_[O],A=Ql.length-1;A>=0;--A)if(S=Ql[A],N=w[S],N!==void 0&&(L=N.executeHitDetection(m,d,s,x,y),L))return L}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],r=n[1],u=n[2],c=n[3],h=[s,r,s,c,u,c,u,r];return fs(h,0,8,2,t,h),h}isEmpty(){return la(this.executorsByZIndex_)}execute(t,n,s,r,u,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?dE:wi),c=c||Ql;const _=Ql.length;for(let m=0,y=d.length;m<y;++m){const v=d[m].toString(),S=this.executorsByZIndex_[v];for(let x=0,b=c.length;x<b;++x){const T=c[x],A=S[T];if(A!==void 0){const w=h===null?void 0:A.getZIndexContext(),N=w?w.getContext():t,L=this.maxExtent_&&T!=="Image"&&T!=="Text";if(L&&(N.save(),this.clip(N,s)),!w||T==="Text"||T==="Image"?A.execute(N,n,s,r,u,h):w.pushFunction(O=>A.execute(O,n,s,r,u,h)),L&&N.restore(),w){w.offset();const O=d[m]*_+x;this.deferredZIndexContexts_[O]||(this.deferredZIndexContexts_[O]=[]),this.deferredZIndexContexts_[O].push(w)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(wi);for(let s=0,r=n.length;s<r;++s)t[n[s]].forEach(u=>{u.draw(this.renderedContext_),u.clear()}),t[n[s]].length=0}}const Df={};function tR(a){if(Df[a]!==void 0)return Df[a];const t=a*2+1,n=a*a,s=new Array(n+1);for(let u=0;u<=a;++u)for(let c=0;c<=a;++c){const h=u*u+c*c;if(h>n)break;let d=s[h];d||(d=[],s[h]=d),d.push(((a+u)*t+(a+c))*4+3),u>0&&d.push(((a-u)*t+(a+c))*4+3),c>0&&(d.push(((a+u)*t+(a-c))*4+3),u>0&&d.push(((a-u)*t+(a-c))*4+3))}const r=[];for(let u=0,c=s.length;u<c;++u)s[u]&&r.push(...s[u]);return Df[a]=r,r}const Jn=.5;function eR(a,t,n,s,r,u,c,h,d){const _=r,m=a[0]*Jn,y=a[1]*Jn,v=_e(m,y);v.imageSmoothingEnabled=!1;const S=v.canvas,x=new CT(v,Jn,r,null,c,h,null),b=n.length,T=Math.floor((256*256*256-1)/b),A={};for(let N=1;N<=b;++N){const L=n[N-1],O=L.getStyleFunction()||s;if(!O)continue;let j=O(L,u);if(!j)continue;Array.isArray(j)||(j=[j]);const Z=(N*T).toString(16).padStart(7,"#00000");for(let U=0,K=j.length;U<K;++U){const it=j[U],st=it.getGeometryFunction()(L);if(!st||!Pe(_,st.getExtent()))continue;const rt=it.clone(),$=rt.getFill();$&&$.setColor(Z);const dt=rt.getStroke();dt&&(dt.setColor(Z),dt.setLineDash(null)),rt.setText(void 0);const X=it.getImage();if(X){const C=X.getImageSize();if(!C)continue;const Y=_e(C[0],C[1],void 0,{alpha:!1}),F=Y.canvas;Y.fillStyle=Z,Y.fillRect(0,0,F.width,F.height),rt.setImage(new ha({img:F,anchor:X.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:X.getOrigin(),opacity:1,size:X.getSize(),scale:X.getScale(),rotation:X.getRotation(),rotateWithView:X.getRotateWithView()}))}const Q=rt.getZIndex()||0;let W=A[Q];W||(W={},A[Q]=W,W.Polygon=[],W.Circle=[],W.LineString=[],W.Point=[]);const et=st.getType();if(et==="GeometryCollection"){const C=st.getGeometriesArrayRecursive();for(let Y=0,F=C.length;Y<F;++Y){const tt=C[Y];W[tt.getType().replace("Multi","")].push(tt,rt)}}else W[et.replace("Multi","")].push(st,rt)}}const w=Object.keys(A).map(Number).sort(wi);for(let N=0,L=w.length;N<L;++N){const O=A[w[N]];for(const j in O){const V=O[j];for(let Z=0,U=V.length;Z<U;Z+=2){x.setStyle(V[Z+1]);for(let K=0,it=t.length;K<it;++K)x.setTransform(t[K]),x.drawGeometry(V[Z])}}}return v.getImageData(0,0,S.width,S.height)}function nR(a,t,n){const s=[];if(n){const r=Math.floor(Math.round(a[0])*Jn),u=Math.floor(Math.round(a[1])*Jn),c=(ie(r,0,n.width-1)+ie(u,0,n.height-1)*n.width)*4,h=n.data[c],d=n.data[c+1],m=n.data[c+2]+256*(d+256*h),y=Math.floor((256*256*256-1)/t.length);m&&m%y===0&&s.push(t[m/y-1])}return s}class iR extends zp{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Rn(),this.wrappedRenderedExtent_=Rn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const r=n.extent,u=n.viewState,c=u.center,h=u.resolution,d=u.projection,_=u.rotation,m=d.getExtent(),y=this.getLayer().getSource(),v=this.getLayer().getDeclutter(),S=n.pixelRatio,x=n.viewHints,b=!(x[Me.ANIMATING]||x[Me.INTERACTING]),T=this.context,A=Math.round(Ut(r)/h*S),w=Math.round(Ue(r)/h*S),N=y.getWrapX()&&d.canWrapX(),L=N?Ut(m):null,O=N?Math.ceil((r[2]-m[2])/L)+1:1;let j=N?Math.floor((r[0]-m[0])/L):0;do{let V=this.getRenderTransform(c,h,0,S,A,w,j*L);n.declutter&&(V=V.slice(0)),t.execute(T,[T.canvas.width,T.canvas.height],V,_,b,s===void 0?Ql:s?Hp:JT,s?v&&n.declutter[v]:void 0)}while(++j<O)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=_e(this.context.canvas.width,this.context.canvas.height,gy))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Zu(this.context),gy.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.viewState;this.prepareContainer(t,n);const u=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(Sn.PRERENDER)||this.getLayer().hasListener(Sn.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(u,t),r.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const d=us(s.extent);h=Pe(d,t.extent),this.clipped_=h&&!Vl(d,t.extent),this.clipped_&&this.clipUnrotated(u,t,d)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&u.restore(),this.postRender(u,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),r=this.renderedCenter_,u=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,_=this.getLayer(),m=[],y=s[0]*Jn,v=s[1]*Jn;m.push(this.getRenderTransform(r,u,c,Jn,y,v,0).slice());const S=_.getSource(),x=h.getExtent();if(S.getWrapX()&&h.canWrapX()&&!Vl(x,d)){let b=d[0];const T=Ut(x);let A=0,w;for(;b<x[0];)--A,w=T*A,m.push(this.getRenderTransform(r,u,c,Jn,y,v,w).slice()),b+=T;for(A=0,b=d[2];b>x[2];)++A,w=T*A,m.push(this.getRenderTransform(r,u,c,Jn,y,v,w).slice()),b-=T}this.hitDetectionImageData_=eR(s,m,this.renderedFeatures_,_.getStyleFunction(),d,u,c,yy(u,this.renderedPixelRatio_))}n(nR(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,r,u){var v,S;if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,d=this.getLayer(),_={},m=function(x,b,T){const A=It(x),w=_[A];if(w){if(w!==!0&&T<w.distanceSq){if(T===0)return _[A]=!0,u.splice(u.lastIndexOf(w),1),r(x,d,b);w.geometry=b,w.distanceSq=T}}else{if(T===0)return _[A]=!0,r(x,d,b);u.push(_[A]={feature:x,layer:d,geometry:b,distanceSq:T,callback:r})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,m,y?(S=(v=n.declutter)==null?void 0:v[y])==null?void 0:S.all().map(x=>x.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const r=t.viewHints[Me.ANIMATING],u=t.viewHints[Me.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&r||!h&&u)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,_=t.viewState,m=_.projection,y=_.resolution,v=t.pixelRatio,S=n.getRevision(),x=n.getRenderBuffer();let b=n.getRenderOrder();b===void 0&&(b=AT);const T=_.center.slice(),A=Qf(d,x*y),w=A.slice(),N=[A.slice()],L=m.getExtent();if(s.getWrapX()&&m.canWrapX()&&!Vl(L,t.extent)){const $=Ut(L),dt=Math.max(Ut(A)/2,$);A[0]=L[0]-dt,A[2]=L[2]+dt,ky(T,m);const X=Xy(N[0],m);X[0]<L[0]&&X[2]<L[2]?N.push([X[0]+$,X[1],X[2]+$,X[3]]):X[0]>L[0]&&X[2]>L[2]&&N.push([X[0]-$,X[1],X[2]-$,X[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==S&&this.renderedRenderOrder_==b&&this.renderedFrameDeclutter_===!!t.declutter&&Vl(this.wrappedRenderedExtent_,A))return _s(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const O=new KT(kp(y,v),A,y,v);let j;for(let $=0,dt=N.length;$<dt;++$)s.loadFeatures(N[$],y,m);const V=yy(y,v);let Z=!0;const U=($,dt)=>{let X;const Q=$.getStyleFunction()||n.getStyleFunction();if(Q&&(X=Q($,y)),X){const W=this.renderFeature($,V,X,O,j,this.getLayer().getDeclutter(),dt);Z=Z&&!W}},K=Wy(A),it=s.getFeaturesInExtent(K);b&&it.sort(b);for(let $=0,dt=it.length;$<dt;++$)U(it[$],$);this.renderedFeatures_=it,this.ready=Z;const st=O.finish(),rt=new $T(A,y,v,s.getOverlaps(),st,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=S,this.renderedRenderOrder_=b,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=w,this.wrappedRenderedExtent_=A,this.renderedCenter_=T,this.renderedProjection_=m,this.renderedPixelRatio_=v,this.replayGroup_=rt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,r,u,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let _=0,m=s.length;_<m;++_)d=py(r,t,s[_],n,this.boundHandleStyleImageChange_,u,c,h)||d;else d=py(r,t,s,n,this.boundHandleStyleImageChange_,u,c,h);return d}}class sR extends bp{constructor(t){super(t)}createRenderer(){return new iR(this)}}const Ae={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class lR extends Xn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+jS,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Ae.ELEMENT,this.handleElementChanged),this.addChangeListener(Ae.MAP,this.handleMapChanged),this.addChangeListener(Ae.OFFSET,this.handleOffsetChanged),this.addChangeListener(Ae.POSITION,this.handlePositionChanged),this.addChangeListener(Ae.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(Ae.ELEMENT)}getId(){return this.id}getMap(){return this.get(Ae.MAP)||null}getOffset(){return this.get(Ae.OFFSET)}getPosition(){return this.get(Ae.POSITION)}getPositioning(){return this.get(Ae.POSITIONING)}handleElementChanged(){lp(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){var n;this.mapPostrenderListenerKey&&((n=this.element)==null||n.remove(),jt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=wt(t,bi.POSTRENDER,this.render,this),this.updatePixelPosition();const s=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?s.insertBefore(this.element,s.childNodes[0]||null):s.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(Ae.ELEMENT,t)}setMap(t){this.set(Ae.MAP,t)}setOffset(t){this.set(Ae.OFFSET,t)}setPosition(t){this.set(Ae.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Ae.POSITION))return;const s=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),u=this.getRect(r,[KS(r),VS(r)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!Vl(s,u)){const h=u[0]-s[0],d=s[2]-u[2],_=u[1]-s[1],m=s[3]-u[3],y=[0,0];if(h<0?y[0]=h-c:d<0&&(y[0]=Math.abs(d)+c),_<0?y[1]=_-c:m<0&&(y[1]=Math.abs(m)+c),y[0]!==0||y[1]!==0){const v=n.getView().getCenterInternal(),S=n.getPixelFromCoordinateInternal(v);if(!S)return;const x=[S[0]+y[0],S[1]+y[1]],b=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(x),duration:b.duration,easing:b.easing})}}}getRect(t,n){const s=t.getBoundingClientRect(),r=s.left+window.pageXOffset,u=s.top+window.pageYOffset;return[r,u,r+n[0],u+n[1]]}setPositioning(t){this.set(Ae.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(s,r)}updateRenderedPosition(t,n){const s=this.element.style,r=this.getOffset(),u=this.getPositioning();this.setVisible(!0);const c=Math.round(t[0]+r[0])+"px",h=Math.round(t[1]+r[1])+"px";let d="0%",_="0%";u=="bottom-right"||u=="center-right"||u=="top-right"?d="-100%":(u=="bottom-center"||u=="center-center"||u=="top-center")&&(d="-50%"),u=="bottom-left"||u=="bottom-center"||u=="bottom-right"?_="-100%":(u=="center-left"||u=="center-center"||u=="center-right")&&(_="-50%");const m=`translate(${d}, ${_}) translate(${c}, ${h})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,s.transform=m)}getOptions(){return this.options}}const by=[{name:"Amazon Office",coordinates:[-122.338356,47.615257]},{name:"Netflix Office",coordinates:[-118.318907,34.0977378]}],aR=()=>{const a=In.useRef(null),t=In.useRef(new kT),n=In.useRef(null),[s,r]=In.useState(null),[u,c]=In.useState(null),[h,d]=In.useState(!1),_=In.useRef(null),m=In.useRef(null),y=In.useRef(null);In.useEffect(()=>{if(!a.current)return;const T=new I2({target:a.current,layers:[new nT({source:new xT})],view:new Qn({center:I0(by[0].coordinates),zoom:5})});n.current=T;const A=new sR({source:t.current});T.addLayer(A),by.forEach(N=>v(N.name,N.coordinates));const w=new lR({element:_.current,positioning:"top-center",stopEvent:!1,offset:[0,-20]});return T.addOverlay(w),y.current=w,T.on("singleclick",N=>{const L=T.forEachFeatureAtPixel(N.pixel,O=>O);if(L&&L.get("name")){const O=L.getGeometry().getCoordinates();w.setPosition(O),m.current&&(m.current.innerText=L.get("name")),_.current.style.display="block"}else _.current.style.display="none"}),T.on("dblclick",N=>{N.preventDefault();const L=dS(N.coordinate),O=prompt("Enter dot name:");O&&v(O,L)}),()=>{T.setTarget(void 0)}},[]);const v=(T,A)=>{const w=new Rr({geometry:new ta(I0(A))});w.setStyle(new ei({image:new ha({src:"https://upload.wikimedia.org/wikipedia/commons/e/ec/RedDot.svg",scale:.6})})),w.set("name",T),t.current.addFeature(w)},S=()=>{if(!n.current)return;const T=t.current.getFeatures().filter(N=>N.get("name"));if(T.length<2){alert("Please add at least 2 points to create a flight path!");return}s&&(t.current.removeFeature(s),r(null)),u&&(t.current.removeFeature(u),c(null));const A=T.map(N=>N.getGeometry().getCoordinates()),w=new Rr({geometry:new Au(A)});w.setStyle(new ei({stroke:new Hr({color:"blue",width:2})})),t.current.addFeature(w),r(w),x(A[0])},x=T=>{const A=new Rr({geometry:new ta(T)});A.setStyle(new ei({image:new ha({src:"https://upload.wikimedia.org/wikipedia/commons/0/01/Airplane_silhouette_45degree_angle.svg",scale:.1})})),t.current.addFeature(A),c(A)},b=()=>{if(!n.current||!s||!u){alert("Create a flight path first!");return}const T=s.getGeometry().getCoordinates();if(T.length<2){alert("Not enough unique points to animate.");return}let A=0;const w=5e3,N=100,L=w/T.length;d(!0);const O=(V,Z,U)=>[V[0]+(Z[0]-V[0])*U,V[1]+(Z[1]-V[1])*U],j=(V,Z,U=0)=>{if(U>N){A++,A<T.length-1?j(T[A],T[A+1]):setTimeout(()=>{t.current.removeFeature(u),t.current.removeFeature(s),c(null),r(null),d(!1)},1e3);return}const K=U/N;u.setGeometry(new ta(O(V,Z,K))),setTimeout(()=>j(V,Z,U+1),L/N)};j(T[0],T[1])};return sn.jsxs("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[sn.jsx("h2",{children:" OpenLayers React Map (TSX) - Realistic Flight Animation"}),sn.jsx("p",{children:" Double-click to add a new point!"}),sn.jsx("p",{children:' Click "Create Flight Path" to draw a route!'}),sn.jsx("p",{children:' Click "Start Flight" to animate the airplane smoothly!'}),sn.jsxs("div",{style:{display:"flex",gap:5,paddingBottom:5},children:[sn.jsx("button",{disabled:h,onClick:S,children:"Create Flight Path"}),sn.jsx("button",{disabled:h,onClick:b,children:"Start Flight"})]}),sn.jsx("div",{ref:a,style:{width:"100%",height:"80vh"}}),sn.jsx("div",{ref:_,children:sn.jsx("div",{ref:m})})]})};hE.createRoot(document.getElementById("root")).render(sn.jsx(In.StrictMode,{children:sn.jsx(aR,{})}));
